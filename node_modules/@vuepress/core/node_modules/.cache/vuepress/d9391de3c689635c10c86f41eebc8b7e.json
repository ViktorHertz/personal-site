{"remainingRequest":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\CodingForFun\\Vue\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodingForFun\\Vue\\gaosen\\docs\\.vuepress\\components\\Chess1.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\CodingForFun\\Vue\\gaosen\\docs\\.vuepress\\components\\Chess1.vue","mtime":1653315016004},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\babel-loader\\lib\\index.js","mtime":1648514420186},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\index.js","mtime":1648514420515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0NvZGluZ0ZvckZ1bi9WdWUvZ2Fvc2VuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoZXNzIiwKICBwcm9wczogewogICAgZGlzcGxheUNoZXNzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAvLzMKICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgLy8xMgogICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXQogICAgfSwKICAgIHBsYXllclNpZGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIGlzU2VsZWN0TWFjaGluZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAiZGVmYXVsdCI6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHRlc3Q6IFtdLAogICAgICBJTl9CT0FSRF86IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwKICAgICAgSU5fRk9SVF86IFsvL+i+heWKqeaVsOe7hO+8jOagh+ivhuaYr+WQpuWcqOS5neWuq+WGhQogICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwKICAgICAgZGlzcGxheUNoZXNzVGVtcDogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsIC8vMwogICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAvLzEyCiAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLAogICAgICBGRU46ICdybmJha2FibnIvOS8xYzVjMS9wMXAxcDFwMXAvOS85L1AxUDFQMVAxUC8xQzVDMS85L1JOQkFLQUJOUicsCiAgICAgIEZFTkFycmF5OiBbXSwKICAgICAgdXNlcklucHV0RkVOOiAnJywKICAgICAgdXNlcklucHV0OiAnJywKICAgICAgc3FTZWxlY3RlZDogMCwKICAgICAgLy/pvKDmoIfmmK/lkKbpgInkuK3kuIDmo4vlrZAKICAgICAgY3VycmVudENoZXNzOiAnJywKICAgICAgLy/lvZPliY3pgInkuK3nmoTmo4vlrZDvvIznmoTpppblrZfmr40sCiAgICAgIGRpc3BsYXlDaGVzc19PbGQ6IFtdLAogICAgICBpc0hhdmVLX3c6IGZhbHNlLAogICAgICBpc0hhdmVLX2I6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGltZ0RvbUFycjogZnVuY3Rpb24gaW1nRG9tQXJyKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LmltZ0JveCBpbWcnKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkaXNwbGF5Q2hlc3M6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwsIG9sZFZhbCkgewogICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgIHRoaXMuZGlzcGxheUNoZXNzX09sZCA9IG9sZFZhbC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlzcGxheUNoZXNzVGVtcCA9IHZhbC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZHJhd1dpdGhTcSgpOyAvL+e7mOWItuaji+ebmAogICAgICB9IC8vIGRlZXA6IHRydWUKCiAgICB9LAogICAgcGxheWVyU2lkZTogZnVuY3Rpb24gcGxheWVyU2lkZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc2tpbGwsIGRvbUFyciwgZG9tMSwgZG9tMjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISghbmV3VmFsICYmIF90aGlzLmlzU2VsZWN0TWFjaGluZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm1hY2hpbmVfcGFzc2l2ZVNraWxscygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBza2lsbCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHNraWxsID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+inpuWPkeiiq+WKqOaKgOiDve+8muWFtee6v+WIt+aWsCcpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChza2lsbCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfop6blj5HooqvliqjmioDog73vvJrmm7/niLbku47lhpsnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2tpbGwgPT09IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uud2FybmluZygn6Kem5Y+R6KKr5Yqo5oqA6IO977ya6I2J5pyo55qG5YW1Jyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNraWxsID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIC8vIGxldCBkb20xID0gJCgnI3BvczgnKQogICAgICAgICAgICAgICAgICBkb21BcnIgPSBfdGhpcy5tYWNoaW5lX2dldFBjVG9CZU1vdmVkKCkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBkb20xID0gZG9tQXJyWzBdOyAvLyBsZXQgZG9tMiA9IHRoaXMubWFjaGluZV9nZXRTdGVwcyhkb20xKVswXQogICAgICAgICAgICAgICAgICAvLyBsZXQgZG9tMiA9IHRoaXMubWFjaGluZV9nZXRFeGFjdFN0ZXAoZG9tMSkKCiAgICAgICAgICAgICAgICAgIGRvbTIgPSBkb21BcnJbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnlLXohJHnp7vliqjkuoYnICsgX3RoaXMuSW1nTmFtZVRvQ2hlc3NOYW1lKGRvbTEuYXR0cignc3JjJykuc2xpY2UoMTEsIDEyKSkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMubWFjaGluZU1vdmUoZG9tMSwgZG9tMik7IC8vIGNvbnNvbGUubG9nKGRvbTEpOwogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb20yKTsKICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5tYWNoaW5lX2dldFN0ZXBzKGRvbTEpKTsKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAvLyBjb25zdCBjc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7CiAgICAvLyBjc3MucmVsID0gJ3N0eWxlc2hlZXQnOwogICAgLy8gY3NzLmhyZWYgPSAnaHR0cHM6Ly9jZG4ucmVwb3NpdG9yeS53ZWJmb250LmNvbS93ZWJmb250cy9ub21hbC8xNDg0MDcvNDY0ODkvNjI1NDA3YWFmNjI5ZDgxMzAwYWMxOWIzLmNzcyc7CiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNzcyk7CiAgICB0aGlzLmluaXRCb2FyZCgpOwogICAgLyrmr4/kuKppbWfnu5HlrprkuIDkuKrngrnlh7vkuovku7YqLwoKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5pbWdCb3ggaW1nJykuZm9yRWFjaChmdW5jdGlvbiAoZSwgaW5kZXgpIHsKICAgICAgZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSwgaW5kZXgpIHsKICAgICAgICB2YXIgZmlsZU5hbWUgPSBlLnRhcmdldC5zcmMuc2xpY2UoMzIsIDMzKTsgLy8gY29uc29sZS5sb2coZmlsZU5hbWUpOwoKICAgICAgICB2YXIgYWxlcnRTdHIgPSBfdGhpczIuSW1nTmFtZVRvQ2hlc3NOYW1lKGZpbGVOYW1lKTsKCiAgICAgICAgdmFyIGltZ0luZGV4ID0gcGFyc2VJbnQoZS50YXJnZXQuaWQuc2xpY2UoMykpICsgMTsgLy8gY29uc29sZS5sb2coaW1nSW5kZXgpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGlzcGxheUNoZXNzVGVtcCk7CgogICAgICAgIHZhciBjaGVzc0luZm8gPSB7CiAgICAgICAgICAvL+aji+WtkOeahOS4gOS6m+S/oeaBrwogICAgICAgICAgZGlzcGxheUNoZXNzOiBfdGhpczIuZGlzcGxheUNoZXNzVGVtcCwKICAgICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZSwKICAgICAgICAgIGltZ0luZGV4OiBpbWdJbmRleCwKICAgICAgICAgIHNxU2VsZWN0ZWQ6IF90aGlzMi5pbWdJbmRleFRvU3EoaW1nSW5kZXgpCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMyLmNoZXNzMUNsaWNrKGNoZXNzSW5mbyk7CiAgICAgICAgLyrnlKjmiLfmr4/mrKHngrnlh7vmo4vlrZDlupTor6XlsIbor6Xmo4vlrZDlgqjlrZjliLDlvZPliY3mo4vlrZBjdXJyZW50Q2hlc3MqLwogICAgICAgIC8vIHRoaXMuY3VycmVudENoZXNzID0gZmlsZU5hbWUKICAgICAgICAvLyBpZih0aGlzLnNxU2VsZWN0ZWQpIHsKICAgICAgICAvLyAgIGlmKHRoaXMuY3VycmVudENoZXNzICE9ICdVJykgewogICAgICAgIC8vICAgICBjb25zb2xlLmxvZygn5LiK5qyh54K55Ye755qE5piv56m655m95aSEJyk7CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQoKICAgICAgfSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8q55S16ISR6LWw5qOLDQogICAgKiBkb20655S16ISR5pON5o6n5qih5ouf6byg5qCH54K55Ye75aSE55qEZG9t5a+56LGhKOWunumZheS4iuaYr+iwg+eUqOS6hmNoZXNzMUNsaWNr5Ye95pWw77yM5rKh5pyJ54K55Ye7KQ0KICAgICogMeS7o+ihqOi1t+eCue+8jDLku6Pooajnu4jngrkNCiAgICAqIOWunueOsOaViOaenOS4uuaji+WtkOenu+WKqA0KICAgICogKi8KICAgIG1hY2hpbmVNb3ZlOiBmdW5jdGlvbiBtYWNoaW5lTW92ZShkb20xLCBkb20yKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZpbGVOYW1lMSA9IGRvbTEuYXR0cignc3JjJykuc2xpY2UoMTEsIDEyKTsKICAgICAgdmFyIGltZ0luZGV4MSA9IHBhcnNlSW50KGRvbTEuYXR0cignaWQnKS5zbGljZSgzKSkgKyAxOwogICAgICB2YXIgY2hlc3NJbmZvMSA9IHsKICAgICAgICAvL+aji+WtkOeahOS4gOS6m+S/oeaBrwogICAgICAgIGRpc3BsYXlDaGVzczogdGhpcy5kaXNwbGF5Q2hlc3NUZW1wLAogICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZTEsCiAgICAgICAgaW1nSW5kZXg6IGltZ0luZGV4MSwKICAgICAgICBzcVNlbGVjdGVkOiB0aGlzLmltZ0luZGV4VG9TcShpbWdJbmRleDEpCiAgICAgIH07CiAgICAgIHRoaXMuY2hlc3MxQ2xpY2soY2hlc3NJbmZvMSk7IC8v55u45b2T5LqO6byg5qCH54K55Ye75LqGcG9zMOi9pueahOS9jee9rgoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGZpbGVOYW1lMiA9IGRvbTIuYXR0cignc3JjJykuc2xpY2UoMTEsIDEyKTsKICAgICAgICB2YXIgaW1nSW5kZXgyID0gcGFyc2VJbnQoZG9tMi5hdHRyKCdpZCcpLnNsaWNlKDMpKSArIDE7CiAgICAgICAgdmFyIGNoZXNzSW5mbzIgPSB7CiAgICAgICAgICAvL+aji+WtkOeahOS4gOS6m+S/oeaBrwogICAgICAgICAgZGlzcGxheUNoZXNzOiBfdGhpczMuZGlzcGxheUNoZXNzVGVtcCwKICAgICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZTIsCiAgICAgICAgICBpbWdJbmRleDogaW1nSW5kZXgyLAogICAgICAgICAgc3FTZWxlY3RlZDogX3RoaXMzLmltZ0luZGV4VG9TcShpbWdJbmRleDIpCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMzLmNoZXNzMUNsaWNrKGNoZXNzSW5mbzIpOwogICAgICB9LCA1MDApOwogICAgfSwKCiAgICAvKuagueaNrui+k+WFpeeahOaji+WtkGRvbeWvueixoe+8jOi/lOWbnuivpeaji+WtkOaJgOacieWPr+iDveeahOS4i+S4gOatpei1sOazle+8iGFycmF55Z6L77yM5L2G5pWw57uE5YWD57Sg5Li6ZG9t5a+56LGh77yJKi8KICAgIG1hY2hpbmVfZ2V0U3RlcHM6IGZ1bmN0aW9uIG1hY2hpbmVfZ2V0U3RlcHMoZG9tLCBhcnIpIHsKICAgICAgLy8gY29uc29sZS5sb2coYXJyKTsKICAgICAgaWYgKGFyciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHN0ZXAgPSBbXTsKICAgICAgICB2YXIgZmlsZU5hbWUgPSBkb20uYXR0cignc3JjJykuc2xpY2UoMTEsIDEyKTsKICAgICAgICB2YXIgc3FTcmMgPSB0aGlzLmltZ0luZGV4VG9TcShwYXJzZUludChkb20uYXR0cignaWQnKS5zbGljZSgzKSkgKyAxKTsgLy/ojrflj5bkuIDnu7TlnZDmoIcKCiAgICAgICAgc3dpdGNoIChmaWxlTmFtZSkgewogICAgICAgICAgY2FzZSAnayc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgS0lOR19ERUxUQSA9IFstMTYsIC0xLCAxLCAxNl07CgogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gS0lOR19ERUxUQSkgewogICAgICAgICAgICAgICAgLy8g5bCG55qENOS4quaWueWQkQogICAgICAgICAgICAgICAgdmFyIHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrlj6/og73nmoTnu4jngrnkvY3nva4KCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7CiAgICAgICAgICAgICAgICAgIC8v57uI54K55aSE5LiN5Zyo5qOL55uY5YaFCiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChhcnJbc3FEc3RdIDwgMTYgJiYgdGhpcy5JTl9GT1JUKHNxRHN0KSkgewogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkO+8jOS4lOe7iOeCueWcqOS5neWuq+agvOWGhQogICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpOwogICAgICAgICAgICAgICAgICB2YXIgaW1nSW5kZXggPSBzcURzdCAtIDcgKiByb3cgLSAyOSAtIDE7CiAgICAgICAgICAgICAgICAgIHZhciBkb21UZW1wID0gJCgnI3BvcycgKyBpbWdJbmRleCk7CiAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnYSc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgQURWSVNPUl9ERUxUQSA9IFstMTUsIC0xNywgMTcsIDE1XTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2kgaW4gQURWSVNPUl9ERUxUQSkgewogICAgICAgICAgICAgICAgdmFyIF9zcURzdCA9IHNxU3JjICsgQURWSVNPUl9ERUxUQVtfaV07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rgoKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoX3NxRHN0KSkgewogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhe+8jOaIluS4jeWcqOS5neWuq+agvOWGhQogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdF0gPCAxNiAmJiB0aGlzLklOX0ZPUlQoX3NxRHN0KSkgewogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkCzkuJTnu4jngrnlnKjkuZ3lrqvmoLzlhoUKICAgICAgICAgICAgICAgICAgdmFyIF9yb3cgPSB0aGlzLlJBTktfWShfc3FEc3QpOwoKICAgICAgICAgICAgICAgICAgdmFyIF9pbWdJbmRleCA9IF9zcURzdCAtIDcgKiBfcm93IC0gMjkgLSAxOwoKICAgICAgICAgICAgICAgICAgdmFyIF9kb21UZW1wID0gJCgnI3BvcycgKyBfaW1nSW5kZXgpOwoKICAgICAgICAgICAgICAgICAgc3RlcC5wdXNoKF9kb21UZW1wKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgQklTSE9QX0RFTFRBID0gWy0zNCwgLTMwLCAzMCwgMzRdOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgaW4gQklTSE9QX0RFTFRBKSB7CiAgICAgICAgICAgICAgICB2YXIgX3NxRHN0MiA9IHNxU3JjICsgQklTSE9QX0RFTFRBW19pMl07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rgoKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoX3NxRHN0MikgfHwgIXRoaXMuU0FNRV9IQUxGKHNxU3JjLCBfc3FEc3QyKSB8fCBhcnJbKHNxU3JjICsgX3NxRHN0MikgLyAyXSA+IDEpIHsKICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITkuI3lnKjmo4vnm5jlhoUs5oiW6L+H5rKzLOaIluixoeecvOaXoOaji+WtkAogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdDJdIDwgMTYpIHsKICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjpu5HmlrnvvInmo4vlrZAKICAgICAgICAgICAgICAgICAgdmFyIF9yb3cyID0gdGhpcy5SQU5LX1koX3NxRHN0Mik7CgogICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4MiA9IF9zcURzdDIgLSA3ICogX3JvdzIgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgICB2YXIgX2RvbVRlbXAyID0gJCgnI3BvcycgKyBfaW1nSW5kZXgyKTsKCiAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhciBfS0lOR19ERUxUQSA9IFstMTYsIC0xLCAxLCAxNl07CiAgICAgICAgICAgICAgdmFyIEtOSUdIVF9ERUxUQSA9IFtbLTMzLCAtMzFdLCBbLTE4LCAxNF0sIFstMTQsIDE4XSwgWzMxLCAzM11dOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfaTMgaW4gS05JR0hUX0RFTFRBKSB7CiAgICAgICAgICAgICAgICAvLyDpqazohb/nmoQ05Liq5pa55ZCRCiAgICAgICAgICAgICAgICB2YXIgX3NxRHN0MyA9IHNxU3JjICsgX0tJTkdfREVMVEFbX2kzXTsgLy8g5b6X5Yiw5LiA5Liq6ams6IW/55qE5L2N572uCgoKICAgICAgICAgICAgICAgIGlmIChhcnJbX3NxRHN0M10gPiAxKSB7CiAgICAgICAgICAgICAgICAgIC8v6ams6ISa5aSE5pyJ5qOL5a2QCiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKSB7CiAgICAgICAgICAgICAgICAgIC8vIDHkuKrpqazohb/lr7nlupQy5Liq6ams55qE5pa55ZCRCiAgICAgICAgICAgICAgICAgIF9zcURzdDMgPSBzcVNyYyArIEtOSUdIVF9ERUxUQVtfaTNdW2pdOyAvLyDlvpfliLDkuIDkuKrpqaznmoTlj6/og73nmoTnu4jngrnkvY3nva4KCiAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5JTl9CT0FSRChfc3FEc3QzKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdDNdIDwgMTYpIHsKICAgICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkAogICAgICAgICAgICAgICAgICAgIHZhciBfcm93MyA9IHRoaXMuUkFOS19ZKF9zcURzdDMpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4MyA9IF9zcURzdDMgLSA3ICogX3JvdzMgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgICAgIHZhciBfZG9tVGVtcDMgPSAkKCcjcG9zJyArIF9pbWdJbmRleDMpOwoKICAgICAgICAgICAgICAgICAgICBzdGVwLnB1c2goX2RvbVRlbXAzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlICdyJzoKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhciBfS0lOR19ERUxUQTIgPSBbLTE2LCAtMSwgMSwgMTZdOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCA0OyBfaTQrKykgewogICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gX0tJTkdfREVMVEEyW19pNF07IC8vIOW+l+WIsOS4gOS4quaWueWQkQoKICAgICAgICAgICAgICAgIHZhciBfc3FEc3Q0ID0gc3FTcmMgKyBkZWx0YTsgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQoKCiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5JTl9CT0FSRChfc3FEc3Q0KSkgewogICAgICAgICAgICAgICAgICAvL+WcqOaji+ebmOS4igogICAgICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdDRdIDwgMTYpIHsKICAgICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkCzmiJbmnInnuqLmlrnmo4vlrZAKICAgICAgICAgICAgICAgICAgICB2YXIgX3JvdzQgPSB0aGlzLlJBTktfWShfc3FEc3Q0KTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbWdJbmRleDQgPSBfc3FEc3Q0IC0gNyAqIF9yb3c0IC0gMjkgLSAxOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2RvbVRlbXA0ID0gJCgnI3BvcycgKyBfaW1nSW5kZXg0KTsKCiAgICAgICAgICAgICAgICAgICAgc3RlcC5wdXNoKF9kb21UZW1wNCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChhcnJbX3NxRHN0NF0gPj0gOCkgewogICAgICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmnInlr7nmlrnvvIjnuqLmlrnvvInmo4vlrZAKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgX3NxRHN0NCArPSBkZWx0YTsgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnYyc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgX0tJTkdfREVMVEEzID0gWy0xNiwgLTEsIDEsIDE2XTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgNDsgX2k1KyspIHsKICAgICAgICAgICAgICAgIHZhciBfZGVsdGEgPSBfS0lOR19ERUxUQTNbX2k1XTsgLy8g5b6X5Yiw5LiA5Liq5pa55ZCRCgogICAgICAgICAgICAgICAgdmFyIF9zcURzdDUgPSBzcVNyYyArIF9kZWx0YTsgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQoKCiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5JTl9CT0FSRChfc3FEc3Q1KSkgewogICAgICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdDVdID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZAKICAgICAgICAgICAgICAgICAgICB2YXIgX3JvdzUgPSB0aGlzLlJBTktfWShfc3FEc3Q1KTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbWdJbmRleDUgPSBfc3FEc3Q1IC0gNyAqIF9yb3c1IC0gMjkgLSAxOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2RvbVRlbXA1ID0gJCgnI3BvcycgKyBfaW1nSW5kZXg1KTsKCiAgICAgICAgICAgICAgICAgICAgc3RlcC5wdXNoKF9kb21UZW1wNSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g57uI54K55a2Y5Zyo5qOL5a2Q77yM54Ku6ZyA6KaB57+75bGxCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9zcURzdDUgKz0gX2RlbHRhOyAvLyDmsr/nnYDmlrnlkJFkZWx0YeWQkeWJjei1sOS4gOatpQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9zcURzdDUgKz0gX2RlbHRhOyAvLyDmsr/nnYDmlrnlkJFkZWx0YeWQkeWJjei1sOS4gOatpQoKICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKF9zcURzdDUpKSB7CiAgICAgICAgICAgICAgICAgIC8vIOWmguaenHNxRHN05LuN5L2N5LqO5qOL55uY77yM6YKj5LmI5q2k5pe254Ku5bey57uP57+75bGx5LqGCiAgICAgICAgICAgICAgICAgIGlmIChhcnJbX3NxRHN0NV0gPj0gOCAmJiBhcnJbX3NxRHN0NV0gPCAxNikgewogICAgICAgICAgICAgICAgICAgIC8v57uI54K55aSE5piv57qi5pa55qOL5a2QCiAgICAgICAgICAgICAgICAgICAgdmFyIF9yb3c2ID0gdGhpcy5SQU5LX1koX3NxRHN0NSk7CgogICAgICAgICAgICAgICAgICAgIHZhciBfaW1nSW5kZXg2ID0gX3NxRHN0NSAtIDcgKiBfcm93NiAtIDI5IC0gMTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9kb21UZW1wNiA9ICQoJyNwb3MnICsgX2ltZ0luZGV4Nik7CgogICAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDYpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfc3FEc3Q1ICs9IF9kZWx0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAncCc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgUEFXTl9kZWx0YSA9IFsxNiwgMSwgLTFdOyAvL+WFteS4gOW8gOWni+WPquiDveWQkeS4i+i1sCzov4fmsrPlkI7lj6/lkJHlt6Yv5Y+z6LWwCgogICAgICAgICAgICAgIHZhciBfc3FEc3Q2ID0gc3FTcmMgKyBQQVdOX2RlbHRhWzBdOwoKICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdDZdIDwgMTYpIHsKICAgICAgICAgICAgICAgIC8v57uI54K55aSE5LiN5piv6buR5pa55qOL5a2QCiAgICAgICAgICAgICAgICB2YXIgX3JvdzcgPSB0aGlzLlJBTktfWShfc3FEc3Q2KTsKCiAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4NyA9IF9zcURzdDYgLSA3ICogX3JvdzcgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgdmFyIF9kb21UZW1wNyA9ICQoJyNwb3MnICsgX2ltZ0luZGV4Nyk7CgogICAgICAgICAgICAgICAgc3RlcC5wdXNoKF9kb21UZW1wNyk7CiAgICAgICAgICAgICAgfSAvL+iLpeWFtei/h+ays+S6hijmraTlpITnmoQxMzHmmK/nu4/ov4forqHnrpflvpfliLDnmoTov4fmsrPkuLTnlYzlgLzvvIzkuJTnu4jngrnlnKjmo4vnm5jlhoUKCgogICAgICAgICAgICAgIGlmIChzcVNyYyA+PSB0aGlzLmRvbVRvU3EoJCgnI3BvczQ1JykpKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCAyOyBfaTYrKykgewogICAgICAgICAgICAgICAgICBfc3FEc3Q2ID0gc3FTcmMgKyBQQVdOX2RlbHRhW19pNiArIDFdOwogICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoX3NxRHN0NikpIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgaWYgKGFycltfc3FEc3Q2XSA8IDE2KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9yb3c4ID0gdGhpcy5SQU5LX1koX3NxRHN0Nik7CgogICAgICAgICAgICAgICAgICAgIHZhciBfaW1nSW5kZXg4ID0gX3NxRHN0NiAtIDcgKiBfcm93OCAtIDI5IC0gMTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9kb21UZW1wOCA9ICQoJyNwb3MnICsgX2ltZ0luZGV4OCk7CgogICAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgJ0snOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFyIF9LSU5HX0RFTFRBNCA9IFstMTYsIC0xLCAxLCAxNl07CgogICAgICAgICAgICAgIGZvciAodmFyIF9pNyBpbiBfS0lOR19ERUxUQTQpIHsKICAgICAgICAgICAgICAgIC8vIOWwhueahDTkuKrmlrnlkJEKICAgICAgICAgICAgICAgIHZhciBfc3FEc3Q3ID0gc3FTcmMgKyBfS0lOR19ERUxUQTRbX2k3XTsgLy8g5b6X5Yiw5LiA5Liq5Y+v6IO955qE57uI54K55L2N572uCgoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5JTl9CT0FSRChfc3FEc3Q3KSkgewogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhQogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShhcnJbX3NxRHN0N10gJiA4KSAmJiB0aGlzLklOX0ZPUlQoX3NxRHN0NykpIHsKICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjnuqLmlrnvvInmo4vlrZDvvIzkuJTnu4jngrnlnKjkuZ3lrqvmoLzlhoUKICAgICAgICAgICAgICAgICAgdmFyIF9yb3c5ID0gdGhpcy5SQU5LX1koX3NxRHN0Nyk7CgogICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4OSA9IF9zcURzdDcgLSA3ICogX3JvdzkgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgICB2YXIgX2RvbVRlbXA5ID0gJCgnI3BvcycgKyBfaW1nSW5kZXg5KTsKCiAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlICdBJzoKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhciBfQURWSVNPUl9ERUxUQSA9IFstMTUsIC0xNywgMTcsIDE1XTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2k4IGluIF9BRFZJU09SX0RFTFRBKSB7CiAgICAgICAgICAgICAgICB2YXIgX3NxRHN0OCA9IHNxU3JjICsgX0FEVklTT1JfREVMVEFbX2k4XTsgLy8g5b6X5Yiw5LiA5Liq5Y+v6IO955qE57uI54K55L2N572uCgoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5JTl9CT0FSRChfc3FEc3Q4KSkgewogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhe+8jOaIluS4jeWcqOS5neWuq+agvOWGhQogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShhcnJbX3NxRHN0OF0gJiA4KSAmJiB0aGlzLklOX0ZPUlQoX3NxRHN0OCkpIHsKICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjnuqLmlrnvvInmo4vlrZAs5LiU57uI54K55Zyo5Lmd5a6r5qC85YaFCiAgICAgICAgICAgICAgICAgIHZhciBfcm93MTAgPSB0aGlzLlJBTktfWShfc3FEc3Q4KTsKCiAgICAgICAgICAgICAgICAgIHZhciBfaW1nSW5kZXgxMCA9IF9zcURzdDggLSA3ICogX3JvdzEwIC0gMjkgLSAxOwoKICAgICAgICAgICAgICAgICAgdmFyIF9kb21UZW1wMTAgPSAkKCcjcG9zJyArIF9pbWdJbmRleDEwKTsKCiAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDEwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnQic6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgX0JJU0hPUF9ERUxUQSA9IFstMzQsIC0zMCwgMzAsIDM0XTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2k5IGluIF9CSVNIT1BfREVMVEEpIHsKICAgICAgICAgICAgICAgIHZhciBfc3FEc3Q5ID0gc3FTcmMgKyBfQklTSE9QX0RFTFRBW19pOV07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rgoKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoX3NxRHN0OSkgfHwgIXRoaXMuU0FNRV9IQUxGKHNxU3JjLCBfc3FEc3Q5KSB8fCBhcnJbKHNxU3JjICsgX3NxRHN0OSkgLyAyXSA+IDEpIHsKICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITkuI3lnKjmo4vnm5jlhoUs5oiW6L+H5rKzLOaIluixoeecvOaXoOaji+WtkAogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShhcnJbX3NxRHN0OV0gJiA4KSkgewogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOe6ouaWue+8ieaji+WtkAogICAgICAgICAgICAgICAgICB2YXIgX3JvdzExID0gdGhpcy5SQU5LX1koX3NxRHN0OSk7CgogICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4MTEgPSBfc3FEc3Q5IC0gNyAqIF9yb3cxMSAtIDI5IC0gMTsKCiAgICAgICAgICAgICAgICAgIHZhciBfZG9tVGVtcDExID0gJCgnI3BvcycgKyBfaW1nSW5kZXgxMSk7CgogICAgICAgICAgICAgICAgICBzdGVwLnB1c2goX2RvbVRlbXAxMSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgJ04nOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFyIF9LSU5HX0RFTFRBNSA9IFstMTYsIC0xLCAxLCAxNl07CiAgICAgICAgICAgICAgdmFyIF9LTklHSFRfREVMVEEgPSBbWy0zMywgLTMxXSwgWy0xOCwgMTRdLCBbLTE0LCAxOF0sIFszMSwgMzNdXTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2kxMCBpbiBfS05JR0hUX0RFTFRBKSB7CiAgICAgICAgICAgICAgICAvLyDpqazohb/nmoQ05Liq5pa55ZCRCiAgICAgICAgICAgICAgICB2YXIgX3NxRHN0MTAgPSBzcVNyYyArIF9LSU5HX0RFTFRBNVtfaTEwXTsgLy8g5b6X5Yiw5LiA5Liq6ams6IW/55qE5L2N572uCgoKICAgICAgICAgICAgICAgIGlmIChhcnJbX3NxRHN0MTBdID4gMSkgewogICAgICAgICAgICAgICAgICAvL+mprOiEmuWkhOacieaji+WtkAogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgMjsgX2orKykgewogICAgICAgICAgICAgICAgICAvLyAx5Liq6ams6IW/5a+55bqUMuS4qumprOeahOaWueWQkQogICAgICAgICAgICAgICAgICBfc3FEc3QxMCA9IHNxU3JjICsgX0tOSUdIVF9ERUxUQVtfaTEwXVtfal07IC8vIOW+l+WIsOS4gOS4qumprOeahOWPr+iDveeahOe7iOeCueS9jee9rgoKICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLklOX0JPQVJEKF9zcURzdDEwKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoIShhcnJbX3NxRHN0MTBdICYgOCkpIHsKICAgICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOe6ouaWue+8ieaji+WtkAogICAgICAgICAgICAgICAgICAgIHZhciBfcm93MTIgPSB0aGlzLlJBTktfWShfc3FEc3QxMCk7CgogICAgICAgICAgICAgICAgICAgIHZhciBfaW1nSW5kZXgxMiA9IF9zcURzdDEwIC0gNyAqIF9yb3cxMiAtIDI5IC0gMTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9kb21UZW1wMTIgPSAkKCcjcG9zJyArIF9pbWdJbmRleDEyKTsKCiAgICAgICAgICAgICAgICAgICAgc3RlcC5wdXNoKF9kb21UZW1wMTIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgJ1InOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFyIF9LSU5HX0RFTFRBNiA9IFstMTYsIC0xLCAxLCAxNl07CgogICAgICAgICAgICAgIGZvciAodmFyIF9pMTEgPSAwOyBfaTExIDwgNDsgX2kxMSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgX2RlbHRhMiA9IF9LSU5HX0RFTFRBNltfaTExXTsgLy8g5b6X5Yiw5LiA5Liq5pa55ZCRCgogICAgICAgICAgICAgICAgdmFyIF9zcURzdDExID0gc3FTcmMgKyBfZGVsdGEyOyAvLyDku47otbfngrlzcVNyY+W8gOWni++8jOayv+edgOaWueWQkWRlbHRh6LWw5LiA5q2lCgoKICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKF9zcURzdDExKSkgewogICAgICAgICAgICAgICAgICAvL+WcqOaji+ebmOS4igogICAgICAgICAgICAgICAgICBpZiAoIShhcnJbX3NxRHN0MTFdICYgOCkpIHsKICAgICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOe6ouaWue+8ieaji+WtkCzmiJbmnInnuqLmlrnmo4vlrZAKICAgICAgICAgICAgICAgICAgICB2YXIgX3JvdzEzID0gdGhpcy5SQU5LX1koX3NxRHN0MTEpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4MTMgPSBfc3FEc3QxMSAtIDcgKiBfcm93MTMgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgICAgIHZhciBfZG9tVGVtcDEzID0gJCgnI3BvcycgKyBfaW1nSW5kZXgxMyk7CgogICAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDEzKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGFycltfc3FEc3QxMV0gJiAxNikgewogICAgICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmnInlr7nmlrnvvIjpu5HmlrnvvInmo4vlrZAKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgX3NxRHN0MTEgKz0gX2RlbHRhMjsgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgX0tJTkdfREVMVEE3ID0gWy0xNiwgLTEsIDEsIDE2XTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2kxMiA9IDA7IF9pMTIgPCA0OyBfaTEyKyspIHsKICAgICAgICAgICAgICAgIHZhciBfZGVsdGEzID0gX0tJTkdfREVMVEE3W19pMTJdOyAvLyDlvpfliLDkuIDkuKrmlrnlkJEKCiAgICAgICAgICAgICAgICB2YXIgX3NxRHN0MTIgPSBzcVNyYyArIF9kZWx0YTM7IC8vIOS7jui1t+eCuXNxU3Jj5byA5aeL77yM5rK/552A5pa55ZCRZGVsdGHotbDkuIDmraUKCgogICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoX3NxRHN0MTIpKSB7CiAgICAgICAgICAgICAgICAgIGlmIChhcnJbX3NxRHN0MTJdID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZAKICAgICAgICAgICAgICAgICAgICB2YXIgX3JvdzE0ID0gdGhpcy5SQU5LX1koX3NxRHN0MTIpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4MTQgPSBfc3FEc3QxMiAtIDcgKiBfcm93MTQgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgICAgIHZhciBfZG9tVGVtcDE0ID0gJCgnI3BvcycgKyBfaW1nSW5kZXgxNCk7CgogICAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDE0KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDnu4jngrnlrZjlnKjmo4vlrZDvvIzngq7pnIDopoHnv7vlsbEKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3NxRHN0MTIgKz0gX2RlbHRhMzsgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfc3FEc3QxMiArPSBfZGVsdGEzOyAvLyDmsr/nnYDmlrnlkJFkZWx0YeWQkeWJjei1sOS4gOatpQoKICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKF9zcURzdDEyKSkgewogICAgICAgICAgICAgICAgICAvLyDlpoLmnpxzcURzdOS7jeS9jeS6juaji+ebmO+8jOmCo+S5iOatpOaXtueCruW3sue7j+e/u+WxseS6hgogICAgICAgICAgICAgICAgICBpZiAoYXJyW19zcURzdDEyXSAmIDE2KSB7CiAgICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmmK/pu5Hmlrnmo4vlrZAKICAgICAgICAgICAgICAgICAgICB2YXIgX3JvdzE1ID0gdGhpcy5SQU5LX1koX3NxRHN0MTIpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2ltZ0luZGV4MTUgPSBfc3FEc3QxMiAtIDcgKiBfcm93MTUgLSAyOSAtIDE7CgogICAgICAgICAgICAgICAgICAgIHZhciBfZG9tVGVtcDE1ID0gJCgnI3BvcycgKyBfaW1nSW5kZXgxNSk7CgogICAgICAgICAgICAgICAgICAgIHN0ZXAucHVzaChfZG9tVGVtcDE1KTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3NxRHN0MTIgKz0gX2RlbHRhMzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnUCc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YXIgX1BBV05fZGVsdGEgPSBbLTE2LCAxLCAtMV07IC8v5YW15LiA5byA5aeL5Y+q6IO95ZCR5LiK6LWwLOi/h+ays+WQjuWPr+WQkeW3pi/lj7PotbAKCiAgICAgICAgICAgICAgdmFyIF9zcURzdDEzID0gc3FTcmMgKyBfUEFXTl9kZWx0YVswXTsKCiAgICAgICAgICAgICAgaWYgKCEoYXJyW19zcURzdDEzXSAmIDgpKSB7CiAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOS4jeaYr+e6ouaWueaji+WtkCzliJnotbDms5XlkIjms5UKICAgICAgICAgICAgICAgIHZhciBfcm93MTYgPSB0aGlzLlJBTktfWShfc3FEc3QxMyk7CgogICAgICAgICAgICAgICAgdmFyIF9pbWdJbmRleDE2ID0gX3NxRHN0MTMgLSA3ICogX3JvdzE2IC0gMjkgLSAxOwoKICAgICAgICAgICAgICAgIHZhciBfZG9tVGVtcDE2ID0gJCgnI3BvcycgKyBfaW1nSW5kZXgxNik7CgogICAgICAgICAgICAgICAgc3RlcC5wdXNoKF9kb21UZW1wMTYpOwogICAgICAgICAgICAgIH0gLy/oi6XlhbXov4fmsrPkuoYo5q2k5aSE55qEMTMx5piv57uP6L+H6K6h566X5b6X5Yiw55qE6L+H5rKz5Li055WM5YC877yM5LiU57uI54K55Zyo5qOL55uY5YaFCgoKICAgICAgICAgICAgICBpZiAoc3FTcmMgPCAxMzEgJiYgdGhpcy5JTl9CT0FSRChfc3FEc3QxMykpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMTMgPSAwOyBfaTEzIDwgMjsgX2kxMysrKSB7CiAgICAgICAgICAgICAgICAgIF9zcURzdDEzID0gc3FTcmMgKyBfUEFXTl9kZWx0YVtfaTEzICsgMV07CiAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5JTl9CT0FSRChfc3FEc3QxMykpIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoYXJyW19zcURzdDEzXSAmIDgpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9yb3cxNyA9IHRoaXMuUkFOS19ZKF9zcURzdDEzKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbWdJbmRleDE3ID0gX3NxRHN0MTMgLSA3ICogX3JvdzE3IC0gMjkgLSAxOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2RvbVRlbXAxNyA9ICQoJyNwb3MnICsgX2ltZ0luZGV4MTcpOwoKICAgICAgICAgICAgICAgICAgICBzdGVwLnB1c2goX2RvbVRlbXAxNyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgc3RlcC5wdXNoKG51bGwpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHN0ZXA7CiAgICAgIH0gZWxzZSByZXR1cm4gJ0VSUk9SJzsgLy8gZWxzZSB7CiAgICAgIC8vICAgbGV0IHN0ZXAgPSBbXQogICAgICAvLyAgIGxldCBmaWxlTmFtZSA9IGRvbS5hdHRyKCdzcmMnKS5zbGljZSgxMSwgMTIpCiAgICAgIC8vICAgbGV0IHNxU3JjID0gdGhpcy5pbWdJbmRleFRvU3EocGFyc2VJbnQoZG9tLmF0dHIoJ2lkJykuc2xpY2UoMykpICsgMSkvL+iOt+WPluS4gOe7tOWdkOaghwogICAgICAvLyAgIHN3aXRjaCAoZmlsZU5hbWUpIHsKICAgICAgLy8gICAgIGNhc2UgJ2snOiB7CiAgICAgIC8vICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOwogICAgICAvLyAgICAgICBmb3IgKGxldCBpIGluIEtJTkdfREVMVEEpIHsvLyDlsIbnmoQ05Liq5pa55ZCRCiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrlj6/og73nmoTnu4jngrnkvY3nva4KICAgICAgLy8gICAgICAgICBpZighdGhpcy5JTl9CT0FSRChzcURzdCkpIHsvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhQogICAgICAvLyAgICAgICAgICAgY29udGludWUKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSA8IDE2ICYmIHRoaXMuSU5fRk9SVChzcURzdCkpIHsKICAgICAgLy8gICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI6buR5pa577yJ5qOL5a2Q77yM5LiU57uI54K55Zyo5Lmd5a6r5qC85YaFCiAgICAgIC8vICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDEKICAgICAgLy8gICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ2EnOiB7CiAgICAgIC8vICAgICAgIGxldCBBRFZJU09SX0RFTFRBID0gWy0xNSwgLTE3LCAxNywgMTVdOwogICAgICAvLyAgICAgICBmb3IobGV0IGkgaW4gQURWSVNPUl9ERUxUQSkgewogICAgICAvLyAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgQURWSVNPUl9ERUxUQVtpXTsgLy8g5b6X5Yiw5LiA5Liq5Y+v6IO955qE57uI54K55L2N572uCiAgICAgIC8vICAgICAgICAgaWYoIXRoaXMuSU5fQk9BUkQoc3FEc3QpICkgey8v57uI54K55aSE5LiN5Zyo5qOL55uY5YaF77yM5oiW5LiN5Zyo5Lmd5a6r5qC85YaFCiAgICAgIC8vICAgICAgICAgICBjb250aW51ZQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYgJiYgdGhpcy5JTl9GT1JUKHNxRHN0KSkgewogICAgICAvLyAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjpu5HmlrnvvInmo4vlrZAs5LiU57uI54K55Zyo5Lmd5a6r5qC85YaFCiAgICAgIC8vICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDEKICAgICAgLy8gICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ2InOiB7CiAgICAgIC8vICAgICAgIGxldCBCSVNIT1BfREVMVEEgPSBbLTM0LCAtMzAsIDMwLCAzNF07CiAgICAgIC8vICAgICAgIGZvcihsZXQgaSBpbiBCSVNIT1BfREVMVEEpIHsKICAgICAgLy8gICAgICAgICBsZXQgc3FEc3QgPSBzcVNyYyArIEJJU0hPUF9ERUxUQVtpXTsgLy8g5b6X5Yiw5LiA5Liq5Y+v6IO955qE57uI54K55L2N572uCiAgICAgIC8vICAgICAgICAgaWYoIXRoaXMuSU5fQk9BUkQoc3FEc3QpIHx8ICF0aGlzLlNBTUVfSEFMRihzcVNyYyxzcURzdCkKICAgICAgLy8gICAgICAgICAgICAgfHwgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wWyhzcVNyYytzcURzdCkvMl0gPiAxKSB7CiAgICAgIC8vICAgICAgICAgICAvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhSzmiJbov4fmsrMs5oiW6LGh55y85peg5qOL5a2QCiAgICAgIC8vICAgICAgICAgICBjb250aW51ZQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYpIHsKICAgICAgLy8gICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI6buR5pa577yJ5qOL5a2QCiAgICAgIC8vICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDEKICAgICAgLy8gICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ24nOiB7CiAgICAgIC8vICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOwogICAgICAvLyAgICAgICBsZXQgS05JR0hUX0RFTFRBID0gW1stMzMsIC0zMV0sIFstMTgsIDE0XSwgWy0xNCwgMThdLCBbMzEsIDMzXV07CiAgICAgIC8vICAgICAgIGZvcihsZXQgaSBpbiBLTklHSFRfREVMVEEpIHsvLyDpqazohb/nmoQ05Liq5pa55ZCRCiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrpqazohb/nmoTkvY3nva4KICAgICAgLy8gICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID4gMSkgewogICAgICAvLyAgICAgICAgICAgLy/pqazohJrlpITmnInmo4vlrZAKICAgICAgLy8gICAgICAgICAgIGNvbnRpbnVlCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMjsgaiArKykgeyAvLyAx5Liq6ams6IW/5a+55bqUMuS4qumprOeahOaWueWQkQogICAgICAvLyAgICAgICAgICAgc3FEc3QgPSBzcVNyYyArIEtOSUdIVF9ERUxUQVtpXVtqXTsgLy8g5b6X5Yiw5LiA5Liq6ams55qE5Y+v6IO955qE57uI54K55L2N572uCiAgICAgIC8vICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7CiAgICAgIC8vICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSA8IDE2KSB7CiAgICAgIC8vICAgICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI6buR5pa577yJ5qOL5a2QCiAgICAgIC8vICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkKICAgICAgLy8gICAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtMjkgLSAxCiAgICAgIC8vICAgICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICBicmVhawogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgY2FzZSAncic6IHsKICAgICAgLy8gICAgICAgbGV0IEtJTkdfREVMVEE9IFstMTYsIC0xLCAxLCAxNl07CiAgICAgIC8vICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSArKykgewogICAgICAvLyAgICAgICAgIGxldCBkZWx0YSA9IEtJTkdfREVMVEFbaV07ICAgIC8vIOW+l+WIsOS4gOS4quaWueWQkQogICAgICAvLyAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgZGVsdGE7ICAgIC8vIOS7jui1t+eCuXNxU3Jj5byA5aeL77yM5rK/552A5pa55ZCRZGVsdGHotbDkuIDmraUKICAgICAgLy8gICAgICAgICB3aGlsZSAodGhpcy5JTl9CT0FSRChzcURzdCkpIHsKICAgICAgLy8gICAgICAgICAgIC8v5Zyo5qOL55uY5LiKCiAgICAgIC8vICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYpIHsKICAgICAgLy8gICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjpu5HmlrnvvInmo4vlrZAs5oiW5pyJ57qi5pa55qOL5a2QCiAgICAgIC8vICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkKICAgICAgLy8gICAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtMjkgLSAxCiAgICAgIC8vICAgICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQogICAgICAvLyAgICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID49IDgpIHsKICAgICAgLy8gICAgICAgICAgICAgICAvL+e7iOeCueWkhOacieWvueaWue+8iOe6ouaWue+8ieaji+WtkAogICAgICAvLyAgICAgICAgICAgICAgIGJyZWFrCiAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgIGVsc2UgYnJlYWsKICAgICAgLy8gICAgICAgICAgIHNxRHN0ICs9IGRlbHRhOyAgICAgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ2MnOiB7CiAgICAgIC8vICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOwogICAgICAvLyAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkgKyspIHsKICAgICAgLy8gICAgICAgICBsZXQgZGVsdGEgPSBLSU5HX0RFTFRBW2ldOyAgICAvLyDlvpfliLDkuIDkuKrmlrnlkJEKICAgICAgLy8gICAgICAgICBsZXQgc3FEc3QgPSBzcVNyYyArIGRlbHRhOyAgICAvLyDku47otbfngrlzcVNyY+W8gOWni++8jOayv+edgOaWueWQkWRlbHRh6LWw5LiA5q2lCiAgICAgIC8vICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7CiAgICAgIC8vICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID09PSAxKSB7CiAgICAgIC8vICAgICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2QCiAgICAgIC8vICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkKICAgICAgLy8gICAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtMjkgLSAxCiAgICAgIC8vICAgICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgLy8g57uI54K55a2Y5Zyo5qOL5a2Q77yM54Ku6ZyA6KaB57+75bGxCiAgICAgIC8vICAgICAgICAgICAgIGJyZWFrOwogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgc3FEc3QgKz0gZGVsdGE7ICAgICAvLyDmsr/nnYDmlrnlkJFkZWx0YeWQkeWJjei1sOS4gOatpQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgICBzcURzdCArPSBkZWx0YTsgICAgICAgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUKICAgICAgLy8gICAgICAgICB3aGlsZSAodGhpcy5JTl9CT0FSRChzcURzdCkpIHsgLy8g5aaC5p6cc3FEc3Tku43kvY3kuo7mo4vnm5jvvIzpgqPkuYjmraTml7bngq7lt7Lnu4/nv7vlsbHkuoYKICAgICAgLy8gICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPj0gOCAmJiB0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYpIHsKICAgICAgLy8gICAgICAgICAgICAgLy/nu4jngrnlpITmmK/nuqLmlrnmo4vlrZAKICAgICAgLy8gICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQogICAgICAvLyAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0gMjkgLSAxCiAgICAgIC8vICAgICAgICAgICAgIGxldCBkb21UZW1wID0gJCgnI3BvcycgKyBpbWdJbmRleCkKICAgICAgLy8gICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApCiAgICAgIC8vICAgICAgICAgICAgIGJyZWFrCiAgICAgIC8vICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgICBzcURzdCArPSBkZWx0YTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ3AnOiB7CiAgICAgIC8vICAgICAgIGxldCBQQVdOX2RlbHRhID0gWzE2LDEsLTFdIC8v5YW15LiA5byA5aeL5Y+q6IO95ZCR5LiL6LWwLOi/h+ays+WQjuWPr+WQkeW3pi/lj7PotbAKICAgICAgLy8gICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBQQVdOX2RlbHRhWzBdCiAgICAgIC8vICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPCAxNikgey8v57uI54K55aSE5LiN5piv6buR5pa55qOL5a2QCiAgICAgIC8vICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQogICAgICAvLyAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQogICAgICAvLyAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApCiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgaWYoc3FTcmMgPj0gMTMxICYmIHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7Ly/oi6XlhbXov4fmsrPkuoYo5q2k5aSE55qEMTMx5piv57uP6L+H6K6h566X5b6X5Yiw55qE6L+H5rKz5Li055WM5YC8CiAgICAgIC8vICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHsKICAgICAgLy8gICAgICAgICAgIHNxRHN0ID0gc3FTcmMgKyBQQVdOX2RlbHRhW2krMV0KICAgICAgLy8gICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPCAxNikgewogICAgICAvLyAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQogICAgICAvLyAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQogICAgICAvLyAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8KICAgICAgLy8gICAgIGNhc2UgJ0snOiB7CiAgICAgIC8vICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOwogICAgICAvLyAgICAgICBmb3IgKGxldCBpIGluIEtJTkdfREVMVEEpIHsvLyDlsIbnmoQ05Liq5pa55ZCRCiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrlj6/og73nmoTnu4jngrnkvY3nva4KICAgICAgLy8gICAgICAgICBpZighdGhpcy5JTl9CT0FSRChzcURzdCkpIHsvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhQogICAgICAvLyAgICAgICAgICAgY29udGludWUKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkgJiYgdGhpcy5JTl9GT1JUKHNxRHN0KSkgewogICAgICAvLyAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjnuqLmlrnvvInmo4vlrZDvvIzkuJTnu4jngrnlnKjkuZ3lrqvmoLzlhoUKICAgICAgLy8gICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkKICAgICAgLy8gICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQogICAgICAvLyAgICAgICAgICAgbGV0IGRvbVRlbXAgPSAgJCgnI3BvcycgKyBpbWdJbmRleCkKICAgICAgLy8gICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICBicmVhawogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgY2FzZSAnQSc6IHsKICAgICAgLy8gICAgICAgbGV0IEFEVklTT1JfREVMVEEgPSBbLTE1LCAtMTcsIDE3LCAxNV07CiAgICAgIC8vICAgICAgIGZvcihsZXQgaSBpbiBBRFZJU09SX0RFTFRBKSB7CiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBBRFZJU09SX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrlj6/og73nmoTnu4jngrnkvY3nva4KICAgICAgLy8gICAgICAgICBpZighdGhpcy5JTl9CT0FSRChzcURzdCkgKSB7Ly/nu4jngrnlpITkuI3lnKjmo4vnm5jlhoXvvIzmiJbkuI3lnKjkuZ3lrqvmoLzlhoUKICAgICAgLy8gICAgICAgICAgIGNvbnRpbnVlCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIGlmKCEodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSAmIDgpICYmIHRoaXMuSU5fRk9SVChzcURzdCkpIHsKICAgICAgLy8gICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI57qi5pa577yJ5qOL5a2QLOS4lOe7iOeCueWcqOS5neWuq+agvOWGhQogICAgICAvLyAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQogICAgICAvLyAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtMjkgLSAxCiAgICAgIC8vICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQogICAgICAvLyAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICAgIGJyZWFrCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBjYXNlICdCJzogewogICAgICAvLyAgICAgICBsZXQgQklTSE9QX0RFTFRBID0gWy0zNCwgLTMwLCAzMCwgMzRdOwogICAgICAvLyAgICAgICBmb3IobGV0IGkgaW4gQklTSE9QX0RFTFRBKSB7CiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBCSVNIT1BfREVMVEFbaV07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rgogICAgICAvLyAgICAgICAgIGlmKCF0aGlzLklOX0JPQVJEKHNxRHN0KSB8fCAhdGhpcy5TQU1FX0hBTEYoc3FTcmMsc3FEc3QpCiAgICAgIC8vICAgICAgICAgICAgIHx8IHRoaXMuZGlzcGxheUNoZXNzVGVtcFsoc3FTcmMrc3FEc3QpLzJdID4gMSkgewogICAgICAvLyAgICAgICAgICAgLy/nu4jngrnlpITkuI3lnKjmo4vnm5jlhoUs5oiW6L+H5rKzLOaIluixoeecvOaXoOaji+WtkAogICAgICAvLyAgICAgICAgICAgY29udGludWUKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkpIHsKICAgICAgLy8gICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI57qi5pa577yJ5qOL5a2QCiAgICAgIC8vICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDEKICAgICAgLy8gICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ04nOiB7CiAgICAgIC8vICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOwogICAgICAvLyAgICAgICBsZXQgS05JR0hUX0RFTFRBID0gW1stMzMsIC0zMV0sIFstMTgsIDE0XSwgWy0xNCwgMThdLCBbMzEsIDMzXV07CiAgICAgIC8vICAgICAgIGZvcihsZXQgaSBpbiBLTklHSFRfREVMVEEpIHsvLyDpqazohb/nmoQ05Liq5pa55ZCRCiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrpqazohb/nmoTkvY3nva4KICAgICAgLy8gICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID4gMSkgewogICAgICAvLyAgICAgICAgICAgLy/pqazohJrlpITmnInmo4vlrZAKICAgICAgLy8gICAgICAgICAgIGNvbnRpbnVlCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMjsgaiArKykgeyAvLyAx5Liq6ams6IW/5a+55bqUMuS4qumprOeahOaWueWQkQogICAgICAvLyAgICAgICAgICAgc3FEc3QgPSBzcVNyYyArIEtOSUdIVF9ERUxUQVtpXVtqXTsgLy8g5b6X5Yiw5LiA5Liq6ams55qE5Y+v6IO955qE57uI54K55L2N572uCiAgICAgIC8vICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7CiAgICAgIC8vICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkpIHsKICAgICAgLy8gICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjnuqLmlrnvvInmo4vlrZAKICAgICAgLy8gICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQogICAgICAvLyAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDEKICAgICAgLy8gICAgICAgICAgICAgbGV0IGRvbVRlbXAgPSAgJCgnI3BvcycgKyBpbWdJbmRleCkKICAgICAgLy8gICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApCiAgICAgIC8vICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICAgIGJyZWFrCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBjYXNlICdSJzogewogICAgICAvLyAgICAgICBsZXQgS0lOR19ERUxUQT0gWy0xNiwgLTEsIDEsIDE2XTsKICAgICAgLy8gICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpICsrKSB7CiAgICAgIC8vICAgICAgICAgbGV0IGRlbHRhID0gS0lOR19ERUxUQVtpXTsgICAgLy8g5b6X5Yiw5LiA5Liq5pa55ZCRCiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBkZWx0YTsgICAgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQogICAgICAvLyAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKHNxRHN0KSkgewogICAgICAvLyAgICAgICAgICAgLy/lnKjmo4vnm5jkuIoKICAgICAgLy8gICAgICAgICAgIGlmKCEodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSAmIDgpKSB7CiAgICAgIC8vICAgICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI57qi5pa577yJ5qOL5a2QLOaIluaciee6ouaWueaji+WtkAogICAgICAvLyAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQogICAgICAvLyAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQogICAgICAvLyAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSAmIDE2KSB7CiAgICAgIC8vICAgICAgICAgICAgICAgLy/nu4jngrnlpITmnInlr7nmlrnvvIjpu5HmlrnvvInmo4vlrZAKICAgICAgLy8gICAgICAgICAgICAgICBicmVhawogICAgICAvLyAgICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgICBlbHNlIGJyZWFrCiAgICAgIC8vICAgICAgICAgICBzcURzdCArPSBkZWx0YTsgICAgIC8vIOayv+edgOaWueWQkWRlbHRh5ZCR5YmN6LWw5LiA5q2lCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICAgIGJyZWFrCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBjYXNlICdDJzogewogICAgICAvLyAgICAgICBsZXQgS0lOR19ERUxUQT0gWy0xNiwgLTEsIDEsIDE2XTsKICAgICAgLy8gICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpICsrKSB7CiAgICAgIC8vICAgICAgICAgbGV0IGRlbHRhID0gS0lOR19ERUxUQVtpXTsgICAgLy8g5b6X5Yiw5LiA5Liq5pa55ZCRCiAgICAgIC8vICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBkZWx0YTsgICAgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQogICAgICAvLyAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKHNxRHN0KSkgewogICAgICAvLyAgICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSA9PT0gMSkgewogICAgICAvLyAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkAogICAgICAvLyAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpCiAgICAgIC8vICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQogICAgICAvLyAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQogICAgICAvLyAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgIC8vIOe7iOeCueWtmOWcqOaji+WtkO+8jOeCrumcgOimgee/u+WxsQogICAgICAvLyAgICAgICAgICAgICBicmVhazsKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgIHNxRHN0ICs9IGRlbHRhOyAgICAgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICAgc3FEc3QgKz0gZGVsdGE7ICAgICAgIC8vIOayv+edgOaWueWQkWRlbHRh5ZCR5YmN6LWw5LiA5q2lCiAgICAgIC8vICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7IC8vIOWmguaenHNxRHN05LuN5L2N5LqO5qOL55uY77yM6YKj5LmI5q2k5pe254Ku5bey57uP57+75bGx5LqGCiAgICAgIC8vICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgMTYpIHsKICAgICAgLy8gICAgICAgICAgICAgLy/nu4jngrnlpITmmK/pu5Hmlrnmo4vlrZAKICAgICAgLy8gICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQogICAgICAvLyAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0gMjkgLSAxCiAgICAgIC8vICAgICAgICAgICAgIGxldCBkb21UZW1wID0gJCgnI3BvcycgKyBpbWdJbmRleCkKICAgICAgLy8gICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApCiAgICAgIC8vICAgICAgICAgICAgIGJyZWFrCiAgICAgIC8vICAgICAgICAgICB9CiAgICAgIC8vICAgICAgICAgICBzcURzdCArPSBkZWx0YTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgYnJlYWsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGNhc2UgJ1AnOiB7CiAgICAgIC8vICAgICAgIGxldCBQQVdOX2RlbHRhID0gWy0xNiwxLC0xXSAvL+WFteS4gOW8gOWni+WPquiDveWQkeS4iui1sCzov4fmsrPlkI7lj6/lkJHlt6Yv5Y+z6LWwCiAgICAgIC8vICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgUEFXTl9kZWx0YVswXQogICAgICAvLyAgICAgICBpZighKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gJiA4KSkgey8v57uI54K55aSE5LiN5piv57qi5pa55qOL5a2QLOWImei1sOazleWQiOazlQogICAgICAvLyAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkKICAgICAgLy8gICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDEKICAgICAgLy8gICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQogICAgICAvLyAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICAgIGlmKHNxU3JjIDwgMTMxICYmIHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7Ly/oi6XlhbXov4fmsrPkuoYo5q2k5aSE55qEMTMx5piv57uP6L+H6K6h566X5b6X5Yiw55qE6L+H5rKz5Li055WM5YC8CiAgICAgIC8vICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHsKICAgICAgLy8gICAgICAgICAgIHNxRHN0ID0gc3FTcmMgKyBQQVdOX2RlbHRhW2krMV0KICAgICAgLy8gICAgICAgICAgIGlmKCEodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSAmIDgpKSB7CiAgICAgIC8vICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkKICAgICAgLy8gICAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtMjkgLSAxCiAgICAgIC8vICAgICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCiAgICAgIC8vICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICBicmVhawogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgZGVmYXVsdDogc3RlcC5wdXNoKG51bGwpCiAgICAgIC8vICAgfQogICAgICAvLyAgIHJldHVybiBzdGVwCiAgICAgIC8vIH0KCiAgICB9LAoKICAgIC8q5qC55o2u5bGA6Z2i6K+E5Lyw5YC877yM6L+U5Zue5LiL5LiA5q2l6KaB6LWw55qE5qOL5a2QKi8KICAgIG1hY2hpbmVfZ2V0UGNUb0JlTW92ZWQ6IGZ1bmN0aW9uIG1hY2hpbmVfZ2V0UGNUb0JlTW92ZWQoKSB7CiAgICAgIHZhciBibGFja0FsbFBjID0gW10sCiAgICAgICAgICB3aGl0ZUFsbFBjID0gW107CiAgICAgIHZhciBkaXNwbGF5Q2hlc3NfZXZhbHVhdGUgPSB0aGlzLmRpc3BsYXlDaGVzc1RlbXAubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOyAvL+ivpeW+queOr+W+l+WIsOaJgOacieWPr+S7pemAieaLqei1sOeahOaji+WtkO+8jOeahOS4gOe7tOWdkOaghwoKICAgICAgZm9yICh2YXIgc3FTcmMgaW4gdGhpcy5kaXNwbGF5Q2hlc3NUZW1wKSB7CiAgICAgICAgaWYgKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcVNyY10gJiAxNikgewogICAgICAgICAgYmxhY2tBbGxQYy5wdXNoKHNxU3JjKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcVNyY10gJiA4KSB3aGl0ZUFsbFBjLnB1c2goc3FTcmMpOwogICAgICB9CiAgICAgIC8q6K+l5b6q546v5Y+v5b6X5Yiw57qi5pa55qOL5a2Q5LiL5LiA5q2l55qE6LW354K56YCJ5oup5ZOq5LiqKi8KCgogICAgICB2YXIgcmFtSV93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmxhY2tBbGxQYy5sZW5ndGgpOwogICAgICB2YXIgdmFsMiA9IDAsCiAgICAgICAgICBtYXhWYWwgPSAwLAogICAgICAgICAgbWF4VmFsMl9zcVNyY193ID0gYmxhY2tBbGxQY1tyYW1JX3ddLAogICAgICAgICAgRHN0RG9tOwoKICAgICAgZm9yICh2YXIgayBpbiB3aGl0ZUFsbFBjKSB7CiAgICAgICAgdmFyIHNxU3JjX3cgPSB3aGl0ZUFsbFBjW2tdOyAvL+afkOS4que6ouaWueaji+WtkOeahOi1t+eCueS4gOe7tOWdkOaghwogICAgICAgIC8vIGNvbnNvbGUubG9nKHNxU3JjMik7CgogICAgICAgIC8q6ZKI5a+56K+l57qi5qOL57qi5pa55b6X5Yiw5pyA5pyJ5Yip5LqO5a6D55qE6LWw5rOVKi8KCiAgICAgICAgRHN0RG9tID0gdGhpcy5tYWNoaW5lX2dldEV4YWN0U3RlcCh0aGlzLnNxVG9Eb20oc3FTcmNfdyksIHRoaXMuZGlzcGxheUNoZXNzVGVtcCk7CiAgICAgICAgaWYgKERzdERvbSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTsgLy/lpoLmnpzpgY3ljobliLDnmoTmn5DkuKrnuqLmlrnmo4vlrZDkuIDnp43otbDms5Xpg73msqHmnInvvIzlsLHot7Pov4cKICAgICAgICAvLyBjb25zb2xlLmxvZyhEc3REb20pOwoKICAgICAgICAvKuivpee6ouaWueaji+WtkOacgOS9s+i1sOazleeahOe7iOeCueS4gOe7tOWdkOaghyovCgogICAgICAgIHZhciBzcURzdF93ID0gdGhpcy5kb21Ub1NxKERzdERvbSk7CiAgICAgICAgLyrlgYforr7or6XnuqLmo4vnp7vliqgqLwoKICAgICAgICB2YXIgdGVtcE51bSA9IHRoaXMubWFjaGluZV9zdXBwb3NlVG9Nb3ZlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSwgc3FTcmNfdywgc3FEc3Rfdyk7CiAgICAgICAgdmFsMiA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpOyAvL+ivleaxguivhOS8sOWAvDIKCiAgICAgICAgLyrmgaLlpI3kuK3ovazmo4vnm5gqLwoKICAgICAgICB0aGlzLm1hY2hpbmVfcmVjb3ZlckZpY0JvYXJkKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSwgc3FTcmNfdywgc3FEc3RfdywgdGVtcE51bSk7CiAgICAgICAgLyrnq5nlnKjnuqLmlrnnmoTop5LluqbvvIzmiJHogq/lrprlipvmsYJ2YWwy5pyA5aSnKi8KCiAgICAgICAgaWYgKHZhbDIgPj0gbWF4VmFsKSB7CiAgICAgICAgICBtYXhWYWwgPSB2YWwyOyAvL+abtOaWsOacgOWkp+ivhOS8sOWAvAoKICAgICAgICAgIG1heFZhbDJfc3FTcmNfdyA9IHNxU3JjX3c7IC8v5pu05paw6K+E5Lyw5YC85pyA5aSn5pe26YCJ5oup55qE5qOL5a2QCiAgICAgICAgfSBlbHNlIHsvLyBtaW5NYXhWYWwyX3NxU3JjID0gYmxhY2tBbGxQY1tpXQogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Vycm9yJyk7CiAgICAgICAgfSAvLyBicmVhawoKICAgICAgfSAvLyBjb25zb2xlLmxvZyh3aGl0ZUFsbFBjKTsKICAgICAgLy8gY29uc29sZS5sb2coZGlzcGxheUNoZXNzX2V2YWx1YXRlKTsKCgogICAgICB2YXIgeERzdERvbSA9IHRoaXMubWFjaGluZV9nZXRFeGFjdFN0ZXAodGhpcy5zcVRvRG9tKG1heFZhbDJfc3FTcmNfdyksIHRoaXMuZGlzcGxheUNoZXNzVGVtcCk7IC8vIGNvbnNvbGUubG9nKHhEc3REb20pOwoKICAgICAgaWYgKHhEc3REb20uYXR0cignaWQnKSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHhBcnIgPSB0aGlzLm1hY2hpbmVfZ2V0U3RlcHModGhpcy5zcVRvRG9tKG1heFZhbDJfc3FTcmNfdyksIHRoaXMuZGlzcGxheUNoZXNzVGVtcCk7IC8vIGNvbnNvbGUubG9nKHhBcnIpOwoKICAgICAgICB4RHN0RG9tID0geEFycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB4QXJyLmxlbmd0aCldOwogICAgICB9CgogICAgICBpZiAodGhpcy5zcVRvRG9tKG1heFZhbDJfc3FTcmNfdykuYXR0cignaWQnKSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbWF4VmFsMl9zcVNyY193ID0gd2hpdGVBbGxQY1tyYW1JX3ddOwogICAgICB9IC8vIGNvbnNvbGUubG9nKCfnuqLmlrnmnIDlpb3nmoTotbfngrk6JyArIHRoaXMuc3FUb0RvbShtYXhWYWwyX3NxU3JjX3cpLmF0dHIoJ2lkJykpOwogICAgICAvLyBjb25zb2xlLmxvZygn57qi5pa55pyA5aW955qE57uI54K5OicgKyB4RHN0RG9tLmF0dHIoJ2lkJykpOwogICAgICAvLyBjb25zb2xlLmxvZygn5YGH6K6+6K+l57qi5pa55qOL5a2Q6JC95a2Q5ZCO55qE6K+E5Lyw5YC877yaJyArIG1heFZhbCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSk7CgoKICAgICAgdmFyIHNxRHN0X2IsIHNxU3JjX2I7IC8v6buR5pa55pyA57uI5Yaz5a6a55qE6LW354K544CB57uI54K5CgogICAgICB2YXIgdmFsMSA9IDAsCiAgICAgICAgICBtaW5WYWwgPSBtYXhWYWw7IC8vIGxldCBtaW5NYXhWYWwyX3NxU3JjID0gYmxhY2tBbGxQY1swXS8v5L2/bWF4VmFsMuacgOWwj+aXtueahOaji+WtkOeahOi1t+eCueS4gOe7tOWdkOaghyjpu5Hmlrnmiafmo4spCgogICAgICBmb3IgKHZhciBpIGluIGJsYWNrQWxsUGMpIHsKICAgICAgICAvL+mBjeWOhuaJgOaciem7keajiwogICAgICAgIC8vIGNvbnNvbGUubG9nKGkpOwogICAgICAgIC8vIGlmKGkgPT0gOSkgYnJlYWsgLy/lhYjpgY3ljobliY0xMOmil+aji+WtkAogICAgICAgIHZhciBfc3FTcmMgPSBibGFja0FsbFBjW2ldOyAvL+afkOS4qum7keaWueaji+WtkOeahOi1t+eCueS4gOe7tOWdkOaghwogICAgICAgIC8vIGNvbnNvbGUubG9nKCfkuIDpu5Hmlrnmo4vlrZDnmoTotbfngrk6JyArIHRoaXMuc3FUb0RvbShzcVNyYykuYXR0cignaWQnKSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ+S4gOm7keaWueaji+WtkOeahOe7iOeCue+8micpOwoKICAgICAgICAvKui1sOazleaVsOe7hO+8jOWFg+e0oOS4uuWvueixoeexu+WeiyovCgogICAgICAgIHZhciBzdGVwQXJyYXkgPSB0aGlzLm1hY2hpbmVfZ2V0U3RlcHModGhpcy5zcVRvRG9tKF9zcVNyYyksIHRoaXMuZGlzcGxheUNoZXNzVGVtcCkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaiBpbiBzdGVwQXJyYXkpIHsKICAgICAgICAgIC8v6YGN5Y6G5p+Q6buR5qOL55qE5omA5pyJ6LWw5rOVCgogICAgICAgICAgLyror6Xpu5Hmlrnmo4vlrZDlhbbkuK3kuIDkuKrotbDms5XnmoTnu4jngrnvvIznmoTkuIDnu7TlnZDmoIcqLwogICAgICAgICAgdmFyIHNxRHN0ID0gdGhpcy5kb21Ub1NxKHN0ZXBBcnJheVtqXSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuc3FUb0RvbShzcURzdCkpOwogICAgICAgICAgLy8KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSk7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5Y+v5Lul5Yiw6L6+5LiA5LiA5LiA5LiAJyk7CgogICAgICAgICAgLyrpu5Hmo4vnmoTomZrmi5/np7vliqgqLwoKICAgICAgICAgIHZhciB0ZW1wTnVtX2IgPSB0aGlzLm1hY2hpbmVfc3VwcG9zZVRvTW92ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUsIF9zcVNyYywgc3FEc3QpOyAvLyBjb25zb2xlLmxvZyhkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpOwoKICAgICAgICAgIC8q6YeN5paw5rGC5LiA5LiL5LmL5YmN56Gu5a6a55qE57qi5pa55qOL5a2Q55qE57uI54K5Ki8KCiAgICAgICAgICB2YXIgeHh4RHN0RG9tID0gdGhpcy5tYWNoaW5lX2dldEV4YWN0U3RlcCh0aGlzLnNxVG9Eb20obWF4VmFsMl9zcVNyY193KSwgZGlzcGxheUNoZXNzX2V2YWx1YXRlKTsKICAgICAgICAgIGlmICh4eHhEc3REb20gPT09IHVuZGVmaW5lZCkgY29udGludWU7IC8v5aaC5p6c5pS56LWw5rOV5rKh5pyJ5LqG77yM6Lez6L+HCgogICAgICAgICAgdmFyIF9zcURzdF93ID0gdGhpcy5kb21Ub1NxKHh4eERzdERvbSk7IC8vIGNvbnNvbGUubG9nKCfph43mlrDmsYLkuobnuqLmo4vnmoTnu4jngrnvvJonICsgdGhpcy5zcVRvRG9tKHNxRHN0X3cpLmF0dHIoJ2lkJykpOwogICAgICAgICAgLy8gY29uc29sZS5sb2coJ+WPr+S7peWIsOi+vuS6jOS6jOS6jOS6jCcpOwoKCiAgICAgICAgICB2YXIgdGVtcE51bV93ID0gdGhpcy5tYWNoaW5lX3N1cHBvc2VUb01vdmUoZGlzcGxheUNoZXNzX2V2YWx1YXRlLCBtYXhWYWwyX3NxU3JjX3csIF9zcURzdF93KTsKICAgICAgICAgIHZhbDEgPSB0aGlzLm1hY2hpbmVfZXZhbHVhdGUoZGlzcGxheUNoZXNzX2V2YWx1YXRlKTsgLy/pu5HjgIHnuqLmlrnpg73lgYforr7otbDlrozlkI7vvIzmsYLor4TkvLDlgLwxCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5YGH6K6+6buR5qOL6JC95a2Q5ZCO55qE6K+E5Lyw5YC877yaJyArIHZhbDEpOwoKICAgICAgICAgIHRoaXMubWFjaGluZV9yZWNvdmVyRmljQm9hcmQoZGlzcGxheUNoZXNzX2V2YWx1YXRlLCBtYXhWYWwyX3NxU3JjX3csIF9zcURzdF93LCB0ZW1wTnVtX3cpOwogICAgICAgICAgdGhpcy5tYWNoaW5lX3JlY292ZXJGaWNCb2FyZChkaXNwbGF5Q2hlc3NfZXZhbHVhdGUsIF9zcVNyYywgc3FEc3QsIHRlbXBOdW1fYik7CiAgICAgICAgICAvKuermeWcqOm7keaWueeahOinkuW6pu+8jOaIkeiCr+WumuWKm+axgnZhbDHmnIDlsI8sbWF4VmFsMuacgOWwjyovCgogICAgICAgICAgaWYgKHZhbDEgPD0gbWluVmFsKSB7CiAgICAgICAgICAgIG1pblZhbCA9IHZhbDE7CiAgICAgICAgICAgIHNxRHN0X2IgPSBzcURzdDsKICAgICAgICAgICAgc3FTcmNfYiA9IF9zcVNyYzsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+acgOWwj+ivhOS8sOWAvCcgKyBtaW5WYWwpOwogICAgICAgICAgfSAvLyBlbHNlIGNvbnNvbGUubG9nKCdlcnInKTsKICAgICAgICAgIC8vIC8q6buR5pa56LWw5qOL56C05Z2P55qEKi8KCgogICAgICAgICAgaWYgKHRoaXMuc3FUb0RvbShfc3FTcmMpLmF0dHIoJ2lkJykgPT09ICdwb3MyJykgey8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0nKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGlzcGxheUNoZXNzX2V2YWx1YXRlKTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIGJyZWFrCgogICAgICB9IC8vIGNvbnNvbGUubG9nKCfpu5Hmo4vmnIDnu4jnmoTotbfngrk6Jyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3FUb0RvbShzcVNyY19iKSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCfpu5Hmo4vmnIDnu4jnmoTnu4jngrk6Jyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3FUb0RvbShzcURzdF9iKSk7CiAgICAgIC8vIHJldHVybiByYW5kb21TcmNEb20KCgogICAgICByZXR1cm4gW3RoaXMuc3FUb0RvbShzcVNyY19iKSwgdGhpcy5zcVRvRG9tKHNxRHN0X2IpXTsKICAgICAgLyrku6XkuIvkuLrmsqHmnInmkJzntKLnrpfms5XvvIznm7TmjqXpmo/mnLoqLwogICAgICAvLyBsZXQgcmFuZG9tSW5kZXgKICAgICAgLy8gbGV0IHJhbmRvbVNyY0RvbS8v6LW354K5LOe7iOeCuQogICAgICAvLyB3aGlsZSgxKSB7CiAgICAgIC8vICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBibGFja0FsbFBjLmxlbmd0aCkvL+maj+acuuaVsOWcqOaVsOe7hOS4reeahOe0ouW8leWAvAogICAgICAvLyAgIC8vIGxldCByYW5kb21TcSA9IGJsYWNrQWxsUGNbcmFuZG9tSW5kZXhdCiAgICAgIC8vICAgcmFuZG9tU3JjRG9tID0gdGhpcy5zcVRvRG9tKGJsYWNrQWxsUGNbcmFuZG9tSW5kZXhdKQogICAgICAvLyAgIGlmKHRoaXMubWFjaGluZV9nZXRTdGVwcyhyYW5kb21TcmNEb20pLmxlbmd0aCA+IDApCiAgICAgIC8vICAgICAvL+W9k+mAieS4reeahOaji+WtkOiHs+WwkeacieS4gOenjei1sOazleaXtu+8jOaJjemAgOWHuuW+queOr++8jOWQpuWImeS4gOebtOW+queOr+ebtOWIsOaJvuWIsOS4gOaji+WtkOWFtui1sOazleacieiHs+WwkeS4gOenjQogICAgICAvLyAgICAgYnJlYWsKICAgICAgLy8gfQogICAgfSwKCiAgICAvKuagueaNrui+k+WFpeeahOi1t+eCuWRvbeWvueixoe+8jOi/lOWbnuS9v+ivhOS8sOWAvOacgOWwj+eahOe7iOeCueeahGRvbeWvueixoSovCiAgICBtYWNoaW5lX2dldEV4YWN0U3RlcDogZnVuY3Rpb24gbWFjaGluZV9nZXRFeGFjdFN0ZXAoc3JjRG9tLCBhcnIpIHsKICAgICAgLy8gY29uc29sZS5sb2coYXJyKTsKICAgICAgdmFyIGFsbFdheXMsIGRpc3BsYXlDaGVzc19ldmFsdWF0ZTsKCiAgICAgIGlmIChhcnIgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGFsbFdheXMgPSB0aGlzLm1hY2hpbmVfZ2V0U3RlcHMoc3JjRG9tLCBhcnIpOwogICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZSA9IGFyci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIC8v55So5LqO6K+E5Lyw5YiG5pWw55qE5Lit6L2s5qOL55uYKOS4jeiDveebtOaOpeWvueaVsOe7hOi1i+WAvO+8jOW6lOWvueWFg+e0oOi1i+WAvCkKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICB9IC8vIGVsc2UgewogICAgICAvLyAgIGFsbFdheXMgPSB0aGlzLm1hY2hpbmVfZ2V0U3RlcHMoc3JjRG9tKSAvL+ivpeaji+WtkOeahOaJgOaciei1sOazlSzmlbDnu4TlhYPntKDmmK9kb23lr7nosaEKICAgICAgLy8gICAvKuaji+ebmOS4rei9rOermSovCiAgICAgIC8vICAgZGlzcGxheUNoZXNzX2V2YWx1YXRlID0gdGhpcy5kaXNwbGF5Q2hlc3NUZW1wLm1hcCgoaXRlbSkgPT4gewogICAgICAvLyAgICAgLy/nlKjkuo7or4TkvLDliIbmlbDnmoTkuK3ovazmo4vnm5go5LiN6IO955u05o6l5a+55pWw57uE6LWL5YC877yM5bqU5a+55YWD57Sg6LWL5YC8KQogICAgICAvLyAgICAgcmV0dXJuIGl0ZW0KICAgICAgLy8gICB9KQogICAgICAvLyB9CgoKICAgICAgaWYgKCF0aGlzLnBsYXllclNpZGUpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygn6buR5pa55omn5qOL77yM5q2k5pe25rGC55qE5piv57qi5qOL55qE5pyA5L2z57uI54K5Jyk7CiAgICAgICAgLy/lpoLmnpzmmK/pu5Hmlrnmiafmo4sKICAgICAgICB2YXIgbWF4VmFsID0gdGhpcy5tYWNoaW5lX2V2YWx1YXRlKGFycik7CiAgICAgICAgdmFyIHJhbmRvbURzdEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWxsV2F5cy5sZW5ndGgpOwogICAgICAgIHZhciBkc3REb20gPSBhbGxXYXlzW3JhbmRvbURzdEluZGV4XTsgLy/liJ3lp4vlsLHotYvkuIDkuKrpmo/mnLrlgLwKICAgICAgICAvLyBjb25zb2xlLmxvZyhzcmNEb20pOwoKICAgICAgICBmb3IgKHZhciBpIGluIGFsbFdheXMpIHsKICAgICAgICAgIHZhciBzcmNOdW0gPSBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbdGhpcy5kb21Ub1NxKHNyY0RvbSldOyAvL+i1t+eCueaji+WtkOS7o+ihqOeahE51beWAvAoKICAgICAgICAgIHZhciBzcURzdCA9IHRoaXMuZG9tVG9TcShhbGxXYXlzW2ldKTsgLy/nu4jngrnmo4vlrZDnmoTkuIDnu7TlnZDmoIcKCiAgICAgICAgICB2YXIgdGVtcE51bSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF07IC8v5L+d5a2Y5LiA5LiL6JC95qOL5YmN57uI54K55aSE55qE5qOL5a2QTnVtCgogICAgICAgICAgLyrlgYforr7nu4jngrnokL3kuIvor6Xmo4vvvIzljbPnu4jngrnlpITnmoROdW3lgLzmlLnlj5gqLwoKICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF0gPSBzcmNOdW07CiAgICAgICAgICB2YXIgY3VycmVudFZhbCA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpOyAvLyBjb25zb2xlLmxvZygn6K+E5Lyw5YC877yaJysgY3VycmVudFZhbCk7CgogICAgICAgICAgaWYgKHRoaXMubWFjaGluZV9ldmFsdWF0ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpID4gbWF4VmFsKSB7CiAgICAgICAgICAgIC8v5aaC5p6c6K+E5Lyw5YC85q+U5Y6f5p2l5aSnCiAgICAgICAgICAgIG1heFZhbCA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpOyAvL+abtOaWsOacgOWkp+WAvAoKICAgICAgICAgICAgZHN0RG9tID0gdGhpcy5zcVRvRG9tKHNxRHN0KTsgLy/mm7TmlrDnu4jngrkKICAgICAgICAgIH0gLy8gZWxzZSBjb25zb2xlLmxvZygn5q2k5qyh5b6q546v5rKh5pyJ5aSn55qEJyk7CgoKICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVt0aGlzLmRvbVRvU3Eoc3JjRG9tKV0gPSBzcmNOdW07IC8v5oGi5aSN5Lit6L2s5qOL55uYCgogICAgICAgICAgZGlzcGxheUNoZXNzX2V2YWx1YXRlW3NxRHN0XSA9IHRlbXBOdW07IC8v5oGi5aSN5Lit6L2s5qOL55uYCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZHN0RG9tOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBtaW5WYWwgPSB0aGlzLm1hY2hpbmVfZXZhbHVhdGUoYXJyKTsKCiAgICAgICAgdmFyIF9yYW5kb21Ec3RJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsbFdheXMubGVuZ3RoKTsKCiAgICAgICAgdmFyIF9kc3REb20gPSBhbGxXYXlzW19yYW5kb21Ec3RJbmRleF07IC8v5Yid5aeL5bCx6LWL5LiA5Liq6ZqP5py65YC8CiAgICAgICAgLy8gY29uc29sZS5sb2coc3JjRG9tKTsKCiAgICAgICAgZm9yICh2YXIgX2kxNCBpbiBhbGxXYXlzKSB7CiAgICAgICAgICB2YXIgX3NyY051bSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVt0aGlzLmRvbVRvU3Eoc3JjRG9tKV07IC8v6LW354K55qOL5a2Q5Luj6KGo55qETnVt5YC8CgogICAgICAgICAgdmFyIF9zcURzdDE0ID0gdGhpcy5kb21Ub1NxKGFsbFdheXNbX2kxNF0pOyAvL+e7iOeCueaji+WtkOeahOS4gOe7tOWdkOaghwoKCiAgICAgICAgICB2YXIgX3RlbXBOdW0gPSBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbX3NxRHN0MTRdOyAvL+S/neWtmOS4gOS4i+iQveaji+WJjee7iOeCueWkhOeahOaji+WtkE51bQoKICAgICAgICAgIC8q5YGH6K6+57uI54K56JC95LiL6K+l5qOL77yM5Y2z57uI54K55aSE55qETnVt5YC85pS55Y+YKi8KCiAgICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbX3NxRHN0MTRdID0gX3NyY051bTsKCiAgICAgICAgICB2YXIgX2N1cnJlbnRWYWwgPSB0aGlzLm1hY2hpbmVfZXZhbHVhdGUoZGlzcGxheUNoZXNzX2V2YWx1YXRlKTsKCiAgICAgICAgICBpZiAodGhpcy5tYWNoaW5lX2V2YWx1YXRlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSkgPCBtaW5WYWwpIHsKICAgICAgICAgICAgLy/lpoLmnpzor4TkvLDlgLzmr5Tljp/mnaXlsI8KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLScpOwogICAgICAgICAgICBtaW5WYWwgPSB0aGlzLm1hY2hpbmVfZXZhbHVhdGUoZGlzcGxheUNoZXNzX2V2YWx1YXRlKTsgLy/mm7TmlrDmnIDlsI/lgLwKCiAgICAgICAgICAgIF9kc3REb20gPSB0aGlzLnNxVG9Eb20oX3NxRHN0MTQpOyAvL+abtOaWsOe7iOeCuQogICAgICAgICAgfQoKICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVt0aGlzLmRvbVRvU3Eoc3JjRG9tKV0gPSBfc3JjTnVtOyAvL+aBouWkjeS4rei9rOaji+ebmAoKICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtfc3FEc3QxNF0gPSBfdGVtcE51bTsgLy/mgaLlpI3kuK3ovazmo4vnm5gKICAgICAgICB9CgogICAgICAgIHJldHVybiBfZHN0RG9tOwogICAgICB9IC8vIGNvbnNvbGUubG9nKGRzdERvbSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKGFsbFdheXMpOwogICAgICAvLyBjb25zb2xlLmxvZygn5b2T5YmN6K+E5Lyw5YC8OicgKyB0aGlzLm1hY2hpbmVfZXZhbHVhdGUodGhpcy5kaXNwbGF5Q2hlc3NUZW1wKSk7CgogICAgfSwKCiAgICAvKuagueaNrui+k+WFpeeahOaVtOS4quaji+ebmOaVsOe7hO+8jOi/lOWbnue6ouaWueWIhuaVsC3pu5HmlrnliIbmlbDnmoTlgLzvvIzorrDkvZzjgIror4TkvLDlgLzjgIsqLwogICAgbWFjaGluZV9ldmFsdWF0ZTogZnVuY3Rpb24gbWFjaGluZV9ldmFsdWF0ZShhcnJheSkgewogICAgICB2YXIgd1ZhbCA9IHRoaXMubWFjaGluZV9nZXRWYWwoYXJyYXksIHRydWUpLAogICAgICAgICAgYlZhbCA9IHRoaXMubWFjaGluZV9nZXRWYWwoYXJyYXksIGZhbHNlKTsKICAgICAgcmV0dXJuIHdWYWwgLSBiVmFsOwogICAgfSwKCiAgICAvKuagueaNrui+k+WFpeeahOaVtOS4quaji+ebmOaVsOe7hO+8jOi/lOWbniovCiAgICBtYWNoaW5lX2dldFZhbDogZnVuY3Rpb24gbWFjaGluZV9nZXRWYWwoYXJyYXksIGlzV2hpdGUpIHsKICAgICAgdmFyIHZhbCA9IDA7CgogICAgICBmb3IgKHZhciBpIGluIGFycmF5KSB7CiAgICAgICAgaWYgKGlzV2hpdGUpIHsKICAgICAgICAgIC8v6Iul5piv57qi5pa5CiAgICAgICAgICBzd2l0Y2ggKGFycmF5W2ldKSB7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICB2YWwgKz0gMTAwMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICB2YWwgKz0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHZhbCArPSAyMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgdmFsICs9IDQ1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICB2YWwgKz0gOTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIHZhbCArPSA0MDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgdmFsICs9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB2YWwgKz0gMDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3dpdGNoIChhcnJheVtpXSkgewogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIHZhbCArPSAxMDAwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICB2YWwgKz0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIHZhbCArPSAyMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgdmFsICs9IDQ1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICB2YWwgKz0gOTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIHZhbCArPSA0MDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgdmFsICs9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB2YWwgKz0gMDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWw7CiAgICB9LAoKICAgIC8q5qC55o2u6L6T5YWl55qE5Lit6L2s5qOL55uY5pWw57uE44CB6LW354K544CB57uI54K577yM5a6M5oiQ5Zyo6K+l5pWw57uE5LiK55qE6Jma5ouf56e75Yqo77yM6L+U5Zue5Lit6L2s5YC8Ki8KICAgIG1hY2hpbmVfc3VwcG9zZVRvTW92ZTogZnVuY3Rpb24gbWFjaGluZV9zdXBwb3NlVG9Nb3ZlKGFyciwgc3FTcmMsIHNxRHN0KSB7CiAgICAgIGlmIChhcnIgPT09IHVuZGVmaW5lZCB8fCBzcVNyYyA9PT0gdW5kZWZpbmVkIHx8IHNxRHN0ID09PSB1bmRlZmluZWQpIHJldHVybiAnRVJST1InOwogICAgICB2YXIgdGVtcCA9IGFycltzcURzdF07CiAgICAgIGFycltzcURzdF0gPSBhcnJbc3FTcmNdOwogICAgICBhcnJbc3FTcmNdID0gMTsKICAgICAgcmV0dXJuIHRlbXA7CiAgICB9LAoKICAgIC8q5qC55o2u6L6T5YWl55qE5Lit6L2s5qOL55uY5pWw57uE44CB5qOL5a2Q55qE6LW354K55ZKM57uI54K544CB5Lit6L2s5YC877yM5a6M5oiQ5Lit6L2s5qOL55uY55qE5oGi5aSNKi8KICAgIG1hY2hpbmVfcmVjb3ZlckZpY0JvYXJkOiBmdW5jdGlvbiBtYWNoaW5lX3JlY292ZXJGaWNCb2FyZChhcnIsIHNxU3JjLCBzcURzdCwgdGVtcCkgewogICAgICBpZiAoYXJyID09PSB1bmRlZmluZWQgfHwgc3FTcmMgPT09IHVuZGVmaW5lZCB8fCBzcURzdCA9PT0gdW5kZWZpbmVkIHx8IHRlbXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuICdFUlJPUic7CiAgICAgIGFycltzcVNyY10gPSBhcnJbc3FEc3RdOwogICAgICBhcnJbc3FEc3RdID0gdGVtcDsKICAgIH0sCgogICAgLyror6Xlh73mlbDkvJrkvb/lsYDpnaLph43mlrDnu5jliLbvvIzov5Tlm54xLDIsMywwDQogICAgKiAx77ya6KGo56S66Kem5Y+R5LqG5YW157q/5Yi35pawDQogICAgKiAy77ya5pu/54i25LuO5YabDQogICAgKiAz77ya6I2J5pyo55qG5YW1Ki8KICAgIG1hY2hpbmVfcGFzc2l2ZVNraWxsczogZnVuY3Rpb24gbWFjaGluZV9wYXNzaXZlU2tpbGxzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8q5YW157q/5Yi35pawKi8KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAvKuWFtee6v+WIt+aWsCovCiAgICAgICAgdmFyIGFkdmlzb3JTdW0gPSAwLAogICAgICAgICAgICBpc0VhdGVuID0gZmFsc2U7CgogICAgICAgIHZhciBjdXJyZW50VmFsID0gX3RoaXM0Lm1hY2hpbmVfZXZhbHVhdGUoX3RoaXM0LmRpc3BsYXlDaGVzc1RlbXApLAogICAgICAgICAgICBpc1NraWxsMyA9IGZhbHNlOyAvLyBjb25zb2xlLmxvZyh0aGlzLm1hY2hpbmVfZ2V0VmFsKHRoaXMuZGlzcGxheUNoZXNzVGVtcCwgZmFsc2UpKTsKCgogICAgICAgIGZvciAodmFyIGkgaW4gX3RoaXM0LmRpc3BsYXlDaGVzc1RlbXApIHsKICAgICAgICAgIGlmIChfdGhpczQuZGlzcGxheUNoZXNzVGVtcFtpXSA9PT0gMjIpIHsKICAgICAgICAgICAgYWR2aXNvclN1bSsrOwogICAgICAgICAgfQogICAgICAgICAgLyrmm7/niLbku47lhpsqLwoKCiAgICAgICAgICBpZiAoX3RoaXM0LmRpc3BsYXlDaGVzc1RlbXBbaV0gJiA4ICYmIF90aGlzNC5kaXNwbGF5Q2hlc3NfT2xkW2ldICYgMTYpIHsKICAgICAgICAgICAgLy/oi6Xmn5DlpITkuIrkuIDmraXkuLrpu5Hmlrnmo4vlrZDvvIzkuIvkuIDmraXkuLrnuqLmlrnmo4vlrZDvvIzor7TmmI7pu5Hmlrnmo4vlrZDooqvlkIPmjokKICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSArIDAuMykpIHsKICAgICAgICAgICAgICAvL+mZhOWKoOadoeS7tu+8muWkp+amgjMwJeWHoOeOh+inpuWPkeabv+eItuS7juWGmwogICAgICAgICAgICAgIGlzRWF0ZW4gPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzNC5kaXNwbGF5Q2hlc3NUZW1wW2ldID0gX3RoaXM0LmRpc3BsYXlDaGVzc19PbGRbaV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC8q6I2J5pyo55qG5YW1Ki8KCgogICAgICAgICAgaWYgKGN1cnJlbnRWYWwgPiAxODAgfHwgX3RoaXM0Lm1hY2hpbmVfZ2V0VmFsKF90aGlzNC5kaXNwbGF5Q2hlc3NUZW1wLCBmYWxzZSkgPCAxMjIwKSB7CiAgICAgICAgICAgIC8v6buR5pa55oC75Lu35YC877ycMTIyMO+8jOWkp+e6puaNn+WkseS6huS4pOi9puS4gOeCrgogICAgICAgICAgICBpc1NraWxsMyA9IHRydWU7CgogICAgICAgICAgICBpZiAoX3RoaXM0LmRpc3BsYXlDaGVzc1RlbXBbaV0gPT09IDEpIHsKICAgICAgICAgICAgICBfdGhpczQuZGlzcGxheUNoZXNzVGVtcFtpXSA9IDIyOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoYWR2aXNvclN1bSA8IDMpIHsKICAgICAgICAgIGZvciAodmFyIF9pMTUgPSAwLCBqID0gMDsgX2kxNSA8IDU7IF9pMTUrKywgaiArPSAyKSB7CiAgICAgICAgICAgIHZhciBkb21TcSA9IF90aGlzNC5kb21Ub1NxKCQoIiNwb3MiLmNvbmNhdCgyNyArIGopKSk7IC8vIGNvbnNvbGUubG9nKCQoYCNwb3MkezI3ICsgan1gKSk7CgoKICAgICAgICAgICAgX3RoaXM0LmRpc3BsYXlDaGVzc1RlbXBbZG9tU3FdID0gMjI7CiAgICAgICAgICB9CgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NraWxsMScpLnBsYXkoKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQuZHJhd1dpdGhTcSgpOyAvLyBsZXQgY2hlc3NJbmZvID0gbnVsbAoKCiAgICAgICAgICAgIF90aGlzNC5jaGVzczFDbGljayhudWxsKTsKCiAgICAgICAgICAgIHJlc29sdmUoMSk7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9CiAgICAgICAgLyrmm7/niLbku47lhpsqLwogICAgICAgIGVsc2UgaWYgKGlzRWF0ZW4pIHsKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNza2lsbDInKS5wbGF5KCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0LmRyYXdXaXRoU3EoKTsgLy8gbGV0IGNoZXNzSW5mbyA9IG51bGwKCgogICAgICAgICAgICBfdGhpczQuY2hlc3MxQ2xpY2sobnVsbCk7CgogICAgICAgICAgICByZXNvbHZlKDIpOwogICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgfQogICAgICAgIC8q6I2J5pyo55qG5YW1Ki8KICAgICAgICBlbHNlIGlmIChpc1NraWxsMykgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NraWxsMycpLnBsYXkoKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQuZHJhd1dpdGhTcSgpOyAvLyBsZXQgY2hlc3NJbmZvID0gbnVsbAoKCiAgICAgICAgICAgIF90aGlzNC5jaGVzczFDbGljayhudWxsKTsKCiAgICAgICAgICAgIHJlc29sdmUoMyk7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9IGVsc2UgcmVzb2x2ZSgwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8q5qC55o2u6L6T5YWl55qEc3HvvIjkuIDnu7TlnZDmoIfvvInvvIzov5Tlm57mo4vnm5jkuK3or6Xmo4vlrZDnmoRkb23lr7nosaEqLwogICAgc3FUb0RvbTogZnVuY3Rpb24gc3FUb0RvbShzcSkgewogICAgICB2YXIgcm93ID0gdGhpcy5SQU5LX1koc3EpOwogICAgICB2YXIgaW1nSW5kZXggPSBzcSAtIDcgKiByb3cgLSAyOSAtIDE7IC8vIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpCgogICAgICByZXR1cm4gJCgnI3BvcycgKyBpbWdJbmRleCk7CiAgICB9LAoKICAgIC8q5qC55o2u6L6T5YWl55qEZG9t5a+56LGh77yM6L+U5Zuec3HvvIjkuIDnu7TlnZDmoIfvvIkqLwogICAgZG9tVG9TcTogZnVuY3Rpb24gZG9tVG9TcShkb20pIHsKICAgICAgdmFyIGltZ0luZGV4ID0gcGFyc2VJbnQoZG9tLmF0dHIoJ2lkJykuc2xpY2UoMykpICsgMTsKICAgICAgcmV0dXJuIHRoaXMuaW1nSW5kZXhUb1NxKGltZ0luZGV4KTsKICAgIH0sCgogICAgLyrkvKDlhaXkuIDnu7TlnZDmoIfvvIzlpoLmnpzlnKjmo4vnm5jlhoXvvIzov5Tlm550cnVlKi8KICAgIElOX0JPQVJEOiBmdW5jdGlvbiBJTl9CT0FSRChzcSkgewogICAgICByZXR1cm4gdGhpcy5JTl9CT0FSRF9bc3FdICE9PSAwOwogICAgfSwKCiAgICAvKuWIpOaWreaYr+WQpuWcqOS5neWuq+agvOWGhSzoi6XmmK/vvIzov5Tlm550cnVlKi8KICAgIElOX0ZPUlQ6IGZ1bmN0aW9uIElOX0ZPUlQoc3EpIHsKICAgICAgcmV0dXJuIHRoaXMuSU5fRk9SVF9bc3FdICE9PSAwOwogICAgfSwKCiAgICAvKuWwhuS6jOe7tOefqemYteWdkOagh+i9rOaNouS4uuS4gOe7tOefqemYteWdkOaghyAoeCx5KeWQqygwLDApKi8KICAgIENPT1JEX1hZOiBmdW5jdGlvbiBDT09SRF9YWSh4LCB5KSB7CiAgICAgIC8vIOWwhuS6jOe7tOefqemYteWdkOagh+i9rOaNouS4uuS4gOe7tOefqemYteWdkOaghyAoeCx5KeWQqygwLDApCiAgICAgIHJldHVybiB4ICsgKHkgPDwgNCk7CiAgICB9LAoKICAgIC8q5qC55o2u5LiA57u055+p6Zi177yM6I635Y+W5LqM57u055+p6Zi16KGM5pWwIOihjOaVsOS7jjDlvIDlp4sqLwogICAgUkFOS19ZOiBmdW5jdGlvbiBSQU5LX1koc3EpIHsKICAgICAgLy8g5qC55o2u5LiA57u055+p6Zi177yM6I635Y+W5LqM57u055+p6Zi16KGM5pWwIOihjOaVsOS7jjDlvIDlp4sKICAgICAgcmV0dXJuIHNxID4+IDQ7CiAgICB9LAoKICAgIC8q5qC55o2u5LiA57u055+p6Zi177yM6I635Y+W5LqM57u055+p6Zi15YiX5pWwKi8KICAgIEZJTEVfWDogZnVuY3Rpb24gRklMRV9YKHNxKSB7CiAgICAgIC8vIOagueaNruS4gOe7tOefqemYte+8jOiOt+WPluS6jOe7tOefqemYteWIl+aVsAogICAgICByZXR1cm4gc3EgJiAxNTsKICAgIH0sCgogICAgLyrliJ3lp4vljJbmo4vnm5jvvIzlvpfliLDmo4vnm5jkuIDlvIDlp4vnmoTluIPlsYAqLwogICAgaW5pdEJvYXJkOiBmdW5jdGlvbiBpbml0Qm9hcmQoKSB7CiAgICAgIHRoaXMuZGlzcGxheUNoZXNzVGVtcCA9IFtdOyAvL+a4heepuuS4gOS4i+aji+ebmAoKICAgICAgdGhpcy5GRU5BcnJheSA9IHRoaXMuRkVOLnNwbGl0KCcnKTsgLy/lsIZGRU7lrZfnrKbkuLLovazkuLrmlbDnu4QKCiAgICAgIHRoaXMuRkVOdG9Cb2FyZCh0aGlzLkZFTkFycmF5KTsgLy/lsIZGRU7kuLIoYXJyYXnlnosp6L2s5YyW5Li65LiA57u05pWw57uE5b2i5byP77yM5bm25LiU5a2X56ym5YWD57Sg5pig5bCE5Li65pW05Z6LLOS/neWtmOWcqHRoaXMuZGlzcGxheUNoZXNzVGVtcAoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykgewogICAgICAgIC8v5bCG5qOL55uY5aSW5YWD57Sg6K6+572u5Li6bnVsbAogICAgICAgIGlmICghdGhpcy5JTl9CT0FSRChpKSkgewogICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBzdGFydCA9IHRoaXMuQ09PUkRfWFkoMywgMyk7IC8vNTEs5b6q546v5byA5aeL5aSECgogICAgICB2YXIgZW5kID0gdGhpcy5DT09SRF9YWSgxMSwgMTIpOyAvLzIwM++8jOW+queOr+e7k+adn+WkhAogICAgICAvLyBsZXQgaW1nRG9tQXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LmltZ0JveCBpbWcnKQoKICAgICAgLyp0YWfnlKjkvZzorrDlvZXmlofku7blkI3lhbPplK7kv6Hmga/vvJsNCiAgICAgICoqcm935piv5b2T5YmN5b6q546v57Si5byV5YC8aeWvueW6lOeahOS6jOe7tOWdkOagh+eahOihjOaVsCxjb2zmmK/liJfmlbDvvJsNCiAgICAgICoqaW1nSW5kZXjnlKjkuo7orrDlvZVp5a+55bqU56ys5Yeg5Liq5Zu+54mHKi8KCiAgICAgIHZhciB0YWcgPSAnJywKICAgICAgICAgIHJvdyA9IDAsCiAgICAgICAgICBpbWdJbmRleCA9IDAsCiAgICAgICAgICBjb2wgPSAwOwoKICAgICAgZm9yICh2YXIgX2kxNiA9IHN0YXJ0OyBfaTE2IDw9IGVuZDsgX2kxNisrKSB7CiAgICAgICAgaWYgKHRoaXMuSU5fQk9BUkQoX2kxNikpIHsKICAgICAgICAgIHN3aXRjaCAodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW19pMTZdKSB7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICB0YWcgPSAnSyc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgdGFnID0gJ0EnOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICB0YWcgPSAnQic7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHRhZyA9ICdOJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgdGFnID0gJ1InOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICB0YWcgPSAnQyc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIHRhZyA9ICdQJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgdGFnID0gJ2tfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGFnID0gJ2FfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgdGFnID0gJ2JfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgdGFnID0gJ25fJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgdGFnID0gJ3JfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgdGFnID0gJ2NfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgdGFnID0gJ3BfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGFnID0gJ1VOZXhpc3QnOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7CiAgICAgICAgICB9CgogICAgICAgICAgcm93ID0gdGhpcy5SQU5LX1koX2kxNik7CiAgICAgICAgICBjb2wgPSB0aGlzLkZJTEVfWChfaTE2KTsKICAgICAgICAgIGltZ0luZGV4ID0gX2kxNiAtIDcgKiByb3cgLSAzMDsKICAgICAgICAgIHZhciBpbWdTcmNTdHIgPSAiL2ltZy9jaGVzcy8iLmNvbmNhdCh0YWcsICIucG5nIik7CiAgICAgICAgICB0aGlzLmltZ0RvbUFycltpbWdJbmRleF0uc3JjID0gaW1nU3JjU3RyOwogICAgICAgICAgLyrmuIXnqbrlj5jph48qLwoKICAgICAgICAgIHRhZyA9ICcnOwogICAgICAgICAgcm93ID0gMDsKICAgICAgICAgIGltZ0luZGV4ID0gMDsKICAgICAgICB9IGVsc2UgY29udGludWU7CiAgICAgIH0KICAgIH0sCgogICAgLyrlsIZGRU7kuLIoYXJyYXnlnosp6L2s5YyW5Li65LiA57u05pWw57uE5b2i5byP77yM5bm25LiU5a2X56ym5YWD57Sg5pig5bCE5Li65pW05Z6LLOS/neWtmOWcqHRoaXMuZGlzcGxheUNoZXNzVGVtcCovCiAgICBGRU50b0JvYXJkOiBmdW5jdGlvbiBGRU50b0JvYXJkKEZFTkFycmF5KSB7CiAgICAgIHZhciB4ID0gMywKICAgICAgICAgIHkgPSAzOwoKICAgICAgZm9yICh2YXIgaSBpbiBGRU5BcnJheSkgewogICAgICAgIHZhciBjaCA9IEZFTkFycmF5W2ldOwoKICAgICAgICBpZiAoY2ggPT09ICcvJykgewogICAgICAgICAgLy/mjaLooYwKICAgICAgICAgIHkrKzsKICAgICAgICB9CgogICAgICAgIGlmICh5ID4gMTIpIGJyZWFrOwogICAgICAgIGlmICh4ID4gMTEpIHggPSAzO2Vsc2UgaWYgKGNoID49ICcxJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgIC8v5Ye6546w56m65L2NCiAgICAgICAgICB4ICs9IHBhcnNlSW50KGNoKTsKICAgICAgICB9IGVsc2UgaWYgKGNoID49ICdhJyAmJiBjaCA8PSAneicpIHsKICAgICAgICAgIC8v57qi5pa55qOL5a2Q5oiW6buR5pa55qOL5a2QCiAgICAgICAgICB2YXIgaW5kZXggPSB4ICsgKHkgPDwgNCk7CiAgICAgICAgICB0aGlzLmRpc3BsYXlDaGVzc1RlbXBbaW5kZXhdID0gdGhpcy5GRU5DaGFyVG9OdW0oY2gpOwogICAgICAgICAgeCsrOwogICAgICAgIH0gZWxzZSBpZiAoY2ggPj0gJ0EnICYmIGNoIDw9ICdaJykgewogICAgICAgICAgdmFyIF9pbmRleCA9IHggKyAoeSA8PCA0KTsKCiAgICAgICAgICB0aGlzLmRpc3BsYXlDaGVzc1RlbXBbX2luZGV4XSA9IHRoaXMuRkVOQ2hhclRvTnVtKGNoKTsKICAgICAgICAgIHgrKzsKICAgICAgICB9IGVsc2UgY29uc29sZS5sb2coJ2VycicpOwogICAgICB9CiAgICB9LAoKICAgIC8q5bCG5qOL5a2Q5a2X56ym6L2s5oiQ5a+55bqU55qE5pW05pWwKi8KICAgIEZFTkNoYXJUb051bTogZnVuY3Rpb24gRkVOQ2hhclRvTnVtKGl0ZW0pIHsKICAgICAgLy/lsIbmo4vlrZDlrZfnrKbovazmiJDlr7nlupTnmoTmlbTmlbAKICAgICAgc3dpdGNoIChpdGVtKSB7CiAgICAgICAgY2FzZSAnSyc6CiAgICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiA4OwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdBJzoKICAgICAgICAgIHJldHVybiA5OwoKICAgICAgICBjYXNlICdCJzoKICAgICAgICAgIHJldHVybiAxMDsKCiAgICAgICAgY2FzZSAnTic6CiAgICAgICAgICByZXR1cm4gMTE7CgogICAgICAgIGNhc2UgJ1InOgogICAgICAgICAgcmV0dXJuIDEyOwoKICAgICAgICBjYXNlICdDJzoKICAgICAgICAgIHJldHVybiAxMzsKCiAgICAgICAgY2FzZSAnUCc6CiAgICAgICAgICByZXR1cm4gMTQ7CgogICAgICAgIGNhc2UgJ2snOgogICAgICAgICAgcmV0dXJuIDE2OwoKICAgICAgICBjYXNlICdhJzoKICAgICAgICAgIHJldHVybiAxNzsKCiAgICAgICAgY2FzZSAnYic6CiAgICAgICAgICByZXR1cm4gMTg7CgogICAgICAgIGNhc2UgJ24nOgogICAgICAgICAgcmV0dXJuIDE5OwoKICAgICAgICBjYXNlICdyJzoKICAgICAgICAgIHJldHVybiAyMDsKCiAgICAgICAgY2FzZSAnYyc6CiAgICAgICAgICByZXR1cm4gMjE7CgogICAgICAgIGNhc2UgJ3AnOgogICAgICAgICAgcmV0dXJuIDIyOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICdlcnInOwogICAgICB9CiAgICB9LAoKICAgIC8q5qC55o2u5a2X56ym77yM6L+U5Zue5Zu+54mH5paH5Lu25ZCNKOeahOWFs+mUruS/oeaBrykqLwogICAgRkVOQ2hhclRvSW1nOiBmdW5jdGlvbiBGRU5DaGFyVG9JbWcoY2gpIHsKICAgICAgc3dpdGNoIChjaCkgewogICAgICAgIGNhc2UgJ0snOgogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ0snOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICdBJzoKICAgICAgICAgIHJldHVybiAnQSc7CgogICAgICAgIGNhc2UgJ0InOgogICAgICAgICAgcmV0dXJuICdCJzsKCiAgICAgICAgY2FzZSAnTic6CiAgICAgICAgICByZXR1cm4gJ04nOwoKICAgICAgICBjYXNlICdSJzoKICAgICAgICAgIHJldHVybiAnUic7CgogICAgICAgIGNhc2UgJ0MnOgogICAgICAgICAgcmV0dXJuICdDJzsKCiAgICAgICAgY2FzZSAnUCc6CiAgICAgICAgICByZXR1cm4gJ1AnOwoKICAgICAgICBjYXNlICdrJzoKICAgICAgICAgIHJldHVybiAna18nOwoKICAgICAgICBjYXNlICdhJzoKICAgICAgICAgIHJldHVybiAnYV8nOwoKICAgICAgICBjYXNlICdiJzoKICAgICAgICAgIHJldHVybiAnYl8nOwoKICAgICAgICBjYXNlICduJzoKICAgICAgICAgIHJldHVybiAnbl8nOwoKICAgICAgICBjYXNlICdyJzoKICAgICAgICAgIHJldHVybiAncl8nOwoKICAgICAgICBjYXNlICdjJzoKICAgICAgICAgIHJldHVybiAnY18nOwoKICAgICAgICBjYXNlICdwJzoKICAgICAgICAgIHJldHVybiAncF8nOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICdlcnInOwogICAgICB9CiAgICB9LAoKICAgIC8q5qC55o2u5qOL5a2Q5Zu+54mH5paH5Lu25ZCN77yM6L+U5Zue5qOL5a2Q5Lit5paH5a2X56ym5LiyKi8KICAgIEltZ05hbWVUb0NoZXNzTmFtZTogZnVuY3Rpb24gSW1nTmFtZVRvQ2hlc3NOYW1lKGltZ05hbWUpIHsKICAgICAgc3dpdGNoIChpbWdOYW1lKSB7CiAgICAgICAgY2FzZSAnSyc6CiAgICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAn57qi5pa5X+W4hSc7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgJ0EnOgogICAgICAgICAgcmV0dXJuICfnuqLmlrlf5aOrJzsKCiAgICAgICAgY2FzZSAnQic6CiAgICAgICAgICByZXR1cm4gJ+e6ouaWuV/nm7gnOwoKICAgICAgICBjYXNlICdOJzoKICAgICAgICAgIHJldHVybiAn57qi5pa5X+mprCc7CgogICAgICAgIGNhc2UgJ1InOgogICAgICAgICAgcmV0dXJuICfnuqLmlrlf6L2mJzsKCiAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICByZXR1cm4gJ+e6ouaWuV/ngq4nOwoKICAgICAgICBjYXNlICdQJzoKICAgICAgICAgIHJldHVybiAn57qi5pa5X+WFtSc7CgogICAgICAgIGNhc2UgJ2snOgogICAgICAgICAgcmV0dXJuICfpu5Hmlrlf5bCGJzsKCiAgICAgICAgY2FzZSAnYSc6CiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/ku5UnOwoKICAgICAgICBjYXNlICdiJzoKICAgICAgICAgIHJldHVybiAn6buR5pa5X+ixoSc7CgogICAgICAgIGNhc2UgJ24nOgogICAgICAgICAgcmV0dXJuICfpu5Hmlrlf6amsJzsKCiAgICAgICAgY2FzZSAncic6CiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/ovaYnOwoKICAgICAgICBjYXNlICdjJzoKICAgICAgICAgIHJldHVybiAn6buR5pa5X+eCric7CgogICAgICAgIGNhc2UgJ3AnOgogICAgICAgICAgcmV0dXJuICfpu5Hmlrlf5Y2SJzsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAn56m6JzsKICAgICAgfQogICAgfSwKCiAgICAvKuagueaNrkZFTuS4sue7mOWItuaji+ebmCovCiAgICBkcmF3V2l0aEZFTjogZnVuY3Rpb24gZHJhd1dpdGhGRU4oRkVOKSB7CiAgICAgIHRoaXMuRkVOQXJyYXkgPSBbXTsKICAgICAgdGhpcy5GRU5BcnJheSA9IEZFTi5zcGxpdCgnJyk7CiAgICAgIHRoaXMuZGlzcGxheUNoZXNzVGVtcCA9IFtdOwogICAgICB0aGlzLkZFTnRvQm9hcmQodGhpcy5GRU5BcnJheSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuZGlzcGxheUNoZXNzVGVtcCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgICAgLy/lsIbmo4vnm5jlpJblhYPntKDorr7nva7kuLpudWxsCiAgICAgICAgaWYgKCF0aGlzLklOX0JPQVJEKGkpKSB7CiAgICAgICAgICB0aGlzLmRpc3BsYXlDaGVzc1RlbXBbaV0gPSBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5DT09SRF9YWSgzLCAzKTsgLy81MSzlvqrnjq/lvIDlp4vlpIQKCiAgICAgIHZhciBlbmQgPSB0aGlzLkNPT1JEX1hZKDExLCAxMik7IC8vMjAz77yM5b6q546v57uT5p2f5aSECiAgICAgIC8vIHRoaXMuaW1nRG9tQXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LmltZ0JveCBpbWcnKQoKICAgICAgLyp0YWfnlKjkvZzorrDlvZXmlofku7blkI3lhbPplK7kv6Hmga/vvJsNCiAgICAgICoqcm935piv5b2T5YmN5b6q546v57Si5byV5YC8aeWvueW6lOeahOS6jOe7tOWdkOagh+eahOihjOaVsCxjb2zmmK/liJfmlbDvvJsNCiAgICAgICoqaW1nSW5kZXjnlKjkuo7orrDlvZVp5a+55bqU56ys5Yeg5Liq5Zu+54mHKi8KCiAgICAgIHZhciB0YWcgPSAnJywKICAgICAgICAgIHJvdyA9IDAsCiAgICAgICAgICBpbWdJbmRleCA9IDAsCiAgICAgICAgICBjb2wgPSAwOwoKICAgICAgZm9yICh2YXIgX2kxNyA9IHN0YXJ0OyBfaTE3IDw9IGVuZDsgX2kxNysrKSB7CiAgICAgICAgaWYgKHRoaXMuSU5fQk9BUkQoX2kxNykpIHsKICAgICAgICAgIHN3aXRjaCAodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW19pMTddKSB7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICB0YWcgPSAnSyc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgdGFnID0gJ0EnOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICB0YWcgPSAnQic7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHRhZyA9ICdOJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgdGFnID0gJ1InOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICB0YWcgPSAnQyc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIHRhZyA9ICdQJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgdGFnID0gJ2tfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGFnID0gJ2FfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgdGFnID0gJ2JfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgdGFnID0gJ25fJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgdGFnID0gJ3JfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgdGFnID0gJ2NfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgdGFnID0gJ3BfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGFnID0gJ1VOZXhpc3QnOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7CiAgICAgICAgICB9CgogICAgICAgICAgcm93ID0gdGhpcy5SQU5LX1koX2kxNyk7CiAgICAgICAgICBjb2wgPSB0aGlzLkZJTEVfWChfaTE3KTsKICAgICAgICAgIGltZ0luZGV4ID0gX2kxNyAtIDcgKiByb3cgLSAzMDsKICAgICAgICAgIHZhciBpbWdTcmNTdHIgPSAiL2ltZy9jaGVzcy8iLmNvbmNhdCh0YWcsICIucG5nIik7CiAgICAgICAgICB0aGlzLmltZ0RvbUFycltpbWdJbmRleF0uc3JjID0gaW1nU3JjU3RyOyAvLyDph43mlrDmuLLmn5Pmo4vlrZDlm77niYcKCiAgICAgICAgICAvKua4heepuuWPmOmHjyovCgogICAgICAgICAgdGFnID0gJyc7CiAgICAgICAgICByb3cgPSAwOwogICAgICAgICAgaW1nSW5kZXggPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvKuagueaNrmRpc3BsYXlDaGVzc1RlbXDph43mlrDnu5jliLblsYDpnaIqLwogICAgZHJhd1dpdGhTcTogZnVuY3Rpb24gZHJhd1dpdGhTcSgpIHsKICAgICAgdGhpcy4kZW1pdCgnYm9hcmQtdXBkYXRlJywgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wKTsKICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5DT09SRF9YWSgzLCAzKTsgLy81MSzlvqrnjq/lvIDlp4vlpIQKCiAgICAgIHZhciBlbmQgPSB0aGlzLkNPT1JEX1hZKDExLCAxMik7IC8vMjAz77yM5b6q546v57uT5p2f5aSECiAgICAgIC8vIHRoaXMuaW1nRG9tQXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LmltZ0JveCBpbWcnKQoKICAgICAgLyp0YWfnlKjkvZzorrDlvZXmlofku7blkI3lhbPplK7kv6Hmga/vvJsNCiAgICAgICoqcm935piv5b2T5YmN5b6q546v57Si5byV5YC8aeWvueW6lOeahOS6jOe7tOWdkOagh+eahOihjOaVsCxjb2zmmK/liJfmlbDvvJsNCiAgICAgICoqaW1nSW5kZXjnlKjkuo7orrDlvZVp5a+55bqU56ys5Yeg5Liq5Zu+54mHKi8KCiAgICAgIHZhciB0YWcgPSAnJywKICAgICAgICAgIHJvdyA9IDAsCiAgICAgICAgICBpbWdJbmRleCA9IDAsCiAgICAgICAgICBjb2wgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuSU5fQk9BUkQoaSkpIHsKICAgICAgICAgIHN3aXRjaCAodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldKSB7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICB0YWcgPSAnSyc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgdGFnID0gJ0EnOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICB0YWcgPSAnQic7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHRhZyA9ICdOJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgdGFnID0gJ1InOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICB0YWcgPSAnQyc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIHRhZyA9ICdQJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgdGFnID0gJ2tfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGFnID0gJ2FfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgdGFnID0gJ2JfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgdGFnID0gJ25fJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgdGFnID0gJ3JfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgdGFnID0gJ2NfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgdGFnID0gJ3BfJzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdGFnID0gJ1VOZXhpc3QnOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7CiAgICAgICAgICB9CgogICAgICAgICAgcm93ID0gdGhpcy5SQU5LX1koaSk7CiAgICAgICAgICBjb2wgPSB0aGlzLkZJTEVfWChpKTsKICAgICAgICAgIGltZ0luZGV4ID0gaSAtIDcgKiByb3cgLSAzMDsKICAgICAgICAgIHZhciBpbWdTcmNTdHIgPSAiL2ltZy9jaGVzcy8iLmNvbmNhdCh0YWcsICIucG5nIik7CiAgICAgICAgICB0aGlzLmltZ0RvbUFycltpbWdJbmRleF0uc3JjID0gaW1nU3JjU3RyOyAvLyDph43mlrDmuLLmn5Pmo4vlrZDlm77niYcKCiAgICAgICAgICAvKua4heepuuWPmOmHjyovCgogICAgICAgICAgdGFnID0gJyc7CiAgICAgICAgICByb3cgPSAwOwogICAgICAgICAgaW1nSW5kZXggPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvKuWwhuesrOWHoOS4quWbvueJh+agh+etvui9rOaNouS4unNxKi8KICAgIGltZ0luZGV4VG9TcTogZnVuY3Rpb24gaW1nSW5kZXhUb1NxKGltZ0luZGV4KSB7CiAgICAgIHZhciByb3cgPSBNYXRoLmZsb29yKChpbWdJbmRleCAtIDEpIC8gOSkgKyAzOwogICAgICByZXR1cm4gaW1nSW5kZXggKyAzMCArIDcgKiByb3cgLSAxOyAvLyBjb25zb2xlLmxvZygnc3E6JyArIHNxKTsKICAgIH0sCgogICAgLyrlpoLmnpzku47otbfngrlzcVNyY+WIsOe7iOeCuXNxRHN05rKh5pyJ6L+H5rKz77yM5YiZ6L+U5ZuedHJ1Ze+8m+WQpuWImei/lOWbnmZhbHNlKi8KICAgIFNBTUVfSEFMRjogZnVuY3Rpb24gU0FNRV9IQUxGKHNxU3JjLCBzcURzdCkgewogICAgICAvLyDlpoLmnpzku47otbfngrlzcVNyY+WIsOe7iOeCuXNxRHN05rKh5pyJ6L+H5rKz77yM5YiZ6L+U5ZuedHJ1Ze+8m+WQpuWImei/lOWbnmZhbHNlCiAgICAgIHJldHVybiAoKHNxU3JjIF4gc3FEc3QpICYgMHg4MCkgPT09IDA7CiAgICB9LAogICAgc3VyZUlucHV0OiBmdW5jdGlvbiBzdXJlSW5wdXQoKSB7CiAgICAgIHZhciBuZXdGRU4gPSB0aGlzLnVzZXJJbnB1dDsKICAgICAgdGhpcy5kcmF3V2l0aEZFTihuZXdGRU4pOwogICAgfSwKICAgIHRlc3QyOiBmdW5jdGlvbiB0ZXN0MigpIHsKICAgICAgdmFyIG5ld0ZFTiA9ICcxbjFha2FibnIvcjgvOS85LzkvOS9QMVAxUDFQMVAvMUM1QzEvOS9STkJBS0FCTlInOwogICAgICB0aGlzLmRyYXdXaXRoRkVOKG5ld0ZFTik7CiAgICB9LAogICAgYnRuQ2xpY2syOiBmdW5jdGlvbiBidG5DbGljazIoKSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdWRpb0J4IGxpID4gYXVkaW8nKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5wbGF5KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZXNzMUNsaWNrOiBmdW5jdGlvbiBjaGVzczFDbGljayhpbmZvKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGluZm8pOwogICAgICB0aGlzLiRlbWl0KCdzaG93JywgaW5mbyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/CodingForFun/Vue/gaosen/docs/.vuepress/components/Chess1.vue"],"names":["$","name","props","displayChess","type","Array","playerSide","Boolean","isSelectMachine","data","visible","test","IN_BOARD_","IN_FORT_","displayChessTemp","FEN","FENArray","userInputFEN","userInput","sqSelected","currentChess","displayChess_Old","isHaveK_w","isHaveK_b","computed","imgDomArr","document","querySelectorAll","watch","handler","val","oldVal","undefined","map","item","drawWithSq","newVal","machine_passiveSkills","skill","$message","warning","domArr","machine_getPcToBeMoved","e","dom1","dom2","success","ImgNameToChessName","attr","slice","machineMove","mounted","initBoard","forEach","index","addEventListener","fileName","target","src","alertStr","imgIndex","parseInt","id","chessInfo","imgIndexToSq","chess1Click","methods","fileName1","imgIndex1","chessInfo1","setTimeout","fileName2","imgIndex2","chessInfo2","machine_getSteps","dom","arr","step","sqSrc","KING_DELTA","i","sqDst","IN_BOARD","IN_FORT","row","RANK_Y","domTemp","push","ADVISOR_DELTA","BISHOP_DELTA","SAME_HALF","KNIGHT_DELTA","j","delta","PAWN_delta","domToSq","blackAllPc","whiteAllPc","displayChess_evaluate","ramI_w","Math","floor","random","length","val2","maxVal","maxVal2_sqSrc_w","DstDom","k","sqSrc_w","machine_getExactStep","sqToDom","sqDst_w","tempNum","machine_supposeToMove","machine_evaluate","machine_recoverFicBoard","xDstDom","xArr","sqDst_b","sqSrc_b","val1","minVal","stepArray","tempNum_b","xxxDstDom","tempNum_w","console","log","srcDom","allWays","randomDstIndex","dstDom","srcNum","currentVal","array","wVal","machine_getVal","bVal","isWhite","temp","Promise","resolve","reject","advisorSum","isEaten","isSkill3","domSq","querySelector","play","sq","COORD_XY","x","y","FILE_X","split","FENtoBoard","start","end","tag","col","imgSrcStr","ch","FENCharToNum","FENCharToImg","imgName","drawWithFEN","$emit","sureInput","newFEN","test2","btnClick2","info"],"mappings":"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K,OAAO,OAAP,CA1UoB,CA2UzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport $ from 'jquery'\r\n\r\nexport default {\r\n  name: \"Chess\",\r\n  props: {\r\n    displayChess: {\r\n      type: Array,\r\n      default: [\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//3\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//12\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n    },\r\n    playerSide: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isSelectMachine: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      test: [],\r\n      IN_BOARD_: [\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n      IN_FORT_: [//\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n      displayChessTemp: [\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//3\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//12\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n      FEN: 'rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR',\r\n      FENArray: [],\r\n      userInputFEN: '',\r\n      userInput: '',\r\n      sqSelected: 0,//\r\n      currentChess: '',//,\r\n      displayChess_Old: [],\r\n      isHaveK_w: false,\r\n      isHaveK_b: false,\r\n    }\r\n  },\r\n  computed: {\r\n    imgDomArr() {\r\n      return document.querySelectorAll('div.imgBox img')\r\n    },\r\n  },\r\n  watch: {\r\n    displayChess: {\r\n      handler(val, oldVal) {\r\n        if(val === undefined) return\r\n        this.displayChess_Old = oldVal.map((item) => {return item})\r\n        this.displayChessTemp = val.map(item => {return item})\r\n        this.drawWithSq()//\r\n      },\r\n      // deep: true\r\n    },\r\n    async playerSide(newVal,oldVal) {\r\n      if(!newVal && this.isSelectMachine) {//\r\n        let skill = await this.machine_passiveSkills()\r\n        if(skill === 1) {\r\n          this.$message.warning('')\r\n        }\r\n        else if(skill === 2) {\r\n          this.$message.warning('')\r\n        }\r\n        else if(skill === 3) {\r\n          this.$message.warning('')\r\n        }\r\n        else if(skill === 0) {\r\n          // let dom1 = $('#pos8')\r\n          let domArr = this.machine_getPcToBeMoved().map(e => {return e})\r\n          let dom1 = domArr[0]\r\n          // let dom2 = this.machine_getSteps(dom1)[0]\r\n          // let dom2 = this.machine_getExactStep(dom1)\r\n          let dom2 = domArr[1]\r\n          this.$message.success('' + this.ImgNameToChessName(dom1.attr('src').slice(11,12)))\r\n\r\n          this.machineMove(dom1,dom2)\r\n          // console.log(dom1);\r\n          // console.log(dom2);\r\n          // console.log(this.machine_getSteps(dom1));\r\n        }\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // const css = document.createElement('link');\r\n    // css.rel = 'stylesheet';\r\n    // css.href = 'https://cdn.repository.webfont.com/webfonts/nomal/148407/46489/625407aaf629d81300ac19b3.css';\r\n    // document.body.appendChild(css);\r\n\r\n    this.initBoard()\r\n    /*img*/\r\n    document.querySelectorAll('div.imgBox img').forEach((e, index) => {\r\n      e.addEventListener('mousedown', (e, index) => {\r\n        let fileName = e.target.src.slice(32, 33)\r\n        // console.log(fileName);\r\n        let alertStr = this.ImgNameToChessName(fileName)\r\n\r\n        let imgIndex = parseInt(e.target.id.slice(3)) + 1\r\n        // console.log(imgIndex);\r\n        // console.log(this.displayChessTemp);\r\n        let chessInfo = {//\r\n          displayChess: this.displayChessTemp,\r\n          fileName: fileName,\r\n          imgIndex: imgIndex,\r\n          sqSelected: this.imgIndexToSq(imgIndex)\r\n        }\r\n\r\n        this.chess1Click(chessInfo)\r\n\r\n        /*currentChess*/\r\n        // this.currentChess = fileName\r\n        // if(this.sqSelected) {\r\n        //   if(this.currentChess != 'U') {\r\n        //     console.log('');\r\n        //   }\r\n        // }\r\n      })\r\n    })\r\n\r\n  },\r\n  methods: {\r\n    /*\r\n    * dom:dom(chess1Click)\r\n    * 12\r\n    * \r\n    * */\r\n    machineMove(dom1,dom2){\r\n      let fileName1 = dom1.attr('src').slice(11, 12)\r\n      let imgIndex1 = parseInt(dom1.attr('id').slice(3)) + 1\r\n      let chessInfo1 = {//\r\n        displayChess: this.displayChessTemp,\r\n        fileName: fileName1,\r\n        imgIndex: imgIndex1,\r\n        sqSelected: this.imgIndexToSq(imgIndex1)\r\n      }\r\n      this.chess1Click(chessInfo1)//pos0\r\n\r\n      setTimeout(() => {\r\n        let fileName2 = dom2.attr('src').slice(11, 12)\r\n        let imgIndex2 = parseInt(dom2.attr('id').slice(3)) + 1\r\n        let chessInfo2 = {//\r\n          displayChess: this.displayChessTemp,\r\n          fileName: fileName2,\r\n          imgIndex: imgIndex2,\r\n          sqSelected: this.imgIndexToSq(imgIndex2)\r\n        }\r\n        this.chess1Click(chessInfo2)\r\n      },500)\r\n\r\n    },\r\n    /*domarraydom*/\r\n    machine_getSteps(dom, arr) {\r\n      // console.log(arr);\r\n      if(arr !== undefined) {\r\n        let step = []\r\n        let fileName = dom.attr('src').slice(11, 12)\r\n        let sqSrc = this.imgIndexToSq(parseInt(dom.attr('id').slice(3)) + 1)//\r\n        switch (fileName) {\r\n          case 'k': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            for (let i in KING_DELTA) {// 4\r\n              let sqDst = sqSrc + KING_DELTA[i]; // \r\n              if(!this.IN_BOARD(sqDst)) {//\r\n                continue\r\n              }\r\n              if(arr[sqDst] < 16 && this.IN_FORT(sqDst)) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'a': {\r\n            let ADVISOR_DELTA = [-15, -17, 17, 15];\r\n            for(let i in ADVISOR_DELTA) {\r\n              let sqDst = sqSrc + ADVISOR_DELTA[i]; // \r\n              if(!this.IN_BOARD(sqDst) ) {//\r\n                continue\r\n              }\r\n              if(arr[sqDst] < 16 && this.IN_FORT(sqDst)) {\r\n                //,\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'b': {\r\n            let BISHOP_DELTA = [-34, -30, 30, 34];\r\n            for(let i in BISHOP_DELTA) {\r\n              let sqDst = sqSrc + BISHOP_DELTA[i]; // \r\n              if(!this.IN_BOARD(sqDst) || !this.SAME_HALF(sqSrc,sqDst)\r\n                  || arr[(sqSrc+sqDst)/2] > 1) {\r\n                //,,\r\n                continue\r\n              }\r\n              if(arr[sqDst] < 16) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'n': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            let KNIGHT_DELTA = [[-33, -31], [-18, 14], [-14, 18], [31, 33]];\r\n            for(let i in KNIGHT_DELTA) {// 4\r\n              let sqDst = sqSrc + KING_DELTA[i]; // \r\n              if(arr[sqDst] > 1) {\r\n                //\r\n                continue\r\n              }\r\n              for (let j = 0; j < 2; j ++) { // 12\r\n                sqDst = sqSrc + KNIGHT_DELTA[i][j]; // \r\n                if (!this.IN_BOARD(sqDst)) {\r\n                  continue;\r\n                }\r\n                if(arr[sqDst] < 16) {\r\n                  //\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                }\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'r': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            for (let i = 0; i < 4; i ++) {\r\n              let delta = KING_DELTA[i];    // \r\n              let sqDst = sqSrc + delta;    // sqSrcdelta\r\n              while (this.IN_BOARD(sqDst)) {\r\n                //\r\n                if(arr[sqDst] < 16) {\r\n                  //,\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                  if(arr[sqDst] >= 8) {\r\n                    //\r\n                    break\r\n                  }\r\n                }\r\n                else break\r\n                sqDst += delta;     // delta\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'c': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            for (let i = 0; i < 4; i ++) {\r\n              let delta = KING_DELTA[i];    // \r\n              let sqDst = sqSrc + delta;    // sqSrcdelta\r\n              while (this.IN_BOARD(sqDst)) {\r\n                if(arr[sqDst] === 1) {\r\n                  //\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                }\r\n                else {            // \r\n                  break;\r\n                }\r\n                sqDst += delta;     // delta\r\n              }\r\n              sqDst += delta;       // delta\r\n              while (this.IN_BOARD(sqDst)) { // sqDst\r\n                if(arr[sqDst] >= 8 && arr[sqDst] < 16) {\r\n                  //\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row - 29 - 1\r\n                  let domTemp = $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                  break\r\n                }\r\n                sqDst += delta;\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'p': {\r\n            let PAWN_delta = [16,1,-1] //,/\r\n            let sqDst = sqSrc + PAWN_delta[0]\r\n            if(arr[sqDst] < 16) {//\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n            //(131\r\n            if(sqSrc >= this.domToSq($('#pos45'))) {\r\n              for (let i = 0; i < 2; i++) {\r\n                sqDst = sqSrc + PAWN_delta[i+1]\r\n                if(!this.IN_BOARD(sqDst)) break\r\n                if(arr[sqDst] < 16) {\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                }\r\n              }\r\n            }\r\n            break\r\n          }\r\n\r\n          case 'K': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            for (let i in KING_DELTA) {// 4\r\n              let sqDst = sqSrc + KING_DELTA[i]; // \r\n              if(!this.IN_BOARD(sqDst)) {//\r\n                continue\r\n              }\r\n              if(!(arr[sqDst] & 8) && this.IN_FORT(sqDst)) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'A': {\r\n            let ADVISOR_DELTA = [-15, -17, 17, 15];\r\n            for(let i in ADVISOR_DELTA) {\r\n              let sqDst = sqSrc + ADVISOR_DELTA[i]; // \r\n              if(!this.IN_BOARD(sqDst) ) {//\r\n                continue\r\n              }\r\n              if(!(arr[sqDst] & 8) && this.IN_FORT(sqDst)) {\r\n                //,\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'B': {\r\n            let BISHOP_DELTA = [-34, -30, 30, 34];\r\n            for(let i in BISHOP_DELTA) {\r\n              let sqDst = sqSrc + BISHOP_DELTA[i]; // \r\n              if(!this.IN_BOARD(sqDst) || !this.SAME_HALF(sqSrc,sqDst)\r\n                  || arr[(sqSrc+sqDst)/2] > 1) {\r\n                //,,\r\n                continue\r\n              }\r\n              if(!(arr[sqDst] & 8)) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'N': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            let KNIGHT_DELTA = [[-33, -31], [-18, 14], [-14, 18], [31, 33]];\r\n            for(let i in KNIGHT_DELTA) {// 4\r\n              let sqDst = sqSrc + KING_DELTA[i]; // \r\n              if(arr[sqDst] > 1) {\r\n                //\r\n                continue\r\n              }\r\n              for (let j = 0; j < 2; j ++) { // 12\r\n                sqDst = sqSrc + KNIGHT_DELTA[i][j]; // \r\n                if (!this.IN_BOARD(sqDst)) {\r\n                  continue;\r\n                }\r\n                if(!(arr[sqDst] & 8)) {\r\n                  //\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                }\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'R': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            for (let i = 0; i < 4; i ++) {\r\n              let delta = KING_DELTA[i];    // \r\n              let sqDst = sqSrc + delta;    // sqSrcdelta\r\n              while (this.IN_BOARD(sqDst)) {\r\n                //\r\n                if(!(arr[sqDst] & 8)) {\r\n                  //,\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                  if(arr[sqDst] & 16) {\r\n                    //\r\n                    break\r\n                  }\r\n                }\r\n                else break\r\n                sqDst += delta;     // delta\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'C': {\r\n            let KING_DELTA= [-16, -1, 1, 16];\r\n            for (let i = 0; i < 4; i ++) {\r\n              let delta = KING_DELTA[i];    // \r\n              let sqDst = sqSrc + delta;    // sqSrcdelta\r\n              while (this.IN_BOARD(sqDst)) {\r\n                if(arr[sqDst] === 1) {\r\n                  //\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                }\r\n                else {            // \r\n                  break;\r\n                }\r\n                sqDst += delta;     // delta\r\n              }\r\n              sqDst += delta;       // delta\r\n              while (this.IN_BOARD(sqDst)) { // sqDst\r\n                if(arr[sqDst] & 16) {\r\n                  //\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row - 29 - 1\r\n                  let domTemp = $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                  break\r\n                }\r\n                sqDst += delta;\r\n              }\r\n            }\r\n            break\r\n          }\r\n          case 'P': {\r\n            let PAWN_delta = [-16,1,-1] //,/\r\n            let sqDst = sqSrc + PAWN_delta[0]\r\n            if(!(arr[sqDst] & 8)) {//,\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n            //(131\r\n            if(sqSrc < 131 && this.IN_BOARD(sqDst)) {\r\n              for (let i = 0; i < 2; i++) {\r\n                sqDst = sqSrc + PAWN_delta[i+1]\r\n                if(!this.IN_BOARD(sqDst)) break\r\n                if(!(arr[sqDst] & 8)) {\r\n                  let row = this.RANK_Y(sqDst)\r\n                  let imgIndex = sqDst - 7*row -29 - 1\r\n                  let domTemp =  $('#pos' + imgIndex)\r\n                  step.push(domTemp)\r\n                }\r\n              }\r\n            }\r\n            break\r\n          }\r\n          default: step.push(null)\r\n        }\r\n        return step\r\n      }\r\n      else return 'ERROR'\r\n      // else {\r\n      //   let step = []\r\n      //   let fileName = dom.attr('src').slice(11, 12)\r\n      //   let sqSrc = this.imgIndexToSq(parseInt(dom.attr('id').slice(3)) + 1)//\r\n      //   switch (fileName) {\r\n      //     case 'k': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       for (let i in KING_DELTA) {// 4\r\n      //         let sqDst = sqSrc + KING_DELTA[i]; // \r\n      //         if(!this.IN_BOARD(sqDst)) {//\r\n      //           continue\r\n      //         }\r\n      //         if(this.displayChessTemp[sqDst] < 16 && this.IN_FORT(sqDst)) {\r\n      //           //\r\n      //           let row = this.RANK_Y(sqDst)\r\n      //           let imgIndex = sqDst - 7*row -29 - 1\r\n      //           let domTemp =  $('#pos' + imgIndex)\r\n      //           step.push(domTemp)\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'a': {\r\n      //       let ADVISOR_DELTA = [-15, -17, 17, 15];\r\n      //       for(let i in ADVISOR_DELTA) {\r\n      //         let sqDst = sqSrc + ADVISOR_DELTA[i]; // \r\n      //         if(!this.IN_BOARD(sqDst) ) {//\r\n      //           continue\r\n      //         }\r\n      //         if(this.displayChessTemp[sqDst] < 16 && this.IN_FORT(sqDst)) {\r\n      //           //,\r\n      //           let row = this.RANK_Y(sqDst)\r\n      //           let imgIndex = sqDst - 7*row -29 - 1\r\n      //           let domTemp =  $('#pos' + imgIndex)\r\n      //           step.push(domTemp)\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'b': {\r\n      //       let BISHOP_DELTA = [-34, -30, 30, 34];\r\n      //       for(let i in BISHOP_DELTA) {\r\n      //         let sqDst = sqSrc + BISHOP_DELTA[i]; // \r\n      //         if(!this.IN_BOARD(sqDst) || !this.SAME_HALF(sqSrc,sqDst)\r\n      //             || this.displayChessTemp[(sqSrc+sqDst)/2] > 1) {\r\n      //           //,,\r\n      //           continue\r\n      //         }\r\n      //         if(this.displayChessTemp[sqDst] < 16) {\r\n      //           //\r\n      //           let row = this.RANK_Y(sqDst)\r\n      //           let imgIndex = sqDst - 7*row -29 - 1\r\n      //           let domTemp =  $('#pos' + imgIndex)\r\n      //           step.push(domTemp)\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'n': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       let KNIGHT_DELTA = [[-33, -31], [-18, 14], [-14, 18], [31, 33]];\r\n      //       for(let i in KNIGHT_DELTA) {// 4\r\n      //         let sqDst = sqSrc + KING_DELTA[i]; // \r\n      //         if(this.displayChessTemp[sqDst] > 1) {\r\n      //           //\r\n      //           continue\r\n      //         }\r\n      //         for (let j = 0; j < 2; j ++) { // 12\r\n      //           sqDst = sqSrc + KNIGHT_DELTA[i][j]; // \r\n      //           if (!this.IN_BOARD(sqDst)) {\r\n      //             continue;\r\n      //           }\r\n      //           if(this.displayChessTemp[sqDst] < 16) {\r\n      //             //\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //           }\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'r': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       for (let i = 0; i < 4; i ++) {\r\n      //         let delta = KING_DELTA[i];    // \r\n      //         let sqDst = sqSrc + delta;    // sqSrcdelta\r\n      //         while (this.IN_BOARD(sqDst)) {\r\n      //           //\r\n      //           if(this.displayChessTemp[sqDst] < 16) {\r\n      //             //,\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //             if(this.displayChessTemp[sqDst] >= 8) {\r\n      //               //\r\n      //               break\r\n      //             }\r\n      //           }\r\n      //           else break\r\n      //           sqDst += delta;     // delta\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'c': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       for (let i = 0; i < 4; i ++) {\r\n      //         let delta = KING_DELTA[i];    // \r\n      //         let sqDst = sqSrc + delta;    // sqSrcdelta\r\n      //         while (this.IN_BOARD(sqDst)) {\r\n      //           if(this.displayChessTemp[sqDst] === 1) {\r\n      //             //\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //           }\r\n      //           else {            // \r\n      //             break;\r\n      //           }\r\n      //           sqDst += delta;     // delta\r\n      //         }\r\n      //         sqDst += delta;       // delta\r\n      //         while (this.IN_BOARD(sqDst)) { // sqDst\r\n      //           if(this.displayChessTemp[sqDst] >= 8 && this.displayChessTemp[sqDst] < 16) {\r\n      //             //\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row - 29 - 1\r\n      //             let domTemp = $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //             break\r\n      //           }\r\n      //           sqDst += delta;\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'p': {\r\n      //       let PAWN_delta = [16,1,-1] //,/\r\n      //       let sqDst = sqSrc + PAWN_delta[0]\r\n      //       if(this.displayChessTemp[sqDst] < 16) {//\r\n      //         let row = this.RANK_Y(sqDst)\r\n      //         let imgIndex = sqDst - 7*row -29 - 1\r\n      //         let domTemp =  $('#pos' + imgIndex)\r\n      //         step.push(domTemp)\r\n      //       }\r\n      //       if(sqSrc >= 131 && this.IN_BOARD(sqDst)) {//(131\r\n      //         for (let i = 0; i < 2; i++) {\r\n      //           sqDst = sqSrc + PAWN_delta[i+1]\r\n      //           if(this.displayChessTemp[sqDst] < 16) {\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //           }\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //\r\n      //     case 'K': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       for (let i in KING_DELTA) {// 4\r\n      //         let sqDst = sqSrc + KING_DELTA[i]; // \r\n      //         if(!this.IN_BOARD(sqDst)) {//\r\n      //           continue\r\n      //         }\r\n      //         if(!(this.displayChessTemp[sqDst] & 8) && this.IN_FORT(sqDst)) {\r\n      //           //\r\n      //           let row = this.RANK_Y(sqDst)\r\n      //           let imgIndex = sqDst - 7*row -29 - 1\r\n      //           let domTemp =  $('#pos' + imgIndex)\r\n      //           step.push(domTemp)\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'A': {\r\n      //       let ADVISOR_DELTA = [-15, -17, 17, 15];\r\n      //       for(let i in ADVISOR_DELTA) {\r\n      //         let sqDst = sqSrc + ADVISOR_DELTA[i]; // \r\n      //         if(!this.IN_BOARD(sqDst) ) {//\r\n      //           continue\r\n      //         }\r\n      //         if(!(this.displayChessTemp[sqDst] & 8) && this.IN_FORT(sqDst)) {\r\n      //           //,\r\n      //           let row = this.RANK_Y(sqDst)\r\n      //           let imgIndex = sqDst - 7*row -29 - 1\r\n      //           let domTemp =  $('#pos' + imgIndex)\r\n      //           step.push(domTemp)\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'B': {\r\n      //       let BISHOP_DELTA = [-34, -30, 30, 34];\r\n      //       for(let i in BISHOP_DELTA) {\r\n      //         let sqDst = sqSrc + BISHOP_DELTA[i]; // \r\n      //         if(!this.IN_BOARD(sqDst) || !this.SAME_HALF(sqSrc,sqDst)\r\n      //             || this.displayChessTemp[(sqSrc+sqDst)/2] > 1) {\r\n      //           //,,\r\n      //           continue\r\n      //         }\r\n      //         if(!(this.displayChessTemp[sqDst] & 8)) {\r\n      //           //\r\n      //           let row = this.RANK_Y(sqDst)\r\n      //           let imgIndex = sqDst - 7*row -29 - 1\r\n      //           let domTemp =  $('#pos' + imgIndex)\r\n      //           step.push(domTemp)\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'N': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       let KNIGHT_DELTA = [[-33, -31], [-18, 14], [-14, 18], [31, 33]];\r\n      //       for(let i in KNIGHT_DELTA) {// 4\r\n      //         let sqDst = sqSrc + KING_DELTA[i]; // \r\n      //         if(this.displayChessTemp[sqDst] > 1) {\r\n      //           //\r\n      //           continue\r\n      //         }\r\n      //         for (let j = 0; j < 2; j ++) { // 12\r\n      //           sqDst = sqSrc + KNIGHT_DELTA[i][j]; // \r\n      //           if (!this.IN_BOARD(sqDst)) {\r\n      //             continue;\r\n      //           }\r\n      //           if(!(this.displayChessTemp[sqDst] & 8)) {\r\n      //             //\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //           }\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'R': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       for (let i = 0; i < 4; i ++) {\r\n      //         let delta = KING_DELTA[i];    // \r\n      //         let sqDst = sqSrc + delta;    // sqSrcdelta\r\n      //         while (this.IN_BOARD(sqDst)) {\r\n      //           //\r\n      //           if(!(this.displayChessTemp[sqDst] & 8)) {\r\n      //             //,\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //             if(this.displayChessTemp[sqDst] & 16) {\r\n      //               //\r\n      //               break\r\n      //             }\r\n      //           }\r\n      //           else break\r\n      //           sqDst += delta;     // delta\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'C': {\r\n      //       let KING_DELTA= [-16, -1, 1, 16];\r\n      //       for (let i = 0; i < 4; i ++) {\r\n      //         let delta = KING_DELTA[i];    // \r\n      //         let sqDst = sqSrc + delta;    // sqSrcdelta\r\n      //         while (this.IN_BOARD(sqDst)) {\r\n      //           if(this.displayChessTemp[sqDst] === 1) {\r\n      //             //\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //           }\r\n      //           else {            // \r\n      //             break;\r\n      //           }\r\n      //           sqDst += delta;     // delta\r\n      //         }\r\n      //         sqDst += delta;       // delta\r\n      //         while (this.IN_BOARD(sqDst)) { // sqDst\r\n      //           if(this.displayChessTemp[sqDst] & 16) {\r\n      //             //\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row - 29 - 1\r\n      //             let domTemp = $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //             break\r\n      //           }\r\n      //           sqDst += delta;\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     case 'P': {\r\n      //       let PAWN_delta = [-16,1,-1] //,/\r\n      //       let sqDst = sqSrc + PAWN_delta[0]\r\n      //       if(!(this.displayChessTemp[sqDst] & 8)) {//,\r\n      //         let row = this.RANK_Y(sqDst)\r\n      //         let imgIndex = sqDst - 7*row -29 - 1\r\n      //         let domTemp =  $('#pos' + imgIndex)\r\n      //         step.push(domTemp)\r\n      //       }\r\n      //       if(sqSrc < 131 && this.IN_BOARD(sqDst)) {//(131\r\n      //         for (let i = 0; i < 2; i++) {\r\n      //           sqDst = sqSrc + PAWN_delta[i+1]\r\n      //           if(!(this.displayChessTemp[sqDst] & 8)) {\r\n      //             let row = this.RANK_Y(sqDst)\r\n      //             let imgIndex = sqDst - 7*row -29 - 1\r\n      //             let domTemp =  $('#pos' + imgIndex)\r\n      //             step.push(domTemp)\r\n      //           }\r\n      //         }\r\n      //       }\r\n      //       break\r\n      //     }\r\n      //     default: step.push(null)\r\n      //   }\r\n      //   return step\r\n      // }\r\n    },\r\n    /**/\r\n    machine_getPcToBeMoved() {\r\n      let blackAllPc = [], whiteAllPc = []\r\n      let displayChess_evaluate = this.displayChessTemp.map(item => {return item})\r\n      //\r\n      for(let sqSrc in this.displayChessTemp) {\r\n        if(this.displayChessTemp[sqSrc] & 16) {\r\n          blackAllPc.push(sqSrc)\r\n        }\r\n        else if(this.displayChessTemp[sqSrc] & 8) whiteAllPc.push(sqSrc)\r\n      }\r\n      /**/\r\n      let ramI_w = Math.floor(Math.random() * blackAllPc.length)\r\n      let val2 = 0, maxVal = 0, maxVal2_sqSrc_w = blackAllPc[ramI_w], DstDom\r\n      for(let k in whiteAllPc) {\r\n        let sqSrc_w = whiteAllPc[k]//\r\n        // console.log(sqSrc2);\r\n        /**/\r\n        DstDom = this.machine_getExactStep(this.sqToDom(sqSrc_w),this.displayChessTemp)\r\n        if(DstDom === undefined) continue //\r\n        // console.log(DstDom);\r\n        /**/\r\n        let sqDst_w = this.domToSq(DstDom)\r\n        /**/\r\n        let tempNum = this.machine_supposeToMove(displayChess_evaluate,sqSrc_w,sqDst_w)\r\n\r\n        val2 = this.machine_evaluate(displayChess_evaluate)//2\r\n        /**/\r\n        this.machine_recoverFicBoard(displayChess_evaluate,sqSrc_w,sqDst_w,tempNum)\r\n        /*val2*/\r\n        if(val2 >= maxVal) {\r\n          maxVal = val2 //\r\n          maxVal2_sqSrc_w = sqSrc_w//\r\n        }\r\n        else {\r\n          // minMaxVal2_sqSrc = blackAllPc[i]\r\n          // console.log('error');\r\n        }\r\n        // break\r\n      }\r\n      // console.log(whiteAllPc);\r\n      // console.log(displayChess_evaluate);\r\n      let xDstDom = this.machine_getExactStep(this.sqToDom(maxVal2_sqSrc_w),this.displayChessTemp)\r\n      // console.log(xDstDom);\r\n      if(xDstDom.attr('id') === undefined) {\r\n        let xArr = this.machine_getSteps(this.sqToDom(maxVal2_sqSrc_w),this.displayChessTemp)\r\n        // console.log(xArr);\r\n        xDstDom = xArr[Math.floor(Math.random() * xArr.length)]\r\n      }\r\n      if(this.sqToDom(maxVal2_sqSrc_w).attr('id') === undefined) {\r\n        maxVal2_sqSrc_w = whiteAllPc[ramI_w]\r\n      }\r\n      // console.log(':' + this.sqToDom(maxVal2_sqSrc_w).attr('id'));\r\n      // console.log(':' + xDstDom.attr('id'));\r\n      // console.log('' + maxVal);\r\n\r\n      // console.log(displayChess_evaluate);\r\n      let sqDst_b,sqSrc_b//\r\n      let val1 = 0,minVal = maxVal\r\n      // let minMaxVal2_sqSrc = blackAllPc[0]//maxVal2()\r\n      for(let i in blackAllPc) {//\r\n        // console.log(i);\r\n        // if(i == 9) break //10\r\n        let sqSrc = blackAllPc[i]//\r\n        // console.log(':' + this.sqToDom(sqSrc).attr('id'));\r\n        // console.log('');\r\n        /**/\r\n        let stepArray = this.machine_getSteps(this.sqToDom(sqSrc),this.displayChessTemp)\r\n            .map(e => {return e})\r\n        for(let j in stepArray) {//\r\n          /**/\r\n          let sqDst = this.domToSq(stepArray[j])\r\n          // console.log(this.sqToDom(sqDst));\r\n          //\r\n          // console.log(displayChess_evaluate);\r\n          // console.log('');\r\n          /**/\r\n          let tempNum_b = this.machine_supposeToMove(displayChess_evaluate,sqSrc,sqDst)\r\n\r\n          // console.log(displayChess_evaluate);\r\n          /**/\r\n          let xxxDstDom = this.machine_getExactStep(this.sqToDom(maxVal2_sqSrc_w),displayChess_evaluate)\r\n          if(xxxDstDom === undefined) continue//\r\n          let sqDst_w = this.domToSq(xxxDstDom)\r\n          // console.log('' + this.sqToDom(sqDst_w).attr('id'));\r\n          // console.log('');\r\n          let tempNum_w = this.machine_supposeToMove(displayChess_evaluate,maxVal2_sqSrc_w,sqDst_w)\r\n          val1 = this.machine_evaluate(displayChess_evaluate)//1\r\n          // console.log('' + val1);\r\n\r\n          this.machine_recoverFicBoard(displayChess_evaluate,maxVal2_sqSrc_w,sqDst_w,tempNum_w)\r\n          this.machine_recoverFicBoard(displayChess_evaluate,sqSrc,sqDst,tempNum_b)\r\n          /*val1,maxVal2*/\r\n          if(val1 <= minVal) {\r\n            minVal = val1\r\n            sqDst_b = sqDst\r\n            sqSrc_b = sqSrc\r\n            console.log('' + minVal);\r\n          }\r\n          // else console.log('err');\r\n\r\n          // /**/\r\n          if(this.sqToDom(sqSrc).attr('id') === 'pos2') {\r\n            // console.log('------------');\r\n            // console.log(displayChess_evaluate);\r\n          }\r\n        }\r\n\r\n        // break\r\n      }\r\n      // console.log(':');\r\n      // console.log(this.sqToDom(sqSrc_b));\r\n      // console.log(':');\r\n      // console.log(this.sqToDom(sqDst_b));\r\n      // return randomSrcDom\r\n      return [this.sqToDom(sqSrc_b),this.sqToDom(sqDst_b)]\r\n      /**/\r\n      // let randomIndex\r\n      // let randomSrcDom//,\r\n      // while(1) {\r\n      //   randomIndex = Math.floor(Math.random() * blackAllPc.length)//\r\n      //   // let randomSq = blackAllPc[randomIndex]\r\n      //   randomSrcDom = this.sqToDom(blackAllPc[randomIndex])\r\n      //   if(this.machine_getSteps(randomSrcDom).length > 0)\r\n      //     //\r\n      //     break\r\n      // }\r\n\r\n    },\r\n    /*domdom*/\r\n    machine_getExactStep(srcDom,arr) {\r\n      // console.log(arr);\r\n      let allWays, displayChess_evaluate\r\n      if(arr !== undefined) {\r\n        allWays = this.machine_getSteps(srcDom,arr)\r\n        displayChess_evaluate = arr.map((item) => {\r\n          //()\r\n          return item\r\n        })\r\n      }\r\n      // else {\r\n      //   allWays = this.machine_getSteps(srcDom) //,dom\r\n      //   /**/\r\n      //   displayChess_evaluate = this.displayChessTemp.map((item) => {\r\n      //     //()\r\n      //     return item\r\n      //   })\r\n      // }\r\n      if(!this.playerSide) {\r\n        // console.log('');\r\n        //\r\n        let maxVal = this.machine_evaluate(arr)\r\n        let randomDstIndex = Math.floor(Math.random() * allWays.length)\r\n        let dstDom = allWays[randomDstIndex]//\r\n        // console.log(srcDom);\r\n        for(let i in allWays) {\r\n          let srcNum = displayChess_evaluate[this.domToSq(srcDom)]//Num\r\n          let sqDst = this.domToSq(allWays[i])//\r\n          let tempNum = displayChess_evaluate[sqDst]//Num\r\n          /*Num*/\r\n          displayChess_evaluate[sqDst] = srcNum\r\n          let currentVal = this.machine_evaluate(displayChess_evaluate)\r\n          // console.log(''+ currentVal);\r\n          if(this.machine_evaluate(displayChess_evaluate) > maxVal) {//\r\n            maxVal = this.machine_evaluate(displayChess_evaluate)//\r\n            dstDom = this.sqToDom(sqDst)//\r\n          }\r\n          // else console.log('');\r\n          displayChess_evaluate[this.domToSq(srcDom)] = srcNum//\r\n          displayChess_evaluate[sqDst] = tempNum//\r\n        }\r\n        return dstDom\r\n      }\r\n      else {\r\n        let minVal = this.machine_evaluate(arr)\r\n        let randomDstIndex = Math.floor(Math.random() * allWays.length)\r\n        let dstDom = allWays[randomDstIndex]//\r\n        // console.log(srcDom);\r\n        for(let i in allWays) {\r\n          let srcNum = displayChess_evaluate[this.domToSq(srcDom)]//Num\r\n          let sqDst = this.domToSq(allWays[i])//\r\n          let tempNum = displayChess_evaluate[sqDst]//Num\r\n          /*Num*/\r\n          displayChess_evaluate[sqDst] = srcNum\r\n          let currentVal = this.machine_evaluate(displayChess_evaluate)\r\n          if(this.machine_evaluate(displayChess_evaluate) < minVal) {//\r\n            // console.log('------------');\r\n            minVal = this.machine_evaluate(displayChess_evaluate)//\r\n            dstDom = this.sqToDom(sqDst)//\r\n          }\r\n          displayChess_evaluate[this.domToSq(srcDom)] = srcNum//\r\n          displayChess_evaluate[sqDst] = tempNum//\r\n        }\r\n        return dstDom\r\n      }\r\n      // console.log(dstDom);\r\n      // console.log(allWays);\r\n      // console.log(':' + this.machine_evaluate(this.displayChessTemp));\r\n    },\r\n    /*-*/\r\n    machine_evaluate(array) {\r\n      let wVal = this.machine_getVal(array,true), bVal = this.machine_getVal(array,false)\r\n      return wVal - bVal\r\n    },\r\n    /**/\r\n    machine_getVal(array,isWhite) {\r\n      let val = 0\r\n      for(let i in array) {\r\n        if(isWhite) {//\r\n          switch (array[i]) {\r\n            case 8: val += 1000;break\r\n            case 9: val += 20;break\r\n            case 10: val += 20;break\r\n            case 11: val += 45;break\r\n            case 12: val += 90;break\r\n            case 13: val += 40;break\r\n            case 14: val += 10;break\r\n            default: val += 0\r\n          }\r\n        }\r\n        else {\r\n          switch (array[i]) {\r\n            case 16: val += 1000;break\r\n            case 17: val += 20;break\r\n            case 18: val += 20;break\r\n            case 19: val += 45;break\r\n            case 20: val += 90;break\r\n            case 21: val += 40;break\r\n            case 22: val += 10;break\r\n            default: val += 0\r\n          }\r\n        }\r\n      }\r\n      return val\r\n    },\r\n    /**/\r\n    machine_supposeToMove(arr,sqSrc,sqDst) {\r\n      if(arr === undefined || sqSrc === undefined || sqDst === undefined)\r\n        return 'ERROR'\r\n      let temp = arr[sqDst]\r\n      arr[sqDst] = arr[sqSrc]\r\n      arr[sqSrc] = 1\r\n      return temp\r\n    },\r\n    /**/\r\n    machine_recoverFicBoard(arr,sqSrc,sqDst,temp) {\r\n      if(arr === undefined || sqSrc === undefined || sqDst === undefined || temp === undefined)\r\n        return 'ERROR'\r\n\r\n      arr[sqSrc] = arr[sqDst]\r\n      arr[sqDst] = temp\r\n    },\r\n    /*1,2,3,0\r\n    * 1\r\n    * 2\r\n    * 3*/\r\n    machine_passiveSkills() {\r\n      /**/\r\n      return new Promise((resolve,reject) => {\r\n        /**/\r\n        let advisorSum = 0, isEaten = false\r\n        let currentVal = this.machine_evaluate(this.displayChessTemp), isSkill3 = false\r\n        // console.log(this.machine_getVal(this.displayChessTemp, false));\r\n        for(let i in this.displayChessTemp) {\r\n          if(this.displayChessTemp[i] === 22) {\r\n            advisorSum ++\r\n          }\r\n          /**/\r\n          if(this.displayChessTemp[i] & 8 && this.displayChess_Old[i] & 16) {\r\n            //\r\n            if(Math.floor(Math.random() + 0.3)) { //30%\r\n              isEaten = true\r\n              this.displayChessTemp[i] = this.displayChess_Old[i]\r\n            }\r\n          }\r\n          /**/\r\n          if(currentVal > 180 || this.machine_getVal(this.displayChessTemp,false) < 1220) {\r\n            //1220\r\n            isSkill3 = true\r\n            if(this.displayChessTemp[i] === 1) {\r\n              this.displayChessTemp[i] = 22\r\n            }\r\n          }\r\n        }\r\n        if(advisorSum < 3) {\r\n          for(let i = 0,j = 0;i <5;i++,j+=2) {\r\n            let domSq = this.domToSq($(`#pos${27 + j}`))\r\n            // console.log($(`#pos${27 + j}`));\r\n            this.displayChessTemp[domSq] = 22\r\n          }\r\n          document.querySelector('#skill1').play()\r\n          setTimeout(() => {\r\n            this.drawWithSq()\r\n            // let chessInfo = null\r\n            this.chess1Click(null)\r\n            resolve(1)\r\n          },3000)\r\n        }\r\n        /**/\r\n        else if(isEaten) {\r\n          document.querySelector('#skill2').play()\r\n          setTimeout(() => {\r\n            this.drawWithSq()\r\n            // let chessInfo = null\r\n            this.chess1Click(null)\r\n            resolve(2)\r\n          },3000)\r\n        }\r\n        /**/\r\n        else if(isSkill3) {\r\n          document.querySelector('#skill3').play()\r\n          setTimeout(() => {\r\n            this.drawWithSq()\r\n            // let chessInfo = null\r\n            this.chess1Click(null)\r\n            resolve(3)\r\n          },3000)\r\n        }\r\n        else resolve(0)\r\n\r\n      })\r\n    },\r\n    /*sqdom*/\r\n    sqToDom(sq) {\r\n      let row = this.RANK_Y(sq)\r\n      let imgIndex = sq - 7*row -29 - 1\r\n      // let domTemp =  $('#pos' + imgIndex)\r\n      return $('#pos' + imgIndex)\r\n    },\r\n    /*domsq*/\r\n    domToSq(dom) {\r\n      let imgIndex = parseInt(dom.attr('id').slice(3)) + 1\r\n      return this.imgIndexToSq(imgIndex)\r\n    },\r\n    /*true*/\r\n    IN_BOARD(sq) {\r\n      return this.IN_BOARD_[sq] !== 0;\r\n    },\r\n    /*,true*/\r\n    IN_FORT(sq) {\r\n      return this.IN_FORT_[sq] !== 0;\r\n    },\r\n    /* (x,y)(0,0)*/\r\n    COORD_XY(x, y) {//  (x,y)(0,0)\r\n      return x + (y << 4);\r\n    },\r\n    /* 0*/\r\n    RANK_Y(sq) {//  0\r\n      return sq >> 4;\r\n    },\r\n    /**/\r\n    FILE_X(sq) {// \r\n      return sq & 15;\r\n    },\r\n    /**/\r\n    initBoard() {\r\n      this.displayChessTemp = []//\r\n      this.FENArray = this.FEN.split('') //FEN\r\n\r\n      this.FENtoBoard(this.FENArray)//FEN(array),this.displayChessTemp\r\n      for (let i = 0; i < 256; i++) {//null\r\n        if (!this.IN_BOARD(i)) {\r\n          this.displayChessTemp[i] = null\r\n        }\r\n      }\r\n      let start = this.COORD_XY(3, 3) //51,\r\n      let end = this.COORD_XY(11, 12) //203\r\n      // let imgDomArr = document.querySelectorAll('div.imgBox img')\r\n      /*tag\r\n      **rowi,col\r\n      **imgIndexi*/\r\n      let tag = '', row = 0, imgIndex = 0, col = 0;\r\n      for (let i = start; i <= end; i++) {\r\n        if (this.IN_BOARD(i)) {\r\n          switch (this.displayChessTemp[i]) {\r\n            case 8:\r\n              tag = 'K';\r\n              break;\r\n            case 9:\r\n              tag = 'A';\r\n              break;\r\n            case 10:\r\n              tag = 'B';\r\n              break;\r\n            case 11:\r\n              tag = 'N';\r\n              break;\r\n            case 12:\r\n              tag = 'R';\r\n              break;\r\n            case 13:\r\n              tag = 'C';\r\n              break;\r\n            case 14:\r\n              tag = 'P';\r\n              break;\r\n\r\n            case 16:\r\n              tag = 'k_';\r\n              break;\r\n            case 17:\r\n              tag = 'a_';\r\n              break;\r\n            case 18:\r\n              tag = 'b_';\r\n              break;\r\n            case 19:\r\n              tag = 'n_';\r\n              break;\r\n            case 20:\r\n              tag = 'r_';\r\n              break;\r\n            case 21:\r\n              tag = 'c_';\r\n              break;\r\n            case 22:\r\n              tag = 'p_';\r\n              break;\r\n            case 1:\r\n              tag = 'UNexist';\r\n              break;\r\n            case 0:\r\n              tag = 'UNexist'\r\n              break;\r\n            default:\r\n              tag = 'UNexist'\r\n          }\r\n          row = this.RANK_Y(i)\r\n          col = this.FILE_X(i)\r\n          imgIndex = i - 7 * row - 30\r\n          let imgSrcStr = `/img/chess/${tag}.png`;\r\n          this.imgDomArr[imgIndex].src = imgSrcStr\r\n          /**/\r\n          tag = '';\r\n          row = 0;\r\n          imgIndex = 0\r\n        } else continue\r\n      }\r\n\r\n    },\r\n    /*FEN(array),this.displayChessTemp*/\r\n    FENtoBoard(FENArray) {\r\n      let x = 3, y = 3\r\n      for (let i in FENArray) {\r\n        let ch = FENArray[i]\r\n        if (ch === '/') {//\r\n          y++\r\n        }\r\n        if (y > 12) break\r\n        if (x > 11) x = 3\r\n        else if (ch >= '1' && ch <= '9') {//\r\n          x += parseInt(ch)\r\n        } else if ((ch >= 'a' && ch <= 'z')) {//\r\n          let index = x + (y << 4)\r\n          this.displayChessTemp[index] = this.FENCharToNum(ch)\r\n          x++\r\n        } else if (ch >= 'A' && ch <= 'Z') {\r\n          let index = x + (y << 4)\r\n          this.displayChessTemp[index] = this.FENCharToNum(ch)\r\n          x++\r\n        } else console.log('err');\r\n      }\r\n    },\r\n    /**/\r\n    FENCharToNum(item) {//\r\n      switch (item) {\r\n        case 'K' : {\r\n          return 8;\r\n        }\r\n        case 'A':\r\n          return 9;\r\n        case 'B':\r\n          return 10;\r\n        case 'N':\r\n          return 11;\r\n        case 'R':\r\n          return 12;\r\n        case 'C':\r\n          return 13;\r\n        case 'P':\r\n          return 14;\r\n\r\n        case 'k':\r\n          return 16;\r\n        case 'a':\r\n          return 17;\r\n        case 'b':\r\n          return 18;\r\n        case 'n':\r\n          return 19;\r\n        case 'r':\r\n          return 20;\r\n        case 'c':\r\n          return 21;\r\n        case 'p':\r\n          return 22;\r\n        default:\r\n          return 'err'\r\n      }\r\n    },\r\n    /*()*/\r\n    FENCharToImg(ch) {\r\n      switch (ch) {\r\n        case 'K' : {\r\n          return 'K';\r\n        }\r\n        case 'A':\r\n          return 'A';\r\n        case 'B':\r\n          return 'B';\r\n        case 'N':\r\n          return 'N';\r\n        case 'R':\r\n          return 'R';\r\n        case 'C':\r\n          return 'C';\r\n        case 'P':\r\n          return 'P';\r\n\r\n        case 'k':\r\n          return 'k_';\r\n        case 'a':\r\n          return 'a_';\r\n        case 'b':\r\n          return 'b_';\r\n        case 'n':\r\n          return 'n_';\r\n        case 'r':\r\n          return 'r_';\r\n        case 'c':\r\n          return 'c_';\r\n        case 'p':\r\n          return 'p_';\r\n        default:\r\n          return 'err'\r\n      }\r\n    },\r\n    /**/\r\n    ImgNameToChessName(imgName) {\r\n      switch (imgName) {\r\n        case 'K' : {\r\n          return '_';\r\n        }\r\n        case 'A':\r\n          return '_';\r\n        case 'B':\r\n          return '_';\r\n        case 'N':\r\n          return '_';\r\n        case 'R':\r\n          return '_';\r\n        case 'C':\r\n          return '_';\r\n        case 'P':\r\n          return '_';\r\n\r\n        case 'k':\r\n          return '_';\r\n        case 'a':\r\n          return '_';\r\n        case 'b':\r\n          return '_';\r\n        case 'n':\r\n          return '_';\r\n        case 'r':\r\n          return '_';\r\n        case 'c':\r\n          return '_';\r\n        case 'p':\r\n          return '_';\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n    /*FEN*/\r\n    drawWithFEN(FEN) {\r\n      this.FENArray = []\r\n      this.FENArray = FEN.split('')\r\n      this.displayChessTemp = []\r\n      this.FENtoBoard(this.FENArray)\r\n      // console.log(this.displayChessTemp);\r\n      for (let i = 0; i < 256; i++) {//null\r\n        if (!this.IN_BOARD(i)) {\r\n          this.displayChessTemp[i] = null\r\n        }\r\n      }\r\n      let start = this.COORD_XY(3, 3) //51,\r\n      let end = this.COORD_XY(11, 12) //203\r\n      // this.imgDomArr = document.querySelectorAll('div.imgBox img')\r\n      /*tag\r\n      **rowi,col\r\n      **imgIndexi*/\r\n      let tag = '', row = 0, imgIndex = 0, col = 0;\r\n      for (let i = start; i <= end; i++) {\r\n        if (this.IN_BOARD(i)) {\r\n          switch (this.displayChessTemp[i]) {\r\n            case 8:\r\n              tag = 'K';\r\n              break;\r\n            case 9:\r\n              tag = 'A';\r\n              break;\r\n            case 10:\r\n              tag = 'B';\r\n              break;\r\n            case 11:\r\n              tag = 'N';\r\n              break;\r\n            case 12:\r\n              tag = 'R';\r\n              break;\r\n            case 13:\r\n              tag = 'C';\r\n              break;\r\n            case 14:\r\n              tag = 'P';\r\n              break;\r\n\r\n            case 16:\r\n              tag = 'k_';\r\n              break;\r\n            case 17:\r\n              tag = 'a_';\r\n              break;\r\n            case 18:\r\n              tag = 'b_';\r\n              break;\r\n            case 19:\r\n              tag = 'n_';\r\n              break;\r\n            case 20:\r\n              tag = 'r_';\r\n              break;\r\n            case 21:\r\n              tag = 'c_';\r\n              break;\r\n            case 22:\r\n              tag = 'p_';\r\n              break;\r\n            case 1:\r\n              tag = 'UNexist';\r\n              break;\r\n            case 0:\r\n              tag = 'UNexist'\r\n              break;\r\n            default:\r\n              tag = 'UNexist'\r\n          }\r\n          row = this.RANK_Y(i)\r\n          col = this.FILE_X(i)\r\n          imgIndex = i - 7 * row - 30\r\n          let imgSrcStr = `/img/chess/${tag}.png`;\r\n          this.imgDomArr[imgIndex].src = imgSrcStr // \r\n          /**/\r\n          tag = '';\r\n          row = 0;\r\n          imgIndex = 0\r\n        }\r\n      }\r\n\r\n    },\r\n    /*displayChessTemp*/\r\n    drawWithSq() {\r\n      this.$emit('board-update',this.displayChessTemp)\r\n      let start = this.COORD_XY(3, 3) //51,\r\n      let end = this.COORD_XY(11, 12) //203\r\n      // this.imgDomArr = document.querySelectorAll('div.imgBox img')\r\n      /*tag\r\n      **rowi,col\r\n      **imgIndexi*/\r\n      let tag = '', row = 0, imgIndex = 0, col = 0;\r\n      for (let i = start; i <= end; i++) {\r\n        if (this.IN_BOARD(i)) {\r\n          switch (this.displayChessTemp[i]) {\r\n            case 8:\r\n              tag = 'K';\r\n              break;\r\n            case 9:\r\n              tag = 'A';\r\n              break;\r\n            case 10:\r\n              tag = 'B';\r\n              break;\r\n            case 11:\r\n              tag = 'N';\r\n              break;\r\n            case 12:\r\n              tag = 'R';\r\n              break;\r\n            case 13:\r\n              tag = 'C';\r\n              break;\r\n            case 14:\r\n              tag = 'P';\r\n              break;\r\n\r\n            case 16:\r\n              tag = 'k_';\r\n              break;\r\n            case 17:\r\n              tag = 'a_';\r\n              break;\r\n            case 18:\r\n              tag = 'b_';\r\n              break;\r\n            case 19:\r\n              tag = 'n_';\r\n              break;\r\n            case 20:\r\n              tag = 'r_';\r\n              break;\r\n            case 21:\r\n              tag = 'c_';\r\n              break;\r\n            case 22:\r\n              tag = 'p_';\r\n              break;\r\n            case 1:\r\n              tag = 'UNexist';\r\n              break;\r\n            case 0:\r\n              tag = 'UNexist'\r\n              break;\r\n            default:\r\n              tag = 'UNexist'\r\n          }\r\n          row = this.RANK_Y(i)\r\n          col = this.FILE_X(i)\r\n          imgIndex = i - 7 * row - 30\r\n          let imgSrcStr = `/img/chess/${tag}.png`;\r\n          this.imgDomArr[imgIndex].src = imgSrcStr // \r\n          /**/\r\n          tag = '';\r\n          row = 0;\r\n          imgIndex = 0\r\n        }\r\n      }\r\n    },\r\n    /*sq*/\r\n    imgIndexToSq(imgIndex) {\r\n      let row = Math.floor((imgIndex - 1) / 9) + 3\r\n      return imgIndex + 30 + 7 * row - 1\r\n      // console.log('sq:' + sq);\r\n    },\r\n    /*sqSrcsqDsttruefalse*/\r\n    SAME_HALF(sqSrc, sqDst) {// sqSrcsqDsttruefalse\r\n      return ((sqSrc ^ sqDst) & 0x80) === 0;\r\n    },\r\n    sureInput() {\r\n      let newFEN = this.userInput\r\n      this.drawWithFEN(newFEN)\r\n    },\r\n    test2() {\r\n      let newFEN = '1n1akabnr/r8/9/9/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR'\r\n      this.drawWithFEN(newFEN)\r\n    },\r\n    btnClick2() {\r\n      document.querySelectorAll('.audioBx li > audio').forEach((e) => {\r\n        e.play()\r\n      })\r\n    },\r\n    chess1Click(info) {\r\n      // console.log(info);\r\n      this.$emit('show', info)\r\n    }\r\n  },\r\n}\r\n"]}]}