{"remainingRequest":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\CodingForFun\\Vue\\gaosen\\docs\\.vuepress\\components\\Chess1.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\CodingForFun\\Vue\\gaosen\\docs\\.vuepress\\components\\Chess1.vue","mtime":1653232273663},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\babel-loader\\lib\\index.js","mtime":1648514420186},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648514419946},{"path":"D:\\CodingForFun\\Vue\\gaosen\\node_modules\\vue-loader\\lib\\index.js","mtime":1648514420515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJCBmcm9tICdqcXVlcnknDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNoZXNzIiwNCiAgcHJvcHM6IHsNCiAgICBkaXNwbGF5Q2hlc3M6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdDogWw0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLC8vMw0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLC8vMTINCiAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwNCiAgICAgIF0sDQogICAgfSwNCiAgICBwbGF5ZXJTaWRlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGlzU2VsZWN0TWFjaGluZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgIHRlc3Q6IFtdLA0KICAgICAgSU5fQk9BUkRfOiBbDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICBdLA0KICAgICAgSU5fRk9SVF86IFsvL+i+heWKqeaVsOe7hO+8jOagh+ivhuaYr+WQpuWcqOS5neWuq+WGhQ0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLA0KICAgICAgXSwNCiAgICAgIGRpc3BsYXlDaGVzc1RlbXA6IFsNCiAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwvLzMNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwNCiAgICAgICAgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwvLzEyDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsDQogICAgICBdLA0KICAgICAgRkVOOiAncm5iYWthYm5yLzkvMWM1YzEvcDFwMXAxcDFwLzkvOS9QMVAxUDFQMVAvMUM1QzEvOS9STkJBS0FCTlInLA0KICAgICAgRkVOQXJyYXk6IFtdLA0KICAgICAgdXNlcklucHV0RkVOOiAnJywNCiAgICAgIHVzZXJJbnB1dDogJycsDQogICAgICBzcVNlbGVjdGVkOiAwLC8v6byg5qCH5piv5ZCm6YCJ5Lit5LiA5qOL5a2QDQogICAgICBjdXJyZW50Q2hlc3M6ICcnLC8v5b2T5YmN6YCJ5Lit55qE5qOL5a2Q77yM55qE6aaW5a2X5q+NLA0KICAgICAgZGlzcGxheUNoZXNzX09sZDogW10NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaW1nRG9tQXJyKCkgew0KICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5pbWdCb3ggaW1nJykNCiAgICB9LA0KICB9LA0KICB3YXRjaDogew0KICAgIGRpc3BsYXlDaGVzczogew0KICAgICAgaGFuZGxlcih2YWwsIG9sZFZhbCkgew0KICAgICAgICB0aGlzLmRpc3BsYXlDaGVzc19PbGQgPSBvbGRWYWwubWFwKChpdGVtKSA9PiB7cmV0dXJuIGl0ZW19KQ0KICAgICAgICB0aGlzLmRpc3BsYXlDaGVzc1RlbXAgPSB2YWwubWFwKGl0ZW0gPT4ge3JldHVybiBpdGVtfSkNCiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5DT09SRF9YWSgzLCAzKSAvLzUxLOW+queOr+W8gOWni+WkhA0KICAgICAgICBsZXQgZW5kID0gdGhpcy5DT09SRF9YWSgxMSwgMTIpIC8vMjAz77yM5b6q546v57uT5p2f5aSEDQogICAgICAgIC8qdGFn55So5L2c6K6w5b2V5paH5Lu25ZCN5YWz6ZSu5L+h5oGv77ybDQogICAgICAgICoqcm935piv5b2T5YmN5b6q546v57Si5byV5YC8aeWvueW6lOeahOS6jOe7tOWdkOagh+eahOihjOaVsCxjb2zmmK/liJfmlbDvvJsNCiAgICAgICAgKippbWdJbmRleOeUqOS6juiusOW9lWnlr7nlupTnrKzlh6DkuKrlm77niYcqLw0KICAgICAgICBsZXQgdGFnID0gJycsIHJvdyA9IDAsIGltZ0luZGV4ID0gMCwgY29sID0gMDsNCiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7DQogICAgICAgICAgaWYgKHRoaXMuSU5fQk9BUkQoaSkpIHsNCiAgICAgICAgICAgIHN3aXRjaCAodmFsW2ldKSB7DQogICAgICAgICAgICAgIGNhc2UgODoNCiAgICAgICAgICAgICAgICB0YWcgPSAnSyc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgOToNCiAgICAgICAgICAgICAgICB0YWcgPSAnQSc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgMTA6DQogICAgICAgICAgICAgICAgdGFnID0gJ0InOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICBjYXNlIDExOg0KICAgICAgICAgICAgICAgIHRhZyA9ICdOJzsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgY2FzZSAxMjoNCiAgICAgICAgICAgICAgICB0YWcgPSAnUic7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgMTM6DQogICAgICAgICAgICAgICAgdGFnID0gJ0MnOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICBjYXNlIDE0Og0KICAgICAgICAgICAgICAgIHRhZyA9ICdQJzsNCiAgICAgICAgICAgICAgICBicmVhazsNCg0KICAgICAgICAgICAgICBjYXNlIDE2Og0KICAgICAgICAgICAgICAgIHRhZyA9ICdrXyc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgMTc6DQogICAgICAgICAgICAgICAgdGFnID0gJ2FfJzsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgY2FzZSAxODoNCiAgICAgICAgICAgICAgICB0YWcgPSAnYl8nOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICBjYXNlIDE5Og0KICAgICAgICAgICAgICAgIHRhZyA9ICduXyc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgMjA6DQogICAgICAgICAgICAgICAgdGFnID0gJ3JfJzsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgY2FzZSAyMToNCiAgICAgICAgICAgICAgICB0YWcgPSAnY18nOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICBjYXNlIDIyOg0KICAgICAgICAgICAgICAgIHRhZyA9ICdwXyc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCcNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCcNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJvdyA9IHRoaXMuUkFOS19ZKGkpDQogICAgICAgICAgICBjb2wgPSB0aGlzLkZJTEVfWChpKQ0KICAgICAgICAgICAgaW1nSW5kZXggPSBpIC0gNyAqIHJvdyAtIDMwDQogICAgICAgICAgICBsZXQgaW1nU3JjU3RyID0gYC9pbWcvY2hlc3MvJHt0YWd9LnBuZ2A7DQogICAgICAgICAgICB0aGlzLmltZ0RvbUFycltpbWdJbmRleF0uc3JjID0gaW1nU3JjU3RyDQogICAgICAgICAgICAvKua4heepuuWPmOmHjyovDQogICAgICAgICAgICB0YWcgPSAnJzsNCiAgICAgICAgICAgIHJvdyA9IDA7DQogICAgICAgICAgICBpbWdJbmRleCA9IDANCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbWdEb21BcnJbMF0uc3JjKTsNCiAgICAgIH0sDQogICAgICAvLyBkZWVwOiB0cnVlDQogICAgfSwNCiAgICBhc3luYyBwbGF5ZXJTaWRlKG5ld1ZhbCxvbGRWYWwpIHsNCiAgICAgIGlmKCFuZXdWYWwgJiYgdGhpcy5pc1NlbGVjdE1hY2hpbmUpIHsvL+ihqOekuum7keaWuei1sOaji+S4lOmAieaLqeS6huS6uuacuuWvueaImA0KICAgICAgICAvLyBsZXQgc2tpbGwgPSBhd2FpdCB0aGlzLm1hY2hpbmVfcGFzc2l2ZVNraWxscygpDQogICAgICAgIGxldCBza2lsbCA9IDANCiAgICAgICAgaWYoc2tpbGwgPT09IDEpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+inpuWPkeiiq+WKqOaKgOiDve+8muWFtee6v+WIt+aWsCcpDQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZihza2lsbCA9PT0gMikgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6Kem5Y+R6KKr5Yqo5oqA6IO977ya5pu/54i25LuO5YabJykNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmKHNraWxsID09PSAzKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfop6blj5HooqvliqjmioDog73vvJrojYnmnKjnmoblhbUnKQ0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYoc2tpbGwgPT09IDApIHsNCiAgICAgICAgICAvLyBsZXQgZG9tMSA9ICQoJyNwb3M4JykNCiAgICAgICAgICBsZXQgZG9tQXJyID0gdGhpcy5tYWNoaW5lX2dldFBjVG9CZU1vdmVkKCkubWFwKGUgPT4ge3JldHVybiBlfSkNCiAgICAgICAgICBsZXQgZG9tMSA9IGRvbUFyclswXQ0KICAgICAgICAgIC8vIGxldCBkb20yID0gdGhpcy5tYWNoaW5lX2dldFN0ZXBzKGRvbTEpWzBdDQogICAgICAgICAgLy8gbGV0IGRvbTIgPSB0aGlzLm1hY2hpbmVfZ2V0RXhhY3RTdGVwKGRvbTEpDQogICAgICAgICAgbGV0IGRvbTIgPSBkb21BcnJbMV0NCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eUteiEkeenu+WKqOS6hicgKyB0aGlzLkltZ05hbWVUb0NoZXNzTmFtZShkb20xLmF0dHIoJ3NyYycpLnNsaWNlKDExLDEyKSkpDQoNCiAgICAgICAgICB0aGlzLm1hY2hpbmVNb3ZlKGRvbTEsZG9tMikNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb20xKTsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb20yKTsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1hY2hpbmVfZ2V0U3RlcHMoZG9tMSkpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIGNvbnN0IGNzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTsNCiAgICAvLyBjc3MucmVsID0gJ3N0eWxlc2hlZXQnOw0KICAgIC8vIGNzcy5ocmVmID0gJ2h0dHBzOi8vY2RuLnJlcG9zaXRvcnkud2ViZm9udC5jb20vd2ViZm9udHMvbm9tYWwvMTQ4NDA3LzQ2NDg5LzYyNTQwN2FhZjYyOWQ4MTMwMGFjMTliMy5jc3MnOw0KICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3NzKTsNCg0KICAgIHRoaXMuaW5pdEJvYXJkKCkNCiAgICAvKuavj+S4qmltZ+e7keWumuS4gOS4queCueWHu+S6i+S7tiovDQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LmltZ0JveCBpbWcnKS5mb3JFYWNoKChlLCBpbmRleCkgPT4gew0KICAgICAgZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSwgaW5kZXgpID0+IHsNCiAgICAgICAgbGV0IGZpbGVOYW1lID0gZS50YXJnZXQuc3JjLnNsaWNlKDMyLCAzMykNCiAgICAgICAgLy8gY29uc29sZS5sb2coZmlsZU5hbWUpOw0KICAgICAgICBsZXQgYWxlcnRTdHIgPSB0aGlzLkltZ05hbWVUb0NoZXNzTmFtZShmaWxlTmFtZSkNCg0KICAgICAgICBsZXQgaW1nSW5kZXggPSBwYXJzZUludChlLnRhcmdldC5pZC5zbGljZSgzKSkgKyAxDQogICAgICAgIC8vIGNvbnNvbGUubG9nKGltZ0luZGV4KTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5kaXNwbGF5Q2hlc3NUZW1wKTsNCiAgICAgICAgbGV0IGNoZXNzSW5mbyA9IHsvL+aji+WtkOeahOS4gOS6m+S/oeaBrw0KICAgICAgICAgIGRpc3BsYXlDaGVzczogdGhpcy5kaXNwbGF5Q2hlc3NUZW1wLA0KICAgICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZSwNCiAgICAgICAgICBpbWdJbmRleDogaW1nSW5kZXgsDQogICAgICAgICAgc3FTZWxlY3RlZDogdGhpcy5pbWdJbmRleFRvU3EoaW1nSW5kZXgpDQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmNoZXNzMUNsaWNrKGNoZXNzSW5mbykNCg0KICAgICAgICAvKueUqOaIt+avj+asoeeCueWHu+aji+WtkOW6lOivpeWwhuivpeaji+WtkOWCqOWtmOWIsOW9k+WJjeaji+WtkGN1cnJlbnRDaGVzcyovDQogICAgICAgIC8vIHRoaXMuY3VycmVudENoZXNzID0gZmlsZU5hbWUNCiAgICAgICAgLy8gaWYodGhpcy5zcVNlbGVjdGVkKSB7DQogICAgICAgIC8vICAgaWYodGhpcy5jdXJyZW50Q2hlc3MgIT0gJ1UnKSB7DQogICAgICAgIC8vICAgICBjb25zb2xlLmxvZygn5LiK5qyh54K55Ye755qE5piv56m655m95aSEJyk7DQogICAgICAgIC8vICAgfQ0KICAgICAgICAvLyB9DQogICAgICB9KQ0KICAgIH0pDQoNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8q5Lyg5YWl5LiA57u05Z2Q5qCH77yM5aaC5p6c5Zyo5qOL55uY5YaF77yM6L+U5ZuedHJ1ZSovDQogICAgSU5fQk9BUkQoc3EpIHsNCiAgICAgIHJldHVybiB0aGlzLklOX0JPQVJEX1tzcV0gIT09IDA7DQogICAgfSwNCiAgICAvKuWIpOaWreaYr+WQpuWcqOS5neWuq+agvOWGhSzoi6XmmK/vvIzov5Tlm550cnVlKi8NCiAgICBJTl9GT1JUKHNxKSB7DQogICAgICByZXR1cm4gdGhpcy5JTl9GT1JUX1tzcV0gIT09IDA7DQogICAgfSwNCiAgICAvKuWwhuS6jOe7tOefqemYteWdkOagh+i9rOaNouS4uuS4gOe7tOefqemYteWdkOaghyAoeCx5KeWQqygwLDApKi8NCiAgICBDT09SRF9YWSh4LCB5KSB7Ly8g5bCG5LqM57u055+p6Zi15Z2Q5qCH6L2s5o2i5Li65LiA57u055+p6Zi15Z2Q5qCHICh4LHkp5ZCrKDAsMCkNCiAgICAgIHJldHVybiB4ICsgKHkgPDwgNCk7DQogICAgfSwNCiAgICAvKuagueaNruS4gOe7tOefqemYte+8jOiOt+WPluS6jOe7tOefqemYteihjOaVsCDooYzmlbDku44w5byA5aeLKi8NCiAgICBSQU5LX1koc3EpIHsvLyDmoLnmja7kuIDnu7Tnn6npmLXvvIzojrflj5bkuoznu7Tnn6npmLXooYzmlbAg6KGM5pWw5LuOMOW8gOWniw0KICAgICAgcmV0dXJuIHNxID4+IDQ7DQogICAgfSwNCiAgICAvKuagueaNruS4gOe7tOefqemYte+8jOiOt+WPluS6jOe7tOefqemYteWIl+aVsCovDQogICAgRklMRV9YKHNxKSB7Ly8g5qC55o2u5LiA57u055+p6Zi177yM6I635Y+W5LqM57u055+p6Zi15YiX5pWwDQogICAgICByZXR1cm4gc3EgJiAxNTsNCiAgICB9LA0KICAgIC8q5Yid5aeL5YyW5qOL55uY77yM5b6X5Yiw5qOL55uY5LiA5byA5aeL55qE5biD5bGAKi8NCiAgICBpbml0Qm9hcmQoKSB7DQogICAgICB0aGlzLmRpc3BsYXlDaGVzc1RlbXAgPSBbXS8v5riF56m65LiA5LiL5qOL55uYDQogICAgICB0aGlzLkZFTkFycmF5ID0gdGhpcy5GRU4uc3BsaXQoJycpIC8v5bCGRkVO5a2X56ym5Liy6L2s5Li65pWw57uEDQoNCiAgICAgIHRoaXMuRkVOdG9Cb2FyZCh0aGlzLkZFTkFycmF5KS8v5bCGRkVO5LiyKGFycmF55Z6LKei9rOWMluS4uuS4gOe7tOaVsOe7hOW9ouW8j++8jOW5tuS4lOWtl+espuWFg+e0oOaYoOWwhOS4uuaVtOWeiyzkv53lrZjlnKh0aGlzLmRpc3BsYXlDaGVzc1RlbXANCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHsvL+Wwhuaji+ebmOWkluWFg+e0oOiuvue9ruS4um51bGwNCiAgICAgICAgaWYgKCF0aGlzLklOX0JPQVJEKGkpKSB7DQogICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldID0gbnVsbA0KICAgICAgICB9DQogICAgICB9DQogICAgICBsZXQgc3RhcnQgPSB0aGlzLkNPT1JEX1hZKDMsIDMpIC8vNTEs5b6q546v5byA5aeL5aSEDQogICAgICBsZXQgZW5kID0gdGhpcy5DT09SRF9YWSgxMSwgMTIpIC8vMjAz77yM5b6q546v57uT5p2f5aSEDQogICAgICAvLyBsZXQgaW1nRG9tQXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LmltZ0JveCBpbWcnKQ0KICAgICAgLyp0YWfnlKjkvZzorrDlvZXmlofku7blkI3lhbPplK7kv6Hmga/vvJsNCiAgICAgICoqcm935piv5b2T5YmN5b6q546v57Si5byV5YC8aeWvueW6lOeahOS6jOe7tOWdkOagh+eahOihjOaVsCxjb2zmmK/liJfmlbDvvJsNCiAgICAgICoqaW1nSW5kZXjnlKjkuo7orrDlvZVp5a+55bqU56ys5Yeg5Liq5Zu+54mHKi8NCiAgICAgIGxldCB0YWcgPSAnJywgcm93ID0gMCwgaW1nSW5kZXggPSAwLCBjb2wgPSAwOw0KICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7DQogICAgICAgIGlmICh0aGlzLklOX0JPQVJEKGkpKSB7DQogICAgICAgICAgc3dpdGNoICh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbaV0pIHsNCiAgICAgICAgICAgIGNhc2UgODoNCiAgICAgICAgICAgICAgdGFnID0gJ0snOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgOToNCiAgICAgICAgICAgICAgdGFnID0gJ0EnOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTA6DQogICAgICAgICAgICAgIHRhZyA9ICdCJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDExOg0KICAgICAgICAgICAgICB0YWcgPSAnTic7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxMjoNCiAgICAgICAgICAgICAgdGFnID0gJ1InOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTM6DQogICAgICAgICAgICAgIHRhZyA9ICdDJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDE0Og0KICAgICAgICAgICAgICB0YWcgPSAnUCc7DQogICAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgICAgICBjYXNlIDE2Og0KICAgICAgICAgICAgICB0YWcgPSAna18nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTc6DQogICAgICAgICAgICAgIHRhZyA9ICdhXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxODoNCiAgICAgICAgICAgICAgdGFnID0gJ2JfJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDE5Og0KICAgICAgICAgICAgICB0YWcgPSAnbl8nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMjA6DQogICAgICAgICAgICAgIHRhZyA9ICdyXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAyMToNCiAgICAgICAgICAgICAgdGFnID0gJ2NfJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDIyOg0KICAgICAgICAgICAgICB0YWcgPSAncF8nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgdGFnID0gJ1VOZXhpc3QnOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgICAgdGFnID0gJ1VOZXhpc3QnDQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgdGFnID0gJ1VOZXhpc3QnDQogICAgICAgICAgfQ0KICAgICAgICAgIHJvdyA9IHRoaXMuUkFOS19ZKGkpDQogICAgICAgICAgY29sID0gdGhpcy5GSUxFX1goaSkNCiAgICAgICAgICBpbWdJbmRleCA9IGkgLSA3ICogcm93IC0gMzANCiAgICAgICAgICBsZXQgaW1nU3JjU3RyID0gYC9pbWcvY2hlc3MvJHt0YWd9LnBuZ2A7DQogICAgICAgICAgdGhpcy5pbWdEb21BcnJbaW1nSW5kZXhdLnNyYyA9IGltZ1NyY1N0cg0KICAgICAgICAgIC8q5riF56m65Y+Y6YePKi8NCiAgICAgICAgICB0YWcgPSAnJzsNCiAgICAgICAgICByb3cgPSAwOw0KICAgICAgICAgIGltZ0luZGV4ID0gMA0KICAgICAgICB9IGVsc2UgY29udGludWUNCiAgICAgIH0NCg0KICAgIH0sDQogICAgLyrlsIZGRU7kuLIoYXJyYXnlnosp6L2s5YyW5Li65LiA57u05pWw57uE5b2i5byP77yM5bm25LiU5a2X56ym5YWD57Sg5pig5bCE5Li65pW05Z6LLOS/neWtmOWcqHRoaXMuZGlzcGxheUNoZXNzVGVtcCovDQogICAgRkVOdG9Cb2FyZChGRU5BcnJheSkgew0KICAgICAgbGV0IHggPSAzLCB5ID0gMw0KICAgICAgZm9yIChsZXQgaSBpbiBGRU5BcnJheSkgew0KICAgICAgICBsZXQgY2ggPSBGRU5BcnJheVtpXQ0KICAgICAgICBpZiAoY2ggPT09ICcvJykgey8v5o2i6KGMDQogICAgICAgICAgeSsrDQogICAgICAgIH0NCiAgICAgICAgaWYgKHkgPiAxMikgYnJlYWsNCiAgICAgICAgaWYgKHggPiAxMSkgeCA9IDMNCiAgICAgICAgZWxzZSBpZiAoY2ggPj0gJzEnICYmIGNoIDw9ICc5Jykgey8v5Ye6546w56m65L2NDQogICAgICAgICAgeCArPSBwYXJzZUludChjaCkNCiAgICAgICAgfSBlbHNlIGlmICgoY2ggPj0gJ2EnICYmIGNoIDw9ICd6JykpIHsvL+e6ouaWueaji+WtkOaIlum7keaWueaji+WtkA0KICAgICAgICAgIGxldCBpbmRleCA9IHggKyAoeSA8PCA0KQ0KICAgICAgICAgIHRoaXMuZGlzcGxheUNoZXNzVGVtcFtpbmRleF0gPSB0aGlzLkZFTkNoYXJUb051bShjaCkNCiAgICAgICAgICB4KysNCiAgICAgICAgfSBlbHNlIGlmIChjaCA+PSAnQScgJiYgY2ggPD0gJ1onKSB7DQogICAgICAgICAgbGV0IGluZGV4ID0geCArICh5IDw8IDQpDQogICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2luZGV4XSA9IHRoaXMuRkVOQ2hhclRvTnVtKGNoKQ0KICAgICAgICAgIHgrKw0KICAgICAgICB9IGVsc2UgY29uc29sZS5sb2coJ2VycicpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLyrlsIbmo4vlrZDlrZfnrKbovazmiJDlr7nlupTnmoTmlbTmlbAqLw0KICAgIEZFTkNoYXJUb051bShpdGVtKSB7Ly/lsIbmo4vlrZDlrZfnrKbovazmiJDlr7nlupTnmoTmlbTmlbANCiAgICAgIHN3aXRjaCAoaXRlbSkgew0KICAgICAgICBjYXNlICdLJyA6IHsNCiAgICAgICAgICByZXR1cm4gODsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICdBJzoNCiAgICAgICAgICByZXR1cm4gOTsNCiAgICAgICAgY2FzZSAnQic6DQogICAgICAgICAgcmV0dXJuIDEwOw0KICAgICAgICBjYXNlICdOJzoNCiAgICAgICAgICByZXR1cm4gMTE7DQogICAgICAgIGNhc2UgJ1InOg0KICAgICAgICAgIHJldHVybiAxMjsNCiAgICAgICAgY2FzZSAnQyc6DQogICAgICAgICAgcmV0dXJuIDEzOw0KICAgICAgICBjYXNlICdQJzoNCiAgICAgICAgICByZXR1cm4gMTQ7DQoNCiAgICAgICAgY2FzZSAnayc6DQogICAgICAgICAgcmV0dXJuIDE2Ow0KICAgICAgICBjYXNlICdhJzoNCiAgICAgICAgICByZXR1cm4gMTc7DQogICAgICAgIGNhc2UgJ2InOg0KICAgICAgICAgIHJldHVybiAxODsNCiAgICAgICAgY2FzZSAnbic6DQogICAgICAgICAgcmV0dXJuIDE5Ow0KICAgICAgICBjYXNlICdyJzoNCiAgICAgICAgICByZXR1cm4gMjA7DQogICAgICAgIGNhc2UgJ2MnOg0KICAgICAgICAgIHJldHVybiAyMTsNCiAgICAgICAgY2FzZSAncCc6DQogICAgICAgICAgcmV0dXJuIDIyOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHJldHVybiAnZXJyJw0KICAgICAgfQ0KICAgIH0sDQogICAgLyrmoLnmja7lrZfnrKbvvIzov5Tlm57lm77niYfmlofku7blkI0o55qE5YWz6ZSu5L+h5oGvKSovDQogICAgRkVOQ2hhclRvSW1nKGNoKSB7DQogICAgICBzd2l0Y2ggKGNoKSB7DQogICAgICAgIGNhc2UgJ0snIDogew0KICAgICAgICAgIHJldHVybiAnSyc7DQogICAgICAgIH0NCiAgICAgICAgY2FzZSAnQSc6DQogICAgICAgICAgcmV0dXJuICdBJzsNCiAgICAgICAgY2FzZSAnQic6DQogICAgICAgICAgcmV0dXJuICdCJzsNCiAgICAgICAgY2FzZSAnTic6DQogICAgICAgICAgcmV0dXJuICdOJzsNCiAgICAgICAgY2FzZSAnUic6DQogICAgICAgICAgcmV0dXJuICdSJzsNCiAgICAgICAgY2FzZSAnQyc6DQogICAgICAgICAgcmV0dXJuICdDJzsNCiAgICAgICAgY2FzZSAnUCc6DQogICAgICAgICAgcmV0dXJuICdQJzsNCg0KICAgICAgICBjYXNlICdrJzoNCiAgICAgICAgICByZXR1cm4gJ2tfJzsNCiAgICAgICAgY2FzZSAnYSc6DQogICAgICAgICAgcmV0dXJuICdhXyc7DQogICAgICAgIGNhc2UgJ2InOg0KICAgICAgICAgIHJldHVybiAnYl8nOw0KICAgICAgICBjYXNlICduJzoNCiAgICAgICAgICByZXR1cm4gJ25fJzsNCiAgICAgICAgY2FzZSAncic6DQogICAgICAgICAgcmV0dXJuICdyXyc7DQogICAgICAgIGNhc2UgJ2MnOg0KICAgICAgICAgIHJldHVybiAnY18nOw0KICAgICAgICBjYXNlICdwJzoNCiAgICAgICAgICByZXR1cm4gJ3BfJzsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICByZXR1cm4gJ2VycicNCiAgICAgIH0NCiAgICB9LA0KICAgIC8q5qC55o2u5qOL5a2Q5Zu+54mH5paH5Lu25ZCN77yM6L+U5Zue5qOL5a2Q5Lit5paH5a2X56ym5LiyKi8NCiAgICBJbWdOYW1lVG9DaGVzc05hbWUoaW1nTmFtZSkgew0KICAgICAgc3dpdGNoIChpbWdOYW1lKSB7DQogICAgICAgIGNhc2UgJ0snIDogew0KICAgICAgICAgIHJldHVybiAn57qi5pa5X+W4hSc7DQogICAgICAgIH0NCiAgICAgICAgY2FzZSAnQSc6DQogICAgICAgICAgcmV0dXJuICfnuqLmlrlf5aOrJzsNCiAgICAgICAgY2FzZSAnQic6DQogICAgICAgICAgcmV0dXJuICfnuqLmlrlf55u4JzsNCiAgICAgICAgY2FzZSAnTic6DQogICAgICAgICAgcmV0dXJuICfnuqLmlrlf6amsJzsNCiAgICAgICAgY2FzZSAnUic6DQogICAgICAgICAgcmV0dXJuICfnuqLmlrlf6L2mJzsNCiAgICAgICAgY2FzZSAnQyc6DQogICAgICAgICAgcmV0dXJuICfnuqLmlrlf54KuJzsNCiAgICAgICAgY2FzZSAnUCc6DQogICAgICAgICAgcmV0dXJuICfnuqLmlrlf5YW1JzsNCg0KICAgICAgICBjYXNlICdrJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/lsIYnOw0KICAgICAgICBjYXNlICdhJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/ku5UnOw0KICAgICAgICBjYXNlICdiJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/osaEnOw0KICAgICAgICBjYXNlICduJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/pqawnOw0KICAgICAgICBjYXNlICdyJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/ovaYnOw0KICAgICAgICBjYXNlICdjJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/ngq4nOw0KICAgICAgICBjYXNlICdwJzoNCiAgICAgICAgICByZXR1cm4gJ+m7keaWuV/ljZInOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHJldHVybiAn56m6Jw0KICAgICAgfQ0KICAgIH0sDQogICAgLyrmoLnmja5GRU7kuLLnu5jliLbmo4vnm5gqLw0KICAgIGRyYXdXaXRoRkVOKEZFTikgew0KICAgICAgdGhpcy5GRU5BcnJheSA9IFtdDQogICAgICB0aGlzLkZFTkFycmF5ID0gRkVOLnNwbGl0KCcnKQ0KICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wID0gW10NCiAgICAgIHRoaXMuRkVOdG9Cb2FyZCh0aGlzLkZFTkFycmF5KQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5kaXNwbGF5Q2hlc3NUZW1wKTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHsvL+Wwhuaji+ebmOWkluWFg+e0oOiuvue9ruS4um51bGwNCiAgICAgICAgaWYgKCF0aGlzLklOX0JPQVJEKGkpKSB7DQogICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldID0gbnVsbA0KICAgICAgICB9DQogICAgICB9DQogICAgICBsZXQgc3RhcnQgPSB0aGlzLkNPT1JEX1hZKDMsIDMpIC8vNTEs5b6q546v5byA5aeL5aSEDQogICAgICBsZXQgZW5kID0gdGhpcy5DT09SRF9YWSgxMSwgMTIpIC8vMjAz77yM5b6q546v57uT5p2f5aSEDQogICAgICAvLyB0aGlzLmltZ0RvbUFyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5pbWdCb3ggaW1nJykNCiAgICAgIC8qdGFn55So5L2c6K6w5b2V5paH5Lu25ZCN5YWz6ZSu5L+h5oGv77ybDQogICAgICAqKnJvd+aYr+W9k+WJjeW+queOr+e0ouW8leWAvGnlr7nlupTnmoTkuoznu7TlnZDmoIfnmoTooYzmlbAsY29s5piv5YiX5pWw77ybDQogICAgICAqKmltZ0luZGV455So5LqO6K6w5b2VaeWvueW6lOesrOWHoOS4quWbvueJhyovDQogICAgICBsZXQgdGFnID0gJycsIHJvdyA9IDAsIGltZ0luZGV4ID0gMCwgY29sID0gMDsNCiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykgew0KICAgICAgICBpZiAodGhpcy5JTl9CT0FSRChpKSkgew0KICAgICAgICAgIHN3aXRjaCAodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldKSB7DQogICAgICAgICAgICBjYXNlIDg6DQogICAgICAgICAgICAgIHRhZyA9ICdLJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDk6DQogICAgICAgICAgICAgIHRhZyA9ICdBJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDEwOg0KICAgICAgICAgICAgICB0YWcgPSAnQic7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxMToNCiAgICAgICAgICAgICAgdGFnID0gJ04nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTI6DQogICAgICAgICAgICAgIHRhZyA9ICdSJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDEzOg0KICAgICAgICAgICAgICB0YWcgPSAnQyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxNDoNCiAgICAgICAgICAgICAgdGFnID0gJ1AnOw0KICAgICAgICAgICAgICBicmVhazsNCg0KICAgICAgICAgICAgY2FzZSAxNjoNCiAgICAgICAgICAgICAgdGFnID0gJ2tfJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDE3Og0KICAgICAgICAgICAgICB0YWcgPSAnYV8nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTg6DQogICAgICAgICAgICAgIHRhZyA9ICdiXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxOToNCiAgICAgICAgICAgICAgdGFnID0gJ25fJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDIwOg0KICAgICAgICAgICAgICB0YWcgPSAncl8nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMjE6DQogICAgICAgICAgICAgIHRhZyA9ICdjXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAyMjoNCiAgICAgICAgICAgICAgdGFnID0gJ3BfJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICAgIHRhZyA9ICdVTmV4aXN0JzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDA6DQogICAgICAgICAgICAgIHRhZyA9ICdVTmV4aXN0Jw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgIHRhZyA9ICdVTmV4aXN0Jw0KICAgICAgICAgIH0NCiAgICAgICAgICByb3cgPSB0aGlzLlJBTktfWShpKQ0KICAgICAgICAgIGNvbCA9IHRoaXMuRklMRV9YKGkpDQogICAgICAgICAgaW1nSW5kZXggPSBpIC0gNyAqIHJvdyAtIDMwDQogICAgICAgICAgbGV0IGltZ1NyY1N0ciA9IGAvaW1nL2NoZXNzLyR7dGFnfS5wbmdgOw0KICAgICAgICAgIHRoaXMuaW1nRG9tQXJyW2ltZ0luZGV4XS5zcmMgPSBpbWdTcmNTdHIgLy8g6YeN5paw5riy5p+T5qOL5a2Q5Zu+54mHDQogICAgICAgICAgLyrmuIXnqbrlj5jph48qLw0KICAgICAgICAgIHRhZyA9ICcnOw0KICAgICAgICAgIHJvdyA9IDA7DQogICAgICAgICAgaW1nSW5kZXggPSAwDQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgIH0sDQogICAgLyrmoLnmja5kaXNwbGF5Q2hlc3NUZW1w6YeN5paw57uY5Yi25bGA6Z2iKi8NCiAgICBkcmF3V2l0aFNxKCkgew0KICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5DT09SRF9YWSgzLCAzKSAvLzUxLOW+queOr+W8gOWni+WkhA0KICAgICAgbGV0IGVuZCA9IHRoaXMuQ09PUkRfWFkoMTEsIDEyKSAvLzIwM++8jOW+queOr+e7k+adn+WkhA0KICAgICAgLy8gdGhpcy5pbWdEb21BcnIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYuaW1nQm94IGltZycpDQogICAgICAvKnRhZ+eUqOS9nOiusOW9leaWh+S7tuWQjeWFs+mUruS/oeaBr++8mw0KICAgICAgKipyb3fmmK/lvZPliY3lvqrnjq/ntKLlvJXlgLxp5a+55bqU55qE5LqM57u05Z2Q5qCH55qE6KGM5pWwLGNvbOaYr+WIl+aVsO+8mw0KICAgICAgKippbWdJbmRleOeUqOS6juiusOW9lWnlr7nlupTnrKzlh6DkuKrlm77niYcqLw0KICAgICAgbGV0IHRhZyA9ICcnLCByb3cgPSAwLCBpbWdJbmRleCA9IDAsIGNvbCA9IDA7DQogICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHsNCiAgICAgICAgaWYgKHRoaXMuSU5fQk9BUkQoaSkpIHsNCiAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtpXSkgew0KICAgICAgICAgICAgY2FzZSA4Og0KICAgICAgICAgICAgICB0YWcgPSAnSyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSA5Og0KICAgICAgICAgICAgICB0YWcgPSAnQSc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxMDoNCiAgICAgICAgICAgICAgdGFnID0gJ0InOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTE6DQogICAgICAgICAgICAgIHRhZyA9ICdOJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDEyOg0KICAgICAgICAgICAgICB0YWcgPSAnUic7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxMzoNCiAgICAgICAgICAgICAgdGFnID0gJ0MnOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTQ6DQogICAgICAgICAgICAgIHRhZyA9ICdQJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIGNhc2UgMTY6DQogICAgICAgICAgICAgIHRhZyA9ICdrXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxNzoNCiAgICAgICAgICAgICAgdGFnID0gJ2FfJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDE4Og0KICAgICAgICAgICAgICB0YWcgPSAnYl8nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMTk6DQogICAgICAgICAgICAgIHRhZyA9ICduXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAyMDoNCiAgICAgICAgICAgICAgdGFnID0gJ3JfJzsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIDIxOg0KICAgICAgICAgICAgICB0YWcgPSAnY18nOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgMjI6DQogICAgICAgICAgICAgIHRhZyA9ICdwXyc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCc7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAwOg0KICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCcNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICB0YWcgPSAnVU5leGlzdCcNCiAgICAgICAgICB9DQogICAgICAgICAgcm93ID0gdGhpcy5SQU5LX1koaSkNCiAgICAgICAgICBjb2wgPSB0aGlzLkZJTEVfWChpKQ0KICAgICAgICAgIGltZ0luZGV4ID0gaSAtIDcgKiByb3cgLSAzMA0KICAgICAgICAgIGxldCBpbWdTcmNTdHIgPSBgL2ltZy9jaGVzcy8ke3RhZ30ucG5nYDsNCiAgICAgICAgICB0aGlzLmltZ0RvbUFycltpbWdJbmRleF0uc3JjID0gaW1nU3JjU3RyIC8vIOmHjeaWsOa4suafk+aji+WtkOWbvueJhw0KICAgICAgICAgIC8q5riF56m65Y+Y6YePKi8NCiAgICAgICAgICB0YWcgPSAnJzsNCiAgICAgICAgICByb3cgPSAwOw0KICAgICAgICAgIGltZ0luZGV4ID0gMA0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvKuWwhuesrOWHoOS4quWbvueJh+agh+etvui9rOaNouS4unNxKi8NCiAgICBpbWdJbmRleFRvU3EoaW1nSW5kZXgpIHsNCiAgICAgIGxldCByb3cgPSBNYXRoLmZsb29yKChpbWdJbmRleCAtIDEpIC8gOSkgKyAzDQogICAgICByZXR1cm4gaW1nSW5kZXggKyAzMCArIDcgKiByb3cgLSAxDQogICAgICAvLyBjb25zb2xlLmxvZygnc3E6JyArIHNxKTsNCiAgICB9LA0KICAgIC8q5aaC5p6c5LuO6LW354K5c3FTcmPliLDnu4jngrlzcURzdOayoeaciei/h+ays++8jOWImei/lOWbnnRydWXvvJvlkKbliJnov5Tlm55mYWxzZSovDQogICAgU0FNRV9IQUxGKHNxU3JjLCBzcURzdCkgey8vIOWmguaenOS7jui1t+eCuXNxU3Jj5Yiw57uI54K5c3FEc3TmsqHmnInov4fmsrPvvIzliJnov5Tlm550cnVl77yb5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICAgIHJldHVybiAoKHNxU3JjIF4gc3FEc3QpICYgMHg4MCkgPT09IDA7DQogICAgfSwNCiAgICAvKueUteiEkei1sOajiw0KICAgICogZG9tOueUteiEkeaTjeaOp+aooeaLn+m8oOagh+eCueWHu+WkhOeahGRvbeWvueixoSjlrp7pmYXkuIrmmK/osIPnlKjkuoZjaGVzczFDbGlja+WHveaVsO+8jOayoeacieeCueWHuykNCiAgICAqIDHku6PooajotbfngrnvvIwy5Luj6KGo57uI54K5DQogICAgKiDlrp7njrDmlYjmnpzkuLrmo4vlrZDnp7vliqgNCiAgICAqICovDQogICAgbWFjaGluZU1vdmUoZG9tMSxkb20yKXsNCiAgICAgIGxldCBmaWxlTmFtZTEgPSBkb20xLmF0dHIoJ3NyYycpLnNsaWNlKDExLCAxMikNCiAgICAgIGxldCBpbWdJbmRleDEgPSBwYXJzZUludChkb20xLmF0dHIoJ2lkJykuc2xpY2UoMykpICsgMQ0KICAgICAgbGV0IGNoZXNzSW5mbzEgPSB7Ly/mo4vlrZDnmoTkuIDkupvkv6Hmga8NCiAgICAgICAgZGlzcGxheUNoZXNzOiB0aGlzLmRpc3BsYXlDaGVzc1RlbXAsDQogICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZTEsDQogICAgICAgIGltZ0luZGV4OiBpbWdJbmRleDEsDQogICAgICAgIHNxU2VsZWN0ZWQ6IHRoaXMuaW1nSW5kZXhUb1NxKGltZ0luZGV4MSkNCiAgICAgIH0NCiAgICAgIHRoaXMuY2hlc3MxQ2xpY2soY2hlc3NJbmZvMSkvL+ebuOW9k+S6jum8oOagh+eCueWHu+S6hnBvczDovabnmoTkvY3nva4NCg0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIGxldCBmaWxlTmFtZTIgPSBkb20yLmF0dHIoJ3NyYycpLnNsaWNlKDExLCAxMikNCiAgICAgICAgbGV0IGltZ0luZGV4MiA9IHBhcnNlSW50KGRvbTIuYXR0cignaWQnKS5zbGljZSgzKSkgKyAxDQogICAgICAgIGxldCBjaGVzc0luZm8yID0gey8v5qOL5a2Q55qE5LiA5Lqb5L+h5oGvDQogICAgICAgICAgZGlzcGxheUNoZXNzOiB0aGlzLmRpc3BsYXlDaGVzc1RlbXAsDQogICAgICAgICAgZmlsZU5hbWU6IGZpbGVOYW1lMiwNCiAgICAgICAgICBpbWdJbmRleDogaW1nSW5kZXgyLA0KICAgICAgICAgIHNxU2VsZWN0ZWQ6IHRoaXMuaW1nSW5kZXhUb1NxKGltZ0luZGV4MikNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmNoZXNzMUNsaWNrKGNoZXNzSW5mbzIpDQogICAgICB9LDUwMCkNCg0KICAgIH0sDQogICAgLyrmoLnmja7ovpPlhaXnmoTmo4vlrZBkb23lr7nosaHvvIzov5Tlm57or6Xmo4vlrZDmiYDmnInlj6/og73nmoTkuIvkuIDmraXotbDms5XvvIhhcnJheeWei++8jOS9huaVsOe7hOWFg+e0oOS4umRvbeWvueixoe+8iSovDQogICAgbWFjaGluZV9nZXRTdGVwcyhkb20pIHsNCiAgICAgIGxldCBzdGVwID0gW10NCiAgICAgIGxldCBmaWxlTmFtZSA9IGRvbS5hdHRyKCdzcmMnKS5zbGljZSgxMSwgMTIpDQogICAgICBsZXQgc3FTcmMgPSB0aGlzLmltZ0luZGV4VG9TcShwYXJzZUludChkb20uYXR0cignaWQnKS5zbGljZSgzKSkgKyAxKS8v6I635Y+W5LiA57u05Z2Q5qCHDQogICAgICBzd2l0Y2ggKGZpbGVOYW1lKSB7DQogICAgICAgIGNhc2UgJ2snOiB7DQogICAgICAgICAgbGV0IEtJTkdfREVMVEE9IFstMTYsIC0xLCAxLCAxNl07DQogICAgICAgICAgZm9yIChsZXQgaSBpbiBLSU5HX0RFTFRBKSB7Ly8g5bCG55qENOS4quaWueWQkQ0KICAgICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrlj6/og73nmoTnu4jngrnkvY3nva4NCiAgICAgICAgICAgIGlmKCF0aGlzLklOX0JPQVJEKHNxRHN0KSkgey8v57uI54K55aSE5LiN5Zyo5qOL55uY5YaFDQogICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYgJiYgdGhpcy5JTl9GT1JUKHNxRHN0KSkgew0KICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkO+8jOS4lOe7iOeCueWcqOS5neWuq+agvOWGhQ0KICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQ0KICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICdhJzogew0KICAgICAgICAgIGxldCBBRFZJU09SX0RFTFRBID0gWy0xNSwgLTE3LCAxNywgMTVdOw0KICAgICAgICAgIGZvcihsZXQgaSBpbiBBRFZJU09SX0RFTFRBKSB7DQogICAgICAgICAgICBsZXQgc3FEc3QgPSBzcVNyYyArIEFEVklTT1JfREVMVEFbaV07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rg0KICAgICAgICAgICAgaWYoIXRoaXMuSU5fQk9BUkQoc3FEc3QpICkgey8v57uI54K55aSE5LiN5Zyo5qOL55uY5YaF77yM5oiW5LiN5Zyo5Lmd5a6r5qC85YaFDQogICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYgJiYgdGhpcy5JTl9GT1JUKHNxRHN0KSkgew0KICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkCzkuJTnu4jngrnlnKjkuZ3lrqvmoLzlhoUNCiAgICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQ0KICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgbGV0IGRvbVRlbXAgPSAgJCgnI3BvcycgKyBpbWdJbmRleCkNCiAgICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAnYic6IHsNCiAgICAgICAgICBsZXQgQklTSE9QX0RFTFRBID0gWy0zNCwgLTMwLCAzMCwgMzRdOw0KICAgICAgICAgIGZvcihsZXQgaSBpbiBCSVNIT1BfREVMVEEpIHsNCiAgICAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgQklTSE9QX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrlj6/og73nmoTnu4jngrnkvY3nva4NCiAgICAgICAgICAgIGlmKCF0aGlzLklOX0JPQVJEKHNxRHN0KSB8fCAhdGhpcy5TQU1FX0hBTEYoc3FTcmMsc3FEc3QpDQogICAgICAgICAgICAgICAgfHwgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wWyhzcVNyYytzcURzdCkvMl0gPiAxKSB7DQogICAgICAgICAgICAgIC8v57uI54K55aSE5LiN5Zyo5qOL55uY5YaFLOaIlui/h+aysyzmiJbosaHnnLzml6Dmo4vlrZANCiAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPCAxNikgew0KICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkA0KICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQ0KICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICduJzogew0KICAgICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOw0KICAgICAgICAgIGxldCBLTklHSFRfREVMVEEgPSBbWy0zMywgLTMxXSwgWy0xOCwgMTRdLCBbLTE0LCAxOF0sIFszMSwgMzNdXTsNCiAgICAgICAgICBmb3IobGV0IGkgaW4gS05JR0hUX0RFTFRBKSB7Ly8g6ams6IW/55qENOS4quaWueWQkQ0KICAgICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBLSU5HX0RFTFRBW2ldOyAvLyDlvpfliLDkuIDkuKrpqazohb/nmoTkvY3nva4NCiAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPiAxKSB7DQogICAgICAgICAgICAgIC8v6ams6ISa5aSE5pyJ5qOL5a2QDQogICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGogKyspIHsgLy8gMeS4qumprOiFv+WvueW6lDLkuKrpqaznmoTmlrnlkJENCiAgICAgICAgICAgICAgc3FEc3QgPSBzcVNyYyArIEtOSUdIVF9ERUxUQVtpXVtqXTsgLy8g5b6X5Yiw5LiA5Liq6ams55qE5Y+v6IO955qE57uI54K55L2N572uDQogICAgICAgICAgICAgIGlmICghdGhpcy5JTl9CT0FSRChzcURzdCkpIHsNCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdIDwgMTYpIHsNCiAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOm7keaWue+8ieaji+WtkA0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAncic6IHsNCiAgICAgICAgICBsZXQgS0lOR19ERUxUQT0gWy0xNiwgLTEsIDEsIDE2XTsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkgKyspIHsNCiAgICAgICAgICAgIGxldCBkZWx0YSA9IEtJTkdfREVMVEFbaV07ICAgIC8vIOW+l+WIsOS4gOS4quaWueWQkQ0KICAgICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBkZWx0YTsgICAgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQ0KICAgICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7DQogICAgICAgICAgICAgIC8v5Zyo5qOL55uY5LiKDQogICAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPCAxNikgew0KICAgICAgICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI6buR5pa577yJ5qOL5a2QLOaIluaciee6ouaWueaji+WtkA0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPj0gOCkgew0KICAgICAgICAgICAgICAgICAgLy/nu4jngrnlpITmnInlr7nmlrnvvIjnuqLmlrnvvInmo4vlrZANCiAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGVsc2UgYnJlYWsNCiAgICAgICAgICAgICAgc3FEc3QgKz0gZGVsdGE7ICAgICAvLyDmsr/nnYDmlrnlkJFkZWx0YeWQkeWJjei1sOS4gOatpQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICAgIGNhc2UgJ2MnOiB7DQogICAgICAgICAgbGV0IEtJTkdfREVMVEE9IFstMTYsIC0xLCAxLCAxNl07DQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpICsrKSB7DQogICAgICAgICAgICBsZXQgZGVsdGEgPSBLSU5HX0RFTFRBW2ldOyAgICAvLyDlvpfliLDkuIDkuKrmlrnlkJENCiAgICAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgZGVsdGE7ICAgIC8vIOS7jui1t+eCuXNxU3Jj5byA5aeL77yM5rK/552A5pa55ZCRZGVsdGHotbDkuIDmraUNCiAgICAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKHNxRHN0KSkgew0KICAgICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID09PSAxKSB7DQogICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZANCiAgICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtMjkgLSAxDQogICAgICAgICAgICAgICAgbGV0IGRvbVRlbXAgPSAgJCgnI3BvcycgKyBpbWdJbmRleCkNCiAgICAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBlbHNlIHsgICAgICAgICAgICAvLyDnu4jngrnlrZjlnKjmo4vlrZDvvIzngq7pnIDopoHnv7vlsbENCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBzcURzdCArPSBkZWx0YTsgICAgIC8vIOayv+edgOaWueWQkWRlbHRh5ZCR5YmN6LWw5LiA5q2lDQogICAgICAgICAgICB9DQogICAgICAgICAgICBzcURzdCArPSBkZWx0YTsgICAgICAgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUNCiAgICAgICAgICAgIHdoaWxlICh0aGlzLklOX0JPQVJEKHNxRHN0KSkgeyAvLyDlpoLmnpxzcURzdOS7jeS9jeS6juaji+ebmO+8jOmCo+S5iOatpOaXtueCruW3sue7j+e/u+WxseS6hg0KICAgICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID49IDggJiYgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSA8IDE2KSB7DQogICAgICAgICAgICAgICAgLy/nu4jngrnlpITmmK/nuqLmlrnmo4vlrZANCiAgICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICAgICAgbGV0IGltZ0luZGV4ID0gc3FEc3QgLSA3KnJvdyAtIDI5IC0gMQ0KICAgICAgICAgICAgICAgIGxldCBkb21UZW1wID0gJCgnI3BvcycgKyBpbWdJbmRleCkNCiAgICAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHNxRHN0ICs9IGRlbHRhOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICAgIGNhc2UgJ3AnOiB7DQogICAgICAgICAgbGV0IFBBV05fZGVsdGEgPSBbMTYsMSwtMV0gLy/lhbXkuIDlvIDlp4vlj6rog73lkJHkuIvotbAs6L+H5rKz5ZCO5Y+v5ZCR5bemL+WPs+i1sA0KICAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgUEFXTl9kZWx0YVswXQ0KICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPCAxNikgey8v57uI54K55aSE5LiN5piv6buR5pa55qOL5a2QDQogICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpDQogICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICB9DQogICAgICAgICAgaWYoc3FTcmMgPj0gMTMxKSB7Ly/oi6XlhbXov4fmsrPkuoYo5q2k5aSE55qEMTMx5piv57uP6L+H6K6h566X5b6X5Yiw55qE6L+H5rKz5Li055WM5YC8DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykgew0KICAgICAgICAgICAgICBzcURzdCA9IHNxU3JjICsgUEFXTl9kZWx0YVtpKzFdDQogICAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPCAxNikgew0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCg0KICAgICAgICBjYXNlICdLJzogew0KICAgICAgICAgIGxldCBLSU5HX0RFTFRBPSBbLTE2LCAtMSwgMSwgMTZdOw0KICAgICAgICAgIGZvciAobGV0IGkgaW4gS0lOR19ERUxUQSkgey8vIOWwhueahDTkuKrmlrnlkJENCiAgICAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgS0lOR19ERUxUQVtpXTsgLy8g5b6X5Yiw5LiA5Liq5Y+v6IO955qE57uI54K55L2N572uDQogICAgICAgICAgICBpZighdGhpcy5JTl9CT0FSRChzcURzdCkpIHsvL+e7iOeCueWkhOS4jeWcqOaji+ebmOWGhQ0KICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkgJiYgdGhpcy5JTl9GT1JUKHNxRHN0KSkgew0KICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOe6ouaWue+8ieaji+WtkO+8jOS4lOe7iOeCueWcqOS5neWuq+agvOWGhQ0KICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQ0KICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICdBJzogew0KICAgICAgICAgIGxldCBBRFZJU09SX0RFTFRBID0gWy0xNSwgLTE3LCAxNywgMTVdOw0KICAgICAgICAgIGZvcihsZXQgaSBpbiBBRFZJU09SX0RFTFRBKSB7DQogICAgICAgICAgICBsZXQgc3FEc3QgPSBzcVNyYyArIEFEVklTT1JfREVMVEFbaV07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rg0KICAgICAgICAgICAgaWYoIXRoaXMuSU5fQk9BUkQoc3FEc3QpICkgey8v57uI54K55aSE5LiN5Zyo5qOL55uY5YaF77yM5oiW5LiN5Zyo5Lmd5a6r5qC85YaFDQogICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZighKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gJiA4KSAmJiB0aGlzLklOX0ZPUlQoc3FEc3QpKSB7DQogICAgICAgICAgICAgIC8v57uI54K55aSE5rKh5pyJ5qOL5a2Q5rKh5pyJ5pys5pa577yI57qi5pa577yJ5qOL5a2QLOS4lOe7iOeCueWcqOS5neWuq+agvOWGhQ0KICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5SQU5LX1koc3FEc3QpDQogICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQ0KICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICBzdGVwLnB1c2goZG9tVGVtcCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICdCJzogew0KICAgICAgICAgIGxldCBCSVNIT1BfREVMVEEgPSBbLTM0LCAtMzAsIDMwLCAzNF07DQogICAgICAgICAgZm9yKGxldCBpIGluIEJJU0hPUF9ERUxUQSkgew0KICAgICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBCSVNIT1BfREVMVEFbaV07IC8vIOW+l+WIsOS4gOS4quWPr+iDveeahOe7iOeCueS9jee9rg0KICAgICAgICAgICAgaWYoIXRoaXMuSU5fQk9BUkQoc3FEc3QpIHx8ICF0aGlzLlNBTUVfSEFMRihzcVNyYyxzcURzdCkNCiAgICAgICAgICAgICAgICB8fCB0aGlzLmRpc3BsYXlDaGVzc1RlbXBbKHNxU3JjK3NxRHN0KS8yXSA+IDEpIHsNCiAgICAgICAgICAgICAgLy/nu4jngrnlpITkuI3lnKjmo4vnm5jlhoUs5oiW6L+H5rKzLOaIluixoeecvOaXoOaji+WtkA0KICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkpIHsNCiAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjnuqLmlrnvvInmo4vlrZANCiAgICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQ0KICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgbGV0IGRvbVRlbXAgPSAgJCgnI3BvcycgKyBpbWdJbmRleCkNCiAgICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAnTic6IHsNCiAgICAgICAgICBsZXQgS0lOR19ERUxUQT0gWy0xNiwgLTEsIDEsIDE2XTsNCiAgICAgICAgICBsZXQgS05JR0hUX0RFTFRBID0gW1stMzMsIC0zMV0sIFstMTgsIDE0XSwgWy0xNCwgMThdLCBbMzEsIDMzXV07DQogICAgICAgICAgZm9yKGxldCBpIGluIEtOSUdIVF9ERUxUQSkgey8vIOmprOiFv+eahDTkuKrmlrnlkJENCiAgICAgICAgICAgIGxldCBzcURzdCA9IHNxU3JjICsgS0lOR19ERUxUQVtpXTsgLy8g5b6X5Yiw5LiA5Liq6ams6IW/55qE5L2N572uDQogICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdID4gMSkgew0KICAgICAgICAgICAgICAvL+mprOiEmuWkhOacieaji+WtkA0KICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAyOyBqICsrKSB7IC8vIDHkuKrpqazohb/lr7nlupQy5Liq6ams55qE5pa55ZCRDQogICAgICAgICAgICAgIHNxRHN0ID0gc3FTcmMgKyBLTklHSFRfREVMVEFbaV1bal07IC8vIOW+l+WIsOS4gOS4qumprOeahOWPr+iDveeahOe7iOeCueS9jee9rg0KICAgICAgICAgICAgICBpZiAoIXRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7DQogICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkpIHsNCiAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkOayoeacieacrOaWue+8iOe6ouaWue+8ieaji+WtkA0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAnUic6IHsNCiAgICAgICAgICBsZXQgS0lOR19ERUxUQT0gWy0xNiwgLTEsIDEsIDE2XTsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkgKyspIHsNCiAgICAgICAgICAgIGxldCBkZWx0YSA9IEtJTkdfREVMVEFbaV07ICAgIC8vIOW+l+WIsOS4gOS4quaWueWQkQ0KICAgICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBkZWx0YTsgICAgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQ0KICAgICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7DQogICAgICAgICAgICAgIC8v5Zyo5qOL55uY5LiKDQogICAgICAgICAgICAgIGlmKCEodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSAmIDgpKSB7DQogICAgICAgICAgICAgICAgLy/nu4jngrnlpITmsqHmnInmo4vlrZDmsqHmnInmnKzmlrnvvIjnuqLmlrnvvInmo4vlrZAs5oiW5pyJ57qi5pa55qOL5a2QDQogICAgICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQ0KICAgICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQ0KICAgICAgICAgICAgICAgIGxldCBkb21UZW1wID0gICQoJyNwb3MnICsgaW1nSW5kZXgpDQogICAgICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApDQogICAgICAgICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW3NxRHN0XSAmIDE2KSB7DQogICAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOacieWvueaWue+8iOm7keaWue+8ieaji+WtkA0KICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgZWxzZSBicmVhaw0KICAgICAgICAgICAgICBzcURzdCArPSBkZWx0YTsgICAgIC8vIOayv+edgOaWueWQkWRlbHRh5ZCR5YmN6LWw5LiA5q2lDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAnQyc6IHsNCiAgICAgICAgICBsZXQgS0lOR19ERUxUQT0gWy0xNiwgLTEsIDEsIDE2XTsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkgKyspIHsNCiAgICAgICAgICAgIGxldCBkZWx0YSA9IEtJTkdfREVMVEFbaV07ICAgIC8vIOW+l+WIsOS4gOS4quaWueWQkQ0KICAgICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBkZWx0YTsgICAgLy8g5LuO6LW354K5c3FTcmPlvIDlp4vvvIzmsr/nnYDmlrnlkJFkZWx0Yei1sOS4gOatpQ0KICAgICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7DQogICAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gPT09IDEpIHsNCiAgICAgICAgICAgICAgICAvL+e7iOeCueWkhOayoeacieaji+WtkA0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgIC8vIOe7iOeCueWtmOWcqOaji+WtkO+8jOeCrumcgOimgee/u+WxsQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHNxRHN0ICs9IGRlbHRhOyAgICAgLy8g5rK/552A5pa55ZCRZGVsdGHlkJHliY3otbDkuIDmraUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNxRHN0ICs9IGRlbHRhOyAgICAgICAvLyDmsr/nnYDmlrnlkJFkZWx0YeWQkeWJjei1sOS4gOatpQ0KICAgICAgICAgICAgd2hpbGUgKHRoaXMuSU5fQk9BUkQoc3FEc3QpKSB7IC8vIOWmguaenHNxRHN05LuN5L2N5LqO5qOL55uY77yM6YKj5LmI5q2k5pe254Ku5bey57uP57+75bGx5LqGDQogICAgICAgICAgICAgIGlmKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gJiAxNikgew0KICAgICAgICAgICAgICAgIC8v57uI54K55aSE5piv6buR5pa55qOL5a2QDQogICAgICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxRHN0KQ0KICAgICAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLSAyOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICQoJyNwb3MnICsgaW1nSW5kZXgpDQogICAgICAgICAgICAgICAgc3RlcC5wdXNoKGRvbVRlbXApDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBzcURzdCArPSBkZWx0YTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgYnJlYWsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICdQJzogew0KICAgICAgICAgIGxldCBQQVdOX2RlbHRhID0gWy0xNiwxLC0xXSAvL+WFteS4gOW8gOWni+WPquiDveWQkeS4iui1sCzov4fmsrPlkI7lj6/lkJHlt6Yv5Y+z6LWwDQogICAgICAgICAgbGV0IHNxRHN0ID0gc3FTcmMgKyBQQVdOX2RlbHRhWzBdDQogICAgICAgICAgaWYoISh0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FEc3RdICYgOCkpIHsvL+e7iOeCueWkhOS4jeaYr+e6ouaWueaji+WtkCzliJnotbDms5XlkIjms5UNCiAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgIGxldCBpbWdJbmRleCA9IHNxRHN0IC0gNypyb3cgLTI5IC0gMQ0KICAgICAgICAgICAgbGV0IGRvbVRlbXAgPSAgJCgnI3BvcycgKyBpbWdJbmRleCkNCiAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZihzcVNyYyA8IDEzMSkgey8v6Iul5YW16L+H5rKz5LqGKOatpOWkhOeahDEzMeaYr+e7j+i/h+iuoeeul+W+l+WIsOeahOi/h+ays+S4tOeVjOWAvA0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHsNCiAgICAgICAgICAgICAgc3FEc3QgPSBzcVNyYyArIFBBV05fZGVsdGFbaSsxXQ0KICAgICAgICAgICAgICBpZighKHRoaXMuZGlzcGxheUNoZXNzVGVtcFtzcURzdF0gJiA4KSkgew0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLlJBTktfWShzcURzdCkNCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5kZXggPSBzcURzdCAtIDcqcm93IC0yOSAtIDENCiAgICAgICAgICAgICAgICBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgICAgICAgICAgIHN0ZXAucHVzaChkb21UZW1wKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCiAgICAgICAgZGVmYXVsdDogc3RlcC5wdXNoKG51bGwpDQogICAgICB9DQogICAgICByZXR1cm4gc3RlcA0KICAgIH0sDQogICAgLyrmoLnmja7lsYDpnaLor4TkvLDlgLzvvIzov5Tlm57kuIvkuIDmraXopoHotbDnmoTmo4vlrZAqLw0KICAgIG1hY2hpbmVfZ2V0UGNUb0JlTW92ZWQoKSB7DQogICAgICBsZXQgYmxhY2tBbGxQYyA9IFtdLCB3aGl0ZUFsbFBjID0gW10NCiAgICAgIGxldCBkaXNwbGF5Q2hlc3NfZXZhbHVhdGUgPSB0aGlzLmRpc3BsYXlDaGVzc1RlbXAubWFwKGl0ZW0gPT4ge3JldHVybiBpdGVtfSkNCiAgICAgIC8v6K+l5b6q546v5b6X5Yiw5omA5pyJ5Y+v5Lul6YCJ5oup6LWw55qE5qOL5a2Q77yM55qE5LiA57u05Z2Q5qCHDQogICAgICBmb3IobGV0IHNxU3JjIGluIHRoaXMuZGlzcGxheUNoZXNzVGVtcCkgew0KICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FTcmNdICYgMTYpIHsNCiAgICAgICAgICBibGFja0FsbFBjLnB1c2goc3FTcmMpDQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbc3FTcmNdICYgOCkgd2hpdGVBbGxQYy5wdXNoKHNxU3JjKQ0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2coYmxhY2tBbGxQYyk7DQogICAgICAvKuivpeW+queOr+WPr+W+l+WIsOe6ouaWueaji+WtkOS4i+S4gOatpeeahOi1t+eCuemAieaLqeWTquS4qiovDQogICAgICBsZXQgdmFsMiA9IDAsIG1heFZhbCA9IDAsIG1heFZhbDJfc3FTcmNfdywgRHN0RG9tDQogICAgICBmb3IobGV0IGsgaW4gd2hpdGVBbGxQYykgew0KICAgICAgICBsZXQgc3FTcmNfdyA9IHdoaXRlQWxsUGNba10vL+afkOS4que6ouaWueaji+WtkOeahOi1t+eCueS4gOe7tOWdkOaghw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhzcVNyYzIpOw0KICAgICAgICAvKumSiOWvueivpee6ouaji+e6ouaWueW+l+WIsOacgOacieWIqeS6juWug+eahOi1sOazlSovDQogICAgICAgIERzdERvbSA9IHRoaXMubWFjaGluZV9nZXRFeGFjdFN0ZXAodGhpcy5zcVRvRG9tKHNxU3JjX3cpKQ0KICAgICAgICBpZihEc3REb20gPT09IHVuZGVmaW5lZCkgYnJlYWsgLy/lpoLmnpzpgY3ljobliLDnmoTnuqLmlrnmo4vlrZDkuIDnp43otbDms5Xpg73msqHmnInvvIzlsLHot7Pov4cNCiAgICAgICAgLy8gY29uc29sZS5sb2coRHN0RG9tKTsNCiAgICAgICAgLyror6XnuqLmlrnmo4vlrZDmnIDkvbPotbDms5XnmoTnu4jngrnkuIDnu7TlnZDmoIcqLw0KICAgICAgICBsZXQgc3FEc3RfdyA9IHRoaXMuZG9tVG9TcShEc3REb20pDQogICAgICAgIC8vIGNvbnNvbGUubG9nKHNxRHN0Mik7DQogICAgICAgIGxldCB0ZW1wTnVtMiA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF93XS8v5L+d5a2Y5LiA5LiL6JC95a2Q5YmN57uI54K55aSE55qE5qOL5a2QTnVtDQogICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF93XSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcVNyY193XSAvL+WBh+iuvuiQveWtkOS6hg0KICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FTcmNfd10gPSAxLy/ljp/mnaXnmoTotbfngrnlj5jkuLrnqboNCiAgICAgICAgdmFsMiA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpLy/or5XmsYLor4TkvLDlgLwyDQogICAgICAgIC8q56uZ5Zyo57qi5pa555qE6KeS5bqm77yM5oiR6IKv5a6a5Yqb5rGCdmFsMuacgOWkpyovDQogICAgICAgIGlmKHZhbDIgPiBtYXhWYWwpIHsNCiAgICAgICAgICBtYXhWYWwgPSB2YWwyIC8v5pu05paw5pyA5aSn6K+E5Lyw5YC8DQogICAgICAgICAgbWF4VmFsMl9zcVNyY193ID0gc3FTcmNfdy8v5pu05paw6K+E5Lyw5YC85pyA5aSn5pe26YCJ5oup55qE5qOL5a2QDQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgLy8gbWluTWF4VmFsMl9zcVNyYyA9IGJsYWNrQWxsUGNbaV0NCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FTcmNfd10gPSBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FEc3Rfd10vL+aBouWkjeS4rei9rOaji+ebmA0KICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FEc3Rfd10gPSB0ZW1wTnVtMi8v5oGi5aSN5Lit6L2s5qOL55uYDQogICAgICAgIC8vIGJyZWFrDQogICAgICB9DQogICAgICBjb25zb2xlLmxvZygn57qi5pa55pyA5aW955qE6LW354K5OicpOw0KICAgICAgY29uc29sZS5sb2codGhpcy5zcVRvRG9tKG1heFZhbDJfc3FTcmNfdykpOw0KICAgICAgY29uc29sZS5sb2coJ+e6ouaWueacgOWlveeahOe7iOeCuTonKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFjaGluZV9nZXRFeGFjdFN0ZXAodGhpcy5zcVRvRG9tKG1heFZhbDJfc3FTcmNfdykpKTsNCiAgICAgIGNvbnNvbGUubG9nKCflgYforr7or6XnuqLmlrnmo4vlrZDokL3lrZDlkI7nmoTor4TkvLDlgLzvvJonICsgbWF4VmFsKTsNCg0KICAgICAgbGV0IHNxRHN0X2Isc3FTcmNfYi8v6buR5pa55pyA57uI5Yaz5a6a55qE6LW354K544CB57uI54K5DQogICAgICBsZXQgdmFsMSA9IDAsbWluVmFsID0gbWF4VmFsDQogICAgICAvLyBsZXQgbWluTWF4VmFsMl9zcVNyYyA9IGJsYWNrQWxsUGNbMF0vL+S9v21heFZhbDLmnIDlsI/ml7bnmoTmo4vlrZDnmoTotbfngrnkuIDnu7TlnZDmoIco6buR5pa55omn5qOLKQ0KICAgICAgZm9yKGxldCBpIGluIGJsYWNrQWxsUGMpIHsvL+mBjeWOhuaJgOaciem7keajiw0KICAgICAgICBjb25zb2xlLmxvZyhpKTsNCiAgICAgICAgaWYoaSA9PSAzKSBicmVhayAvL+WFiOmBjeWOhuWJjTTpopfmo4vlrZANCiAgICAgICAgbGV0IHNxU3JjID0gYmxhY2tBbGxQY1tpXS8v5p+Q5Liq6buR5pa55qOL5a2Q55qE6LW354K55LiA57u05Z2Q5qCHDQogICAgICAgIGNvbnNvbGUubG9nKCfkuIDpu5Hmlrnmo4vlrZDnmoTotbfngrk6Jyk7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3FUb0RvbShzcVNyYykpOw0KICAgICAgICBjb25zb2xlLmxvZygn5LiA6buR5pa55qOL5a2Q55qE57uI54K577yaJyk7DQogICAgICAgIC8q6LWw5rOV5pWw57uE77yM5YWD57Sg5Li65a+56LGh57G75Z6LKi8NCiAgICAgICAgbGV0IHN0ZXBBcnJheSA9IHRoaXMubWFjaGluZV9nZXRTdGVwcyh0aGlzLnNxVG9Eb20oc3FTcmMpKS5tYXAoZSA9PiB7cmV0dXJuIGV9KQ0KICAgICAgICBmb3IobGV0IGogaW4gc3RlcEFycmF5KSB7Ly/pgY3ljobmn5Dpu5Hmo4vnmoTmiYDmnInotbDms5UNCiAgICAgICAgICAvKuivpem7keaWueaji+WtkOWFtuS4reS4gOS4qui1sOazleeahOe7iOeCue+8jOeahOS4gOe7tOWdkOaghyovDQogICAgICAgICAgbGV0IHNxRHN0ID0gdGhpcy5kb21Ub1NxKHN0ZXBBcnJheVtqXSkNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNxVG9Eb20oc3FEc3QpKTsNCg0KICAgICAgICAgIGxldCBzcURzdF93ID0gdGhpcy5kb21Ub1NxKHRoaXMubWFjaGluZV9nZXRFeGFjdFN0ZXAodGhpcy5zcVRvRG9tKG1heFZhbDJfc3FTcmNfdykpKS8v6YeN5paw5rGC5LiA5LiL5LmL5YmN56Gu5a6a55qE57qi5pa55qOL5a2Q55qE57uI54K5DQogICAgICAgICAgY29uc29sZS5sb2coJ+mHjeaWsOaxguS6hue6ouaji+eahOe7iOeCue+8micpOw0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3FUb0RvbShzcURzdF93KSk7DQogICAgICAgICAgbGV0IHRlbXBOdW0zID0gZGlzcGxheUNoZXNzX2V2YWx1YXRlW21heFZhbDJfc3FTcmNfd10vL+S/neWtmOe6ouaji+iQveWtkOWJjeeahOaji+WtkE51bQ0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF93XSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVttYXhWYWwyX3NxU3JjX3ddLy/lgYforr7nuqLmo4vokL3lrZDkuoYNCiAgICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbbWF4VmFsMl9zcVNyY193XSA9IDEvL+WOn+adpeeahOi1t+eCueWPmOS4uuepug0KDQogICAgICAgICAgbGV0IHRlbXBOdW0gPSBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FEc3RdIC8v5L+d5a2Y5LiA5LiL6buR5pa55qOL5a2Q6JC95a2Q5YmN57uI54K55aSE55qE5qOL5a2QTnVtDQogICAgICAgICAgZGlzcGxheUNoZXNzX2V2YWx1YXRlW3NxRHN0XSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcVNyY10gLy/lgYforr7pu5Hmo4vokL3lrZDkuoYNCiAgICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FTcmNdID0gMS8v5Y6f5p2l55qE6LW354K55Y+Y5Li656m6DQoNCg0KICAgICAgICAgIHZhbDEgPSB0aGlzLm1hY2hpbmVfZXZhbHVhdGUoZGlzcGxheUNoZXNzX2V2YWx1YXRlKS8v6buR44CB57qi5pa56YO95YGH6K6+6LWw5a6M5ZCO77yM5rGC6K+E5Lyw5YC8MQ0KICAgICAgICAgIGNvbnNvbGUubG9nKCflgYforr7pu5Hmo4vokL3lrZDlkI7nmoTor4TkvLDlgLzvvJonICsgdmFsMSk7DQogICAgICAgICAgLyrnq5nlnKjpu5HmlrnnmoTop5LluqbvvIzmiJHogq/lrprlipvmsYJ2YWwx5pyA5bCPLG1heFZhbDLmnIDlsI8qLw0KICAgICAgICAgIGlmKHZhbDEgPCBtaW5WYWwpIHsNCiAgICAgICAgICAgIG1pblZhbCA9IHZhbDENCiAgICAgICAgICAgIHNxRHN0X2IgPSBzcURzdA0KICAgICAgICAgICAgc3FTcmNfYiA9IHNxU3JjDQogICAgICAgICAgICBjb25zb2xlLmxvZygn5pyA5bCP6K+E5Lyw5YC8JyArIG1pblZhbCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIC8vIGVsc2UgY29uc29sZS5sb2coJ2VycicpOw0KICAgICAgICAgIC8q6buR5pa56LWw5qOL56C05Z2P55qEKi8NCiAgICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FTcmNdID0gZGlzcGxheUNoZXNzX2V2YWx1YXRlW3NxRHN0XS8v5oGi5aSN5Lit6L2s5qOL55uYDQogICAgICAgICAgZGlzcGxheUNoZXNzX2V2YWx1YXRlW3NxRHN0XSA9IHRlbXBOdW0vL+aBouWkjeS4rei9rOaji+ebmA0KICAgICAgICAgIC8q57qi5pa56LWw5qOL56C05Z2P55qEKi8NCiAgICAgICAgICBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbbWF4VmFsMl9zcVNyY193XSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF93XQ0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF93XSA9IHRlbXBOdW0zDQogICAgICAgICAgLy8gYnJlYWsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIGJyZWFrDQogICAgICB9DQogICAgICAvLyBsZXQgcmFuZG9tSW5kZXgNCiAgICAgIC8vIGxldCByYW5kb21TcmNEb20vL+i1t+eCuSznu4jngrkNCiAgICAgIC8vIHdoaWxlKDEpIHsNCiAgICAgIC8vICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBibGFja0FsbFBjLmxlbmd0aCkvL+maj+acuuaVsOWcqOaVsOe7hOS4reeahOe0ouW8leWAvA0KICAgICAgLy8gICAvLyBsZXQgcmFuZG9tU3EgPSBibGFja0FsbFBjW3JhbmRvbUluZGV4XQ0KICAgICAgLy8gICByYW5kb21TcmNEb20gPSB0aGlzLnNxVG9Eb20oYmxhY2tBbGxQY1tyYW5kb21JbmRleF0pDQogICAgICAvLyAgIGlmKHRoaXMubWFjaGluZV9nZXRTdGVwcyhyYW5kb21TcmNEb20pLmxlbmd0aCA+IDApDQogICAgICAvLyAgICAgLy/lvZPpgInkuK3nmoTmo4vlrZDoh7PlsJHmnInkuIDnp43otbDms5Xml7bvvIzmiY3pgIDlh7rlvqrnjq/vvIzlkKbliJnkuIDnm7Tlvqrnjq/nm7TliLDmib7liLDkuIDmo4vlrZDlhbbotbDms5XmnInoh7PlsJHkuIDnp40NCiAgICAgIC8vICAgICBicmVhaw0KICAgICAgLy8gfQ0KICAgICAgY29uc29sZS5sb2coJ+m7keaji+acgOe7iOeahOi1t+eCuTonKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3FUb0RvbShzcVNyY19iKSk7DQogICAgICBjb25zb2xlLmxvZygn6buR5qOL5pyA57uI55qE57uI54K5OicpOw0KICAgICAgY29uc29sZS5sb2codGhpcy5zcVRvRG9tKHNxRHN0X2IpKTsNCiAgICAgIC8vIHJldHVybiByYW5kb21TcmNEb20NCiAgICAgIHJldHVybiBbdGhpcy5zcVRvRG9tKHNxU3JjX2IpLHRoaXMuc3FUb0RvbShzcURzdF9iKV0NCiAgICB9LA0KICAgIC8q5qC55o2u6L6T5YWl55qE6LW354K5ZG9t5a+56LGh77yM6L+U5Zue5L2/6K+E5Lyw5YC85pyA5bCP55qE57uI54K555qEZG9t5a+56LGhKi8NCiAgICBtYWNoaW5lX2dldEV4YWN0U3RlcChzcmNEb20pIHsNCiAgICAgIGxldCBhbGxXYXlzID0gdGhpcy5tYWNoaW5lX2dldFN0ZXBzKHNyY0RvbSkgLy/or6Xmo4vlrZDnmoTmiYDmnInotbDms5Us5pWw57uE5YWD57Sg5pivZG9t5a+56LGhDQogICAgICAvKuaji+ebmOS4rei9rOermSovDQogICAgICBsZXQgZGlzcGxheUNoZXNzX2V2YWx1YXRlID0gdGhpcy5kaXNwbGF5Q2hlc3NUZW1wLm1hcCgoaXRlbSkgPT4gew0KICAgICAgICAvL+eUqOS6juivhOS8sOWIhuaVsOeahOS4rei9rOaji+ebmCjkuI3og73nm7TmjqXlr7nmlbDnu4TotYvlgLzvvIzlupTlr7nlhYPntKDotYvlgLwpDQogICAgICAgIHJldHVybiBpdGVtDQogICAgICB9KQ0KICAgICAgaWYoIXRoaXMucGxheWVyU2lkZSkgew0KICAgICAgICAvL+WmguaenOaYr+m7keaWueaJp+ajiw0KICAgICAgICBsZXQgbWF4VmFsID0gdGhpcy5tYWNoaW5lX2V2YWx1YXRlKHRoaXMuZGlzcGxheUNoZXNzVGVtcCkNCiAgICAgICAgbGV0IHJhbmRvbURzdEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWxsV2F5cy5sZW5ndGgpDQogICAgICAgIGxldCBkc3REb20gPSBhbGxXYXlzW3JhbmRvbURzdEluZGV4XS8v5Yid5aeL5bCx6LWL5LiA5Liq6ZqP5py65YC8DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHNyY0RvbSk7DQogICAgICAgIGZvcihsZXQgaSBpbiBhbGxXYXlzKSB7DQogICAgICAgICAgbGV0IHNyY051bSA9IGRpc3BsYXlDaGVzc19ldmFsdWF0ZVt0aGlzLmRvbVRvU3Eoc3JjRG9tKV0vL+i1t+eCueaji+WtkOS7o+ihqOeahE51beWAvA0KICAgICAgICAgIGxldCBzcURzdCA9IHRoaXMuZG9tVG9TcShhbGxXYXlzW2ldKS8v57uI54K55qOL5a2Q55qE5LiA57u05Z2Q5qCHDQogICAgICAgICAgbGV0IHRlbXBOdW0gPSBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbc3FEc3RdLy/kv53lrZjkuIDkuIvokL3mo4vliY3nu4jngrnlpITnmoTmo4vlrZBOdW0NCiAgICAgICAgICAvKuWBh+iuvue7iOeCueiQveS4i+ivpeaji++8jOWNs+e7iOeCueWkhOeahE51beWAvOaUueWPmCovDQogICAgICAgICAgZGlzcGxheUNoZXNzX2V2YWx1YXRlW3NxRHN0XSA9IHNyY051bQ0KICAgICAgICAgIGxldCBjdXJyZW50VmFsID0gdGhpcy5tYWNoaW5lX2V2YWx1YXRlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSkNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn6K+E5Lyw5YC877yaJysgY3VycmVudFZhbCk7DQogICAgICAgICAgaWYodGhpcy5tYWNoaW5lX2V2YWx1YXRlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSkgPiBtYXhWYWwpIHsvL+WmguaenOivhOS8sOWAvOavlOWOn+adpeWkpw0KICAgICAgICAgICAgbWF4VmFsID0gdGhpcy5tYWNoaW5lX2V2YWx1YXRlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSkvL+abtOaWsOacgOWkp+WAvA0KICAgICAgICAgICAgZHN0RG9tID0gdGhpcy5zcVRvRG9tKHNxRHN0KS8v5pu05paw57uI54K5DQogICAgICAgICAgfQ0KICAgICAgICAgIC8vIGVsc2UgY29uc29sZS5sb2coJ+atpOasoeW+queOr+ayoeacieWkp+eahCcpOw0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVt0aGlzLmRvbVRvU3Eoc3JjRG9tKV0gPSBzcmNOdW0vL+aBouWkjeS4rei9rOaji+ebmA0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF0gPSB0ZW1wTnVtLy/mgaLlpI3kuK3ovazmo4vnm5gNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZHN0RG9tDQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgICAgbGV0IG1pblZhbCA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZSh0aGlzLmRpc3BsYXlDaGVzc1RlbXApDQogICAgICAgIGxldCByYW5kb21Ec3RJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsbFdheXMubGVuZ3RoKQ0KICAgICAgICBsZXQgZHN0RG9tID0gYWxsV2F5c1tyYW5kb21Ec3RJbmRleF0vL+WIneWni+Wwsei1i+S4gOS4qumaj+acuuWAvA0KICAgICAgICAvLyBjb25zb2xlLmxvZyhzcmNEb20pOw0KICAgICAgICBmb3IobGV0IGkgaW4gYWxsV2F5cykgew0KICAgICAgICAgIGxldCBzcmNOdW0gPSBkaXNwbGF5Q2hlc3NfZXZhbHVhdGVbdGhpcy5kb21Ub1NxKHNyY0RvbSldLy/otbfngrnmo4vlrZDku6PooajnmoROdW3lgLwNCiAgICAgICAgICBsZXQgc3FEc3QgPSB0aGlzLmRvbVRvU3EoYWxsV2F5c1tpXSkvL+e7iOeCueaji+WtkOeahOS4gOe7tOWdkOaghw0KICAgICAgICAgIGxldCB0ZW1wTnVtID0gZGlzcGxheUNoZXNzX2V2YWx1YXRlW3NxRHN0XS8v5L+d5a2Y5LiA5LiL6JC95qOL5YmN57uI54K55aSE55qE5qOL5a2QTnVtDQogICAgICAgICAgLyrlgYforr7nu4jngrnokL3kuIvor6Xmo4vvvIzljbPnu4jngrnlpITnmoROdW3lgLzmlLnlj5gqLw0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF0gPSBzcmNOdW0NCiAgICAgICAgICBsZXQgY3VycmVudFZhbCA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZShkaXNwbGF5Q2hlc3NfZXZhbHVhdGUpDQogICAgICAgICAgaWYodGhpcy5tYWNoaW5lX2V2YWx1YXRlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSkgPCBtaW5WYWwpIHsvL+WmguaenOivhOS8sOWAvOavlOWOn+adpeWwjw0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLScpOw0KICAgICAgICAgICAgbWluVmFsID0gdGhpcy5tYWNoaW5lX2V2YWx1YXRlKGRpc3BsYXlDaGVzc19ldmFsdWF0ZSkvL+abtOaWsOacgOWwj+WAvA0KICAgICAgICAgICAgZHN0RG9tID0gdGhpcy5zcVRvRG9tKHNxRHN0KS8v5pu05paw57uI54K5DQogICAgICAgICAgfQ0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVt0aGlzLmRvbVRvU3Eoc3JjRG9tKV0gPSBzcmNOdW0vL+aBouWkjeS4rei9rOaji+ebmA0KICAgICAgICAgIGRpc3BsYXlDaGVzc19ldmFsdWF0ZVtzcURzdF0gPSB0ZW1wTnVtLy/mgaLlpI3kuK3ovazmo4vnm5gNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZHN0RG9tDQogICAgICB9DQogICAgICAvLyBjb25zb2xlLmxvZyhkc3REb20pOw0KICAgICAgLy8gY29uc29sZS5sb2coYWxsV2F5cyk7DQogICAgICAvLyBjb25zb2xlLmxvZygn5b2T5YmN6K+E5Lyw5YC8OicgKyB0aGlzLm1hY2hpbmVfZXZhbHVhdGUodGhpcy5kaXNwbGF5Q2hlc3NUZW1wKSk7DQogICAgfSwNCiAgICAvKuagueaNrui+k+WFpeeahOaVtOS4quaji+ebmOaVsOe7hO+8jOi/lOWbnue6ouaWueWIhuaVsC3pu5HmlrnliIbmlbDnmoTlgLzvvIzorrDkvZzjgIror4TkvLDlgLzjgIsqLw0KICAgIG1hY2hpbmVfZXZhbHVhdGUoYXJyYXkpIHsNCiAgICAgIGxldCB3VmFsID0gdGhpcy5tYWNoaW5lX2dldFZhbChhcnJheSx0cnVlKSwgYlZhbCA9IHRoaXMubWFjaGluZV9nZXRWYWwoYXJyYXksZmFsc2UpDQogICAgICByZXR1cm4gd1ZhbCAtIGJWYWwNCiAgICB9LA0KICAgIC8q5qC55o2u6L6T5YWl55qE5pW05Liq5qOL55uY5pWw57uE77yM6L+U5ZueKi8NCiAgICBtYWNoaW5lX2dldFZhbChhcnJheSxpc1doaXRlKSB7DQogICAgICBsZXQgdmFsID0gMA0KICAgICAgZm9yKGxldCBpIGluIGFycmF5KSB7DQogICAgICAgIGlmKGlzV2hpdGUpIHsvL+iLpeaYr+e6ouaWuQ0KICAgICAgICAgIHN3aXRjaCAoYXJyYXlbaV0pIHsNCiAgICAgICAgICAgIGNhc2UgODogdmFsICs9IDEwMDA7YnJlYWsNCiAgICAgICAgICAgIGNhc2UgOTogdmFsICs9IDIwO2JyZWFrDQogICAgICAgICAgICBjYXNlIDEwOiB2YWwgKz0gMjA7YnJlYWsNCiAgICAgICAgICAgIGNhc2UgMTE6IHZhbCArPSA0NTticmVhaw0KICAgICAgICAgICAgY2FzZSAxMjogdmFsICs9IDkwO2JyZWFrDQogICAgICAgICAgICBjYXNlIDEzOiB2YWwgKz0gNDA7YnJlYWsNCiAgICAgICAgICAgIGNhc2UgMTQ6IHZhbCArPSAxMDticmVhaw0KICAgICAgICAgICAgZGVmYXVsdDogdmFsICs9IDANCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgc3dpdGNoIChhcnJheVtpXSkgew0KICAgICAgICAgICAgY2FzZSAxNjogdmFsICs9IDEwMDA7YnJlYWsNCiAgICAgICAgICAgIGNhc2UgMTc6IHZhbCArPSAyMDticmVhaw0KICAgICAgICAgICAgY2FzZSAxODogdmFsICs9IDIwO2JyZWFrDQogICAgICAgICAgICBjYXNlIDE5OiB2YWwgKz0gNDU7YnJlYWsNCiAgICAgICAgICAgIGNhc2UgMjA6IHZhbCArPSA5MDticmVhaw0KICAgICAgICAgICAgY2FzZSAyMTogdmFsICs9IDQwO2JyZWFrDQogICAgICAgICAgICBjYXNlIDIyOiB2YWwgKz0gMTA7YnJlYWsNCiAgICAgICAgICAgIGRlZmF1bHQ6IHZhbCArPSAwDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdmFsDQogICAgfSwNCiAgICAvKuivpeWHveaVsOS8muS9v+WxgOmdoumHjeaWsOe7mOWItu+8jOi/lOWbnjEsMiwzLDANCiAgICAqIDHvvJrooajnpLrop6blj5HkuoblhbXnur/liLfmlrANCiAgICAqIDLvvJrmm7/niLbku47lhpsNCiAgICAqIDPvvJrojYnmnKjnmoblhbUqLw0KICAgIG1hY2hpbmVfcGFzc2l2ZVNraWxscygpIHsNCiAgICAgIC8q5YW157q/5Yi35pawKi8NCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpID0+IHsNCiAgICAgICAgLyrlhbXnur/liLfmlrAqLw0KICAgICAgICBsZXQgYWR2aXNvclN1bSA9IDAsIGlzRWF0ZW4gPSBmYWxzZQ0KICAgICAgICBsZXQgY3VycmVudFZhbCA9IHRoaXMubWFjaGluZV9ldmFsdWF0ZSh0aGlzLmRpc3BsYXlDaGVzc1RlbXApLCBpc1NraWxsMyA9IGZhbHNlDQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWFjaGluZV9nZXRWYWwodGhpcy5kaXNwbGF5Q2hlc3NUZW1wLCBmYWxzZSkpOw0KICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5kaXNwbGF5Q2hlc3NUZW1wKSB7DQogICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldID09PSAyMikgew0KICAgICAgICAgICAgYWR2aXNvclN1bSArKw0KICAgICAgICAgIH0NCiAgICAgICAgICAvKuabv+eItuS7juWGmyovDQogICAgICAgICAgaWYodGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldICYgOCAmJiB0aGlzLmRpc3BsYXlDaGVzc19PbGRbaV0gJiAxNikgew0KICAgICAgICAgICAgLy/oi6Xmn5DlpITkuIrkuIDmraXkuLrpu5Hmlrnmo4vlrZDvvIzkuIvkuIDmraXkuLrnuqLmlrnmo4vlrZDvvIzor7TmmI7pu5Hmlrnmo4vlrZDooqvlkIPmjokNCiAgICAgICAgICAgIGlmKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSArIDAuMykpIHsgLy/pmYTliqDmnaHku7bvvJrlpKfmpoIzMCXlh6Dnjofop6blj5Hmm7/niLbku47lhpsNCiAgICAgICAgICAgICAgaXNFYXRlbiA9IHRydWUNCiAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldID0gdGhpcy5kaXNwbGF5Q2hlc3NfT2xkW2ldDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIC8q6I2J5pyo55qG5YW1Ki8NCiAgICAgICAgICBpZihjdXJyZW50VmFsID4gMTgwIHx8IHRoaXMubWFjaGluZV9nZXRWYWwodGhpcy5kaXNwbGF5Q2hlc3NUZW1wLGZhbHNlKSA8IDEyMjApIHsNCiAgICAgICAgICAgIC8v6buR5pa55oC75Lu35YC877ycMTIyMO+8jOWkp+e6puaNn+WkseS6huS4pOi9puS4gOeCrg0KICAgICAgICAgICAgaXNTa2lsbDMgPSB0cnVlDQogICAgICAgICAgICBpZih0aGlzLmRpc3BsYXlDaGVzc1RlbXBbaV0gPT09IDEpIHsNCiAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2ldID0gMjINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoYWR2aXNvclN1bSA8IDMpIHsNCiAgICAgICAgICBmb3IobGV0IGkgPSAwLGogPSAwO2kgPDU7aSsrLGorPTIpIHsNCiAgICAgICAgICAgIGxldCBkb21TcSA9IHRoaXMuZG9tVG9TcSgkKGAjcG9zJHsyNyArIGp9YCkpDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKGAjcG9zJHsyNyArIGp9YCkpOw0KICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q2hlc3NUZW1wW2RvbVNxXSA9IDIyDQogICAgICAgICAgfQ0KICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNza2lsbDEnKS5wbGF5KCkNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuZHJhd1dpdGhTcSgpDQogICAgICAgICAgICAvLyBsZXQgY2hlc3NJbmZvID0gbnVsbA0KICAgICAgICAgICAgdGhpcy5jaGVzczFDbGljayhudWxsKQ0KICAgICAgICAgICAgcmVzb2x2ZSgxKQ0KICAgICAgICAgIH0sMzAwMCkNCiAgICAgICAgfQ0KICAgICAgICAvKuabv+eItuS7juWGmyovDQogICAgICAgIGVsc2UgaWYoaXNFYXRlbikgew0KICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNza2lsbDInKS5wbGF5KCkNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuZHJhd1dpdGhTcSgpDQogICAgICAgICAgICAvLyBsZXQgY2hlc3NJbmZvID0gbnVsbA0KICAgICAgICAgICAgdGhpcy5jaGVzczFDbGljayhudWxsKQ0KICAgICAgICAgICAgcmVzb2x2ZSgyKQ0KICAgICAgICAgIH0sMzAwMCkNCiAgICAgICAgfQ0KICAgICAgICAvKuiNieacqOeahuWFtSovDQogICAgICAgIGVsc2UgaWYoaXNTa2lsbDMpIHsNCiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2tpbGwzJykucGxheSgpDQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmRyYXdXaXRoU3EoKQ0KICAgICAgICAgICAgLy8gbGV0IGNoZXNzSW5mbyA9IG51bGwNCiAgICAgICAgICAgIHRoaXMuY2hlc3MxQ2xpY2sobnVsbCkNCiAgICAgICAgICAgIHJlc29sdmUoMykNCiAgICAgICAgICB9LDMwMDApDQogICAgICAgIH0NCiAgICAgICAgZWxzZSByZXNvbHZlKDApDQogICAgICB9KQ0KICAgIH0sDQogICAgLyrmoLnmja7ovpPlhaXnmoRzce+8iOS4gOe7tOWdkOagh++8ie+8jOi/lOWbnuaji+ebmOS4reivpeaji+WtkOeahGRvbeWvueixoSovDQogICAgc3FUb0RvbShzcSkgew0KICAgICAgbGV0IHJvdyA9IHRoaXMuUkFOS19ZKHNxKQ0KICAgICAgbGV0IGltZ0luZGV4ID0gc3EgLSA3KnJvdyAtMjkgLSAxDQogICAgICAvLyBsZXQgZG9tVGVtcCA9ICAkKCcjcG9zJyArIGltZ0luZGV4KQ0KICAgICAgcmV0dXJuICQoJyNwb3MnICsgaW1nSW5kZXgpDQogICAgfSwNCiAgICAvKuagueaNrui+k+WFpeeahGRvbeWvueixoe+8jOi/lOWbnnNx77yI5LiA57u05Z2Q5qCH77yJKi8NCiAgICBkb21Ub1NxKGRvbSkgew0KICAgICAgbGV0IGltZ0luZGV4ID0gcGFyc2VJbnQoZG9tLmF0dHIoJ2lkJykuc2xpY2UoMykpICsgMQ0KICAgICAgcmV0dXJuIHRoaXMuaW1nSW5kZXhUb1NxKGltZ0luZGV4KQ0KICAgIH0sDQogICAgc3VyZUlucHV0KCkgew0KICAgICAgbGV0IG5ld0ZFTiA9IHRoaXMudXNlcklucHV0DQogICAgICB0aGlzLmRyYXdXaXRoRkVOKG5ld0ZFTikNCiAgICB9LA0KICAgIHRlc3QyKCkgew0KICAgICAgbGV0IG5ld0ZFTiA9ICcxbjFha2FibnIvcjgvOS85LzkvOS9QMVAxUDFQMVAvMUM1QzEvOS9STkJBS0FCTlInDQogICAgICB0aGlzLmRyYXdXaXRoRkVOKG5ld0ZFTikNCiAgICB9LA0KICAgIGJ0bkNsaWNrMigpIHsNCiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdWRpb0J4IGxpID4gYXVkaW8nKS5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgIGUucGxheSgpDQogICAgICB9KQ0KICAgIH0sDQogICAgY2hlc3MxQ2xpY2soaW5mbykgew0KICAgICAgLy8gY29uc29sZS5sb2coaW5mbyk7DQogICAgICB0aGlzLiRlbWl0KCdzaG93JywgaW5mbykNCiAgICB9DQogIH0sDQp9DQo="},{"version":3,"sources":["Chess1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Chess1.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"chessBoard\">\r\n      <div class=\"imgBox myImgBox\" v-for=\"(item,index) in 90\">\r\n        <img :src=\"$withBase(`/img/chess/K_.png`)\"\r\n             :id=\"`pos${index}`\" alt=\"\"\r\n             :key=\"index\">\r\n      </div>\r\n      <div class=\"myFontBox\">\r\n        <div class=\"css2ebd673af7243b7\"></div>\r\n        <div class=\"css2ebd673af7243b7\"></div>\r\n      </div>\r\n    </div>\r\n    <ul class=\"audioBx\" style=\"display: none\">\r\n      <li><audio id=\"skill1\" :src=\"$withBase(`/music/.mp3`)\"></audio></li>\r\n      <li><audio id=\"skill2\" :src=\"$withBase(`/music/.mp3`)\"></audio></li>\r\n      <li><audio id=\"skill3\" :src=\"$withBase(`/music/.mp3`)\"></audio></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\n\r\nexport default {\r\n  name: \"Chess\",\r\n  props: {\r\n    displayChess: {\r\n      type: Array,\r\n      default: [\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//3\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//12\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n    },\r\n    playerSide: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isSelectMachine: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      test: [],\r\n      IN_BOARD_: [\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n      IN_FORT_: [//\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n      displayChessTemp: [\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//3\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,\r\n        0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,//12\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n      ],\r\n      FEN: 'rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR',\r\n      FENArray: [],\r\n      userInputFEN: '',\r\n      userInput: '',\r\n      sqSelected: 0,//\r\n      currentChess: '',//,\r\n      displayChess_Old: []\r\n    }\r\n  },\r\n  computed: {\r\n    imgDomArr() {\r\n      return document.querySelectorAll('div.imgBox img')\r\n    },\r\n  },\r\n  watch: {\r\n    displayChess: {\r\n      handler(val, oldVal) {\r\n        this.displayChess_Old = oldVal.map((item) => {return item})\r\n        this.displayChessTemp = val.map(item => {return item})\r\n        let start = this.COORD_XY(3, 3) //51,\r\n        let end = this.COORD_XY(11, 12) //203\r\n        /*tag\r\n        **rowi,col\r\n        **imgIndexi*/\r\n        let tag = '', row = 0, imgIndex = 0, col = 0;\r\n        for (let i = start; i <= end; i++) {\r\n          if (this.IN_BOARD(i)) {\r\n            switch (val[i]) {\r\n              case 8:\r\n                tag = 'K';\r\n                break;\r\n              case 9:\r\n                tag = 'A';\r\n                break;\r\n              case 10:\r\n                tag = 'B';\r\n                break;\r\n              case 11:\r\n                tag = 'N';\r\n                break;\r\n              case 12:\r\n                tag = 'R';\r\n                break;\r\n              case 13:\r\n                tag = 'C';\r\n                break;\r\n              case 14:\r\n                tag = 'P';\r\n                break;\r\n\r\n              case 16:\r\n                tag = 'k_';\r\n                break;\r\n              case 17:\r\n                tag = 'a_';\r\n                break;\r\n              case 18:\r\n                tag = 'b_';\r\n                break;\r\n              case 19:\r\n                tag = 'n_';\r\n                break;\r\n              case 20:\r\n                tag = 'r_';\r\n                break;\r\n              case 21:\r\n                tag = 'c_';\r\n                break;\r\n              case 22:\r\n                tag = 'p_';\r\n                break;\r\n              case 1:\r\n                tag = 'UNexist';\r\n                break;\r\n              case 0:\r\n                tag = 'UNexist'\r\n                break;\r\n              default:\r\n                tag = 'UNexist'\r\n            }\r\n            row = this.RANK_Y(i)\r\n            col = this.FILE_X(i)\r\n            imgIndex = i - 7 * row - 30\r\n            let imgSrcStr = `/img/chess/${tag}.png`;\r\n            this.imgDomArr[imgIndex].src = imgSrcStr\r\n            /**/\r\n            tag = '';\r\n            row = 0;\r\n            imgIndex = 0\r\n          }\r\n        }\r\n        // console.log(this.imgDomArr[0].src);\r\n      },\r\n      // deep: true\r\n    },\r\n    async playerSide(newVal,oldVal) {\r\n      if(!newVal && this.isSelectMachine) {//\r\n        // let skill = await this.machine_passiveSkills()\r\n        let skill = 0\r\n        if(skill === 1) {\r\n          this.$message.warning('')\r\n        }\r\n        else if(skill === 2) {\r\n          this.$message.warning('')\r\n        }\r\n        else if(skill === 3) {\r\n          this.$message.warning('')\r\n        }\r\n        else if(skill === 0) {\r\n          // let dom1 = $('#pos8')\r\n          let domArr = this.machine_getPcToBeMoved().map(e => {return e})\r\n          let dom1 = domArr[0]\r\n          // let dom2 = this.machine_getSteps(dom1)[0]\r\n          // let dom2 = this.machine_getExactStep(dom1)\r\n          let dom2 = domArr[1]\r\n          this.$message.success('' + this.ImgNameToChessName(dom1.attr('src').slice(11,12)))\r\n\r\n          this.machineMove(dom1,dom2)\r\n          // console.log(dom1);\r\n          // console.log(dom2);\r\n          // console.log(this.machine_getSteps(dom1));\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // const css = document.createElement('link');\r\n    // css.rel = 'stylesheet';\r\n    // css.href = 'https://cdn.repository.webfont.com/webfonts/nomal/148407/46489/625407aaf629d81300ac19b3.css';\r\n    // document.body.appendChild(css);\r\n\r\n    this.initBoard()\r\n    /*img*/\r\n    document.querySelectorAll('div.imgBox img').forEach((e, index) => {\r\n      e.addEventListener('mousedown', (e, index) => {\r\n        let fileName = e.target.src.slice(32, 33)\r\n        // console.log(fileName);\r\n        let alertStr = this.ImgNameToChessName(fileName)\r\n\r\n        let imgIndex = parseInt(e.target.id.slice(3)) + 1\r\n        // console.log(imgIndex);\r\n        // console.log(this.displayChessTemp);\r\n        let chessInfo = {//\r\n          displayChess: this.displayChessTemp,\r\n          fileName: fileName,\r\n          imgIndex: imgIndex,\r\n          sqSelected: this.imgIndexToSq(imgIndex)\r\n        }\r\n\r\n        this.chess1Click(chessInfo)\r\n\r\n        /*currentChess*/\r\n        // this.currentChess = fileName\r\n        // if(this.sqSelected) {\r\n        //   if(this.currentChess != 'U') {\r\n        //     console.log('');\r\n        //   }\r\n        // }\r\n      })\r\n    })\r\n\r\n  },\r\n  methods: {\r\n    /*true*/\r\n    IN_BOARD(sq) {\r\n      return this.IN_BOARD_[sq] !== 0;\r\n    },\r\n    /*,true*/\r\n    IN_FORT(sq) {\r\n      return this.IN_FORT_[sq] !== 0;\r\n    },\r\n    /* (x,y)(0,0)*/\r\n    COORD_XY(x, y) {//  (x,y)(0,0)\r\n      return x + (y << 4);\r\n    },\r\n    /* 0*/\r\n    RANK_Y(sq) {//  0\r\n      return sq >> 4;\r\n    },\r\n    /**/\r\n    FILE_X(sq) {// \r\n      return sq & 15;\r\n    },\r\n    /**/\r\n    initBoard() {\r\n      this.displayChessTemp = []//\r\n      this.FENArray = this.FEN.split('') //FEN\r\n\r\n      this.FENtoBoard(this.FENArray)//FEN(array),this.displayChessTemp\r\n      for (let i = 0; i < 256; i++) {//null\r\n        if (!this.IN_BOARD(i)) {\r\n          this.displayChessTemp[i] = null\r\n        }\r\n      }\r\n      let start = this.COORD_XY(3, 3) //51,\r\n      let end = this.COORD_XY(11, 12) //203\r\n      // let imgDomArr = document.querySelectorAll('div.imgBox img')\r\n      /*tag\r\n      **rowi,col\r\n      **imgIndexi*/\r\n      let tag = '', row = 0, imgIndex = 0, col = 0;\r\n      for (let i = start; i <= end; i++) {\r\n        if (this.IN_BOARD(i)) {\r\n          switch (this.displayChessTemp[i]) {\r\n            case 8:\r\n              tag = 'K';\r\n              break;\r\n            case 9:\r\n              tag = 'A';\r\n              break;\r\n            case 10:\r\n              tag = 'B';\r\n              break;\r\n            case 11:\r\n              tag = 'N';\r\n              break;\r\n            case 12:\r\n              tag = 'R';\r\n              break;\r\n            case 13:\r\n              tag = 'C';\r\n              break;\r\n            case 14:\r\n              tag = 'P';\r\n              break;\r\n\r\n            case 16:\r\n              tag = 'k_';\r\n              break;\r\n            case 17:\r\n              tag = 'a_';\r\n              break;\r\n            case 18:\r\n              tag = 'b_';\r\n              break;\r\n            case 19:\r\n              tag = 'n_';\r\n              break;\r\n            case 20:\r\n              tag = 'r_';\r\n              break;\r\n            case 21:\r\n              tag = 'c_';\r\n              break;\r\n            case 22:\r\n              tag = 'p_';\r\n              break;\r\n            case 1:\r\n              tag = 'UNexist';\r\n              break;\r\n            case 0:\r\n              tag = 'UNexist'\r\n              break;\r\n            default:\r\n              tag = 'UNexist'\r\n          }\r\n          row = this.RANK_Y(i)\r\n          col = this.FILE_X(i)\r\n          imgIndex = i - 7 * row - 30\r\n          let imgSrcStr = `/img/chess/${tag}.png`;\r\n          this.imgDomArr[imgIndex].src = imgSrcStr\r\n          /**/\r\n          tag = '';\r\n          row = 0;\r\n          imgIndex = 0\r\n        } else continue\r\n      }\r\n\r\n    },\r\n    /*FEN(array),this.displayChessTemp*/\r\n    FENtoBoard(FENArray) {\r\n      let x = 3, y = 3\r\n      for (let i in FENArray) {\r\n        let ch = FENArray[i]\r\n        if (ch === '/') {//\r\n          y++\r\n        }\r\n        if (y > 12) break\r\n        if (x > 11) x = 3\r\n        else if (ch >= '1' && ch <= '9') {//\r\n          x += parseInt(ch)\r\n        } else if ((ch >= 'a' && ch <= 'z')) {//\r\n          let index = x + (y << 4)\r\n          this.displayChessTemp[index] = this.FENCharToNum(ch)\r\n          x++\r\n        } else if (ch >= 'A' && ch <= 'Z') {\r\n          let index = x + (y << 4)\r\n          this.displayChessTemp[index] = this.FENCharToNum(ch)\r\n          x++\r\n        } else console.log('err');\r\n      }\r\n    },\r\n    /**/\r\n    FENCharToNum(item) {//\r\n      switch (item) {\r\n        case 'K' : {\r\n          return 8;\r\n        }\r\n        case 'A':\r\n          return 9;\r\n        case 'B':\r\n          return 10;\r\n        case 'N':\r\n          return 11;\r\n        case 'R':\r\n          return 12;\r\n        case 'C':\r\n          return 13;\r\n        case 'P':\r\n          return 14;\r\n\r\n        case 'k':\r\n          return 16;\r\n        case 'a':\r\n          return 17;\r\n        case 'b':\r\n          return 18;\r\n        case 'n':\r\n          return 19;\r\n        case 'r':\r\n          return 20;\r\n        case 'c':\r\n          return 21;\r\n        case 'p':\r\n          return 22;\r\n        default:\r\n          return 'err'\r\n      }\r\n    },\r\n    /*()*/\r\n    FENCharToImg(ch) {\r\n      switch (ch) {\r\n        case 'K' : {\r\n          return 'K';\r\n        }\r\n        case 'A':\r\n          return 'A';\r\n        case 'B':\r\n          return 'B';\r\n        case 'N':\r\n          return 'N';\r\n        case 'R':\r\n          return 'R';\r\n        case 'C':\r\n          return 'C';\r\n        case 'P':\r\n          return 'P';\r\n\r\n        case 'k':\r\n          return 'k_';\r\n        case 'a':\r\n          return 'a_';\r\n        case 'b':\r\n          return 'b_';\r\n        case 'n':\r\n          return 'n_';\r\n        case 'r':\r\n          return 'r_';\r\n        case 'c':\r\n          return 'c_';\r\n        case 'p':\r\n          return 'p_';\r\n        default:\r\n          return 'err'\r\n      }\r\n    },\r\n    /**/\r\n    ImgNameToChessName(imgName) {\r\n      switch (imgName) {\r\n        case 'K' : {\r\n          return '_';\r\n        }\r\n        case 'A':\r\n          return '_';\r\n        case 'B':\r\n          return '_';\r\n        case 'N':\r\n          return '_';\r\n        case 'R':\r\n          return '_';\r\n        case 'C':\r\n          return '_';\r\n        case 'P':\r\n          return '_';\r\n\r\n        case 'k':\r\n          return '_';\r\n        case 'a':\r\n          return '_';\r\n        case 'b':\r\n          return '_';\r\n        case 'n':\r\n          return '_';\r\n        case 'r':\r\n          return '_';\r\n        case 'c':\r\n          return '_';\r\n        case 'p':\r\n          return '_';\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n    /*FEN*/\r\n    drawWithFEN(FEN) {\r\n      this.FENArray = []\r\n      this.FENArray = FEN.split('')\r\n      this.displayChessTemp = []\r\n      this.FENtoBoard(this.FENArray)\r\n      // console.log(this.displayChessTemp);\r\n      for (let i = 0; i < 256; i++) {//null\r\n        if (!this.IN_BOARD(i)) {\r\n          this.displayChessTemp[i] = null\r\n        }\r\n      }\r\n      let start = this.COORD_XY(3, 3) //51,\r\n      let end = this.COORD_XY(11, 12) //203\r\n      // this.imgDomArr = document.querySelectorAll('div.imgBox img')\r\n      /*tag\r\n      **rowi,col\r\n      **imgIndexi*/\r\n      let tag = '', row = 0, imgIndex = 0, col = 0;\r\n      for (let i = start; i <= end; i++) {\r\n        if (this.IN_BOARD(i)) {\r\n          switch (this.displayChessTemp[i]) {\r\n            case 8:\r\n              tag = 'K';\r\n              break;\r\n            case 9:\r\n              tag = 'A';\r\n              break;\r\n            case 10:\r\n              tag = 'B';\r\n              break;\r\n            case 11:\r\n              tag = 'N';\r\n              break;\r\n            case 12:\r\n              tag = 'R';\r\n              break;\r\n            case 13:\r\n              tag = 'C';\r\n              break;\r\n            case 14:\r\n              tag = 'P';\r\n              break;\r\n\r\n            case 16:\r\n              tag = 'k_';\r\n              break;\r\n            case 17:\r\n              tag = 'a_';\r\n              break;\r\n            case 18:\r\n              tag = 'b_';\r\n              break;\r\n            case 19:\r\n              tag = 'n_';\r\n              break;\r\n            case 20:\r\n              tag = 'r_';\r\n              break;\r\n            case 21:\r\n              tag = 'c_';\r\n              break;\r\n            case 22:\r\n              tag = 'p_';\r\n              break;\r\n            case 1:\r\n              tag = 'UNexist';\r\n              break;\r\n            case 0:\r\n              tag = 'UNexist'\r\n              break;\r\n            default:\r\n              tag = 'UNexist'\r\n          }\r\n          row = this.RANK_Y(i)\r\n          col = this.FILE_X(i)\r\n          imgIndex = i - 7 * row - 30\r\n          let imgSrcStr = `/img/chess/${tag}.png`;\r\n          this.imgDomArr[imgIndex].src = imgSrcStr // \r\n          /**/\r\n          tag = '';\r\n          row = 0;\r\n          imgIndex = 0\r\n        }\r\n      }\r\n\r\n    },\r\n    /*displayChessTemp*/\r\n    drawWithSq() {\r\n      let start = this.COORD_XY(3, 3) //51,\r\n      let end = this.COORD_XY(11, 12) //203\r\n      // this.imgDomArr = document.querySelectorAll('div.imgBox img')\r\n      /*tag\r\n      **rowi,col\r\n      **imgIndexi*/\r\n      let tag = '', row = 0, imgIndex = 0, col = 0;\r\n      for (let i = start; i <= end; i++) {\r\n        if (this.IN_BOARD(i)) {\r\n          switch (this.displayChessTemp[i]) {\r\n            case 8:\r\n              tag = 'K';\r\n              break;\r\n            case 9:\r\n              tag = 'A';\r\n              break;\r\n            case 10:\r\n              tag = 'B';\r\n              break;\r\n            case 11:\r\n              tag = 'N';\r\n              break;\r\n            case 12:\r\n              tag = 'R';\r\n              break;\r\n            case 13:\r\n              tag = 'C';\r\n              break;\r\n            case 14:\r\n              tag = 'P';\r\n              break;\r\n\r\n            case 16:\r\n              tag = 'k_';\r\n              break;\r\n            case 17:\r\n              tag = 'a_';\r\n              break;\r\n            case 18:\r\n              tag = 'b_';\r\n              break;\r\n            case 19:\r\n              tag = 'n_';\r\n              break;\r\n            case 20:\r\n              tag = 'r_';\r\n              break;\r\n            case 21:\r\n              tag = 'c_';\r\n              break;\r\n            case 22:\r\n              tag = 'p_';\r\n              break;\r\n            case 1:\r\n              tag = 'UNexist';\r\n              break;\r\n            case 0:\r\n              tag = 'UNexist'\r\n              break;\r\n            default:\r\n              tag = 'UNexist'\r\n          }\r\n          row = this.RANK_Y(i)\r\n          col = this.FILE_X(i)\r\n          imgIndex = i - 7 * row - 30\r\n          let imgSrcStr = `/img/chess/${tag}.png`;\r\n          this.imgDomArr[imgIndex].src = imgSrcStr // \r\n          /**/\r\n          tag = '';\r\n          row = 0;\r\n          imgIndex = 0\r\n        }\r\n      }\r\n    },\r\n    /*sq*/\r\n    imgIndexToSq(imgIndex) {\r\n      let row = Math.floor((imgIndex - 1) / 9) + 3\r\n      return imgIndex + 30 + 7 * row - 1\r\n      // console.log('sq:' + sq);\r\n    },\r\n    /*sqSrcsqDsttruefalse*/\r\n    SAME_HALF(sqSrc, sqDst) {// sqSrcsqDsttruefalse\r\n      return ((sqSrc ^ sqDst) & 0x80) === 0;\r\n    },\r\n    /*\r\n    * dom:dom(chess1Click)\r\n    * 12\r\n    * \r\n    * */\r\n    machineMove(dom1,dom2){\r\n      let fileName1 = dom1.attr('src').slice(11, 12)\r\n      let imgIndex1 = parseInt(dom1.attr('id').slice(3)) + 1\r\n      let chessInfo1 = {//\r\n        displayChess: this.displayChessTemp,\r\n        fileName: fileName1,\r\n        imgIndex: imgIndex1,\r\n        sqSelected: this.imgIndexToSq(imgIndex1)\r\n      }\r\n      this.chess1Click(chessInfo1)//pos0\r\n\r\n      setTimeout(() => {\r\n        let fileName2 = dom2.attr('src').slice(11, 12)\r\n        let imgIndex2 = parseInt(dom2.attr('id').slice(3)) + 1\r\n        let chessInfo2 = {//\r\n          displayChess: this.displayChessTemp,\r\n          fileName: fileName2,\r\n          imgIndex: imgIndex2,\r\n          sqSelected: this.imgIndexToSq(imgIndex2)\r\n        }\r\n        this.chess1Click(chessInfo2)\r\n      },500)\r\n\r\n    },\r\n    /*domarraydom*/\r\n    machine_getSteps(dom) {\r\n      let step = []\r\n      let fileName = dom.attr('src').slice(11, 12)\r\n      let sqSrc = this.imgIndexToSq(parseInt(dom.attr('id').slice(3)) + 1)//\r\n      switch (fileName) {\r\n        case 'k': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          for (let i in KING_DELTA) {// 4\r\n            let sqDst = sqSrc + KING_DELTA[i]; // \r\n            if(!this.IN_BOARD(sqDst)) {//\r\n              continue\r\n            }\r\n            if(this.displayChessTemp[sqDst] < 16 && this.IN_FORT(sqDst)) {\r\n              //\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'a': {\r\n          let ADVISOR_DELTA = [-15, -17, 17, 15];\r\n          for(let i in ADVISOR_DELTA) {\r\n            let sqDst = sqSrc + ADVISOR_DELTA[i]; // \r\n            if(!this.IN_BOARD(sqDst) ) {//\r\n              continue\r\n            }\r\n            if(this.displayChessTemp[sqDst] < 16 && this.IN_FORT(sqDst)) {\r\n              //,\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'b': {\r\n          let BISHOP_DELTA = [-34, -30, 30, 34];\r\n          for(let i in BISHOP_DELTA) {\r\n            let sqDst = sqSrc + BISHOP_DELTA[i]; // \r\n            if(!this.IN_BOARD(sqDst) || !this.SAME_HALF(sqSrc,sqDst)\r\n                || this.displayChessTemp[(sqSrc+sqDst)/2] > 1) {\r\n              //,,\r\n              continue\r\n            }\r\n            if(this.displayChessTemp[sqDst] < 16) {\r\n              //\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'n': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          let KNIGHT_DELTA = [[-33, -31], [-18, 14], [-14, 18], [31, 33]];\r\n          for(let i in KNIGHT_DELTA) {// 4\r\n            let sqDst = sqSrc + KING_DELTA[i]; // \r\n            if(this.displayChessTemp[sqDst] > 1) {\r\n              //\r\n              continue\r\n            }\r\n            for (let j = 0; j < 2; j ++) { // 12\r\n              sqDst = sqSrc + KNIGHT_DELTA[i][j]; // \r\n              if (!this.IN_BOARD(sqDst)) {\r\n                continue;\r\n              }\r\n              if(this.displayChessTemp[sqDst] < 16) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'r': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          for (let i = 0; i < 4; i ++) {\r\n            let delta = KING_DELTA[i];    // \r\n            let sqDst = sqSrc + delta;    // sqSrcdelta\r\n            while (this.IN_BOARD(sqDst)) {\r\n              //\r\n              if(this.displayChessTemp[sqDst] < 16) {\r\n                //,\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n                if(this.displayChessTemp[sqDst] >= 8) {\r\n                  //\r\n                  break\r\n                }\r\n              }\r\n              else break\r\n              sqDst += delta;     // delta\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'c': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          for (let i = 0; i < 4; i ++) {\r\n            let delta = KING_DELTA[i];    // \r\n            let sqDst = sqSrc + delta;    // sqSrcdelta\r\n            while (this.IN_BOARD(sqDst)) {\r\n              if(this.displayChessTemp[sqDst] === 1) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n              else {            // \r\n                break;\r\n              }\r\n              sqDst += delta;     // delta\r\n            }\r\n            sqDst += delta;       // delta\r\n            while (this.IN_BOARD(sqDst)) { // sqDst\r\n              if(this.displayChessTemp[sqDst] >= 8 && this.displayChessTemp[sqDst] < 16) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row - 29 - 1\r\n                let domTemp = $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n                break\r\n              }\r\n              sqDst += delta;\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'p': {\r\n          let PAWN_delta = [16,1,-1] //,/\r\n          let sqDst = sqSrc + PAWN_delta[0]\r\n          if(this.displayChessTemp[sqDst] < 16) {//\r\n            let row = this.RANK_Y(sqDst)\r\n            let imgIndex = sqDst - 7*row -29 - 1\r\n            let domTemp =  $('#pos' + imgIndex)\r\n            step.push(domTemp)\r\n          }\r\n          if(sqSrc >= 131) {//(131\r\n            for (let i = 0; i < 2; i++) {\r\n              sqDst = sqSrc + PAWN_delta[i+1]\r\n              if(this.displayChessTemp[sqDst] < 16) {\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n          }\r\n          break\r\n        }\r\n\r\n        case 'K': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          for (let i in KING_DELTA) {// 4\r\n            let sqDst = sqSrc + KING_DELTA[i]; // \r\n            if(!this.IN_BOARD(sqDst)) {//\r\n              continue\r\n            }\r\n            if(!(this.displayChessTemp[sqDst] & 8) && this.IN_FORT(sqDst)) {\r\n              //\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'A': {\r\n          let ADVISOR_DELTA = [-15, -17, 17, 15];\r\n          for(let i in ADVISOR_DELTA) {\r\n            let sqDst = sqSrc + ADVISOR_DELTA[i]; // \r\n            if(!this.IN_BOARD(sqDst) ) {//\r\n              continue\r\n            }\r\n            if(!(this.displayChessTemp[sqDst] & 8) && this.IN_FORT(sqDst)) {\r\n              //,\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'B': {\r\n          let BISHOP_DELTA = [-34, -30, 30, 34];\r\n          for(let i in BISHOP_DELTA) {\r\n            let sqDst = sqSrc + BISHOP_DELTA[i]; // \r\n            if(!this.IN_BOARD(sqDst) || !this.SAME_HALF(sqSrc,sqDst)\r\n                || this.displayChessTemp[(sqSrc+sqDst)/2] > 1) {\r\n              //,,\r\n              continue\r\n            }\r\n            if(!(this.displayChessTemp[sqDst] & 8)) {\r\n              //\r\n              let row = this.RANK_Y(sqDst)\r\n              let imgIndex = sqDst - 7*row -29 - 1\r\n              let domTemp =  $('#pos' + imgIndex)\r\n              step.push(domTemp)\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'N': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          let KNIGHT_DELTA = [[-33, -31], [-18, 14], [-14, 18], [31, 33]];\r\n          for(let i in KNIGHT_DELTA) {// 4\r\n            let sqDst = sqSrc + KING_DELTA[i]; // \r\n            if(this.displayChessTemp[sqDst] > 1) {\r\n              //\r\n              continue\r\n            }\r\n            for (let j = 0; j < 2; j ++) { // 12\r\n              sqDst = sqSrc + KNIGHT_DELTA[i][j]; // \r\n              if (!this.IN_BOARD(sqDst)) {\r\n                continue;\r\n              }\r\n              if(!(this.displayChessTemp[sqDst] & 8)) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'R': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          for (let i = 0; i < 4; i ++) {\r\n            let delta = KING_DELTA[i];    // \r\n            let sqDst = sqSrc + delta;    // sqSrcdelta\r\n            while (this.IN_BOARD(sqDst)) {\r\n              //\r\n              if(!(this.displayChessTemp[sqDst] & 8)) {\r\n                //,\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n                if(this.displayChessTemp[sqDst] & 16) {\r\n                  //\r\n                  break\r\n                }\r\n              }\r\n              else break\r\n              sqDst += delta;     // delta\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'C': {\r\n          let KING_DELTA= [-16, -1, 1, 16];\r\n          for (let i = 0; i < 4; i ++) {\r\n            let delta = KING_DELTA[i];    // \r\n            let sqDst = sqSrc + delta;    // sqSrcdelta\r\n            while (this.IN_BOARD(sqDst)) {\r\n              if(this.displayChessTemp[sqDst] === 1) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n              else {            // \r\n                break;\r\n              }\r\n              sqDst += delta;     // delta\r\n            }\r\n            sqDst += delta;       // delta\r\n            while (this.IN_BOARD(sqDst)) { // sqDst\r\n              if(this.displayChessTemp[sqDst] & 16) {\r\n                //\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row - 29 - 1\r\n                let domTemp = $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n                break\r\n              }\r\n              sqDst += delta;\r\n            }\r\n          }\r\n          break\r\n        }\r\n        case 'P': {\r\n          let PAWN_delta = [-16,1,-1] //,/\r\n          let sqDst = sqSrc + PAWN_delta[0]\r\n          if(!(this.displayChessTemp[sqDst] & 8)) {//,\r\n            let row = this.RANK_Y(sqDst)\r\n            let imgIndex = sqDst - 7*row -29 - 1\r\n            let domTemp =  $('#pos' + imgIndex)\r\n            step.push(domTemp)\r\n          }\r\n          if(sqSrc < 131) {//(131\r\n            for (let i = 0; i < 2; i++) {\r\n              sqDst = sqSrc + PAWN_delta[i+1]\r\n              if(!(this.displayChessTemp[sqDst] & 8)) {\r\n                let row = this.RANK_Y(sqDst)\r\n                let imgIndex = sqDst - 7*row -29 - 1\r\n                let domTemp =  $('#pos' + imgIndex)\r\n                step.push(domTemp)\r\n              }\r\n            }\r\n          }\r\n          break\r\n        }\r\n        default: step.push(null)\r\n      }\r\n      return step\r\n    },\r\n    /**/\r\n    machine_getPcToBeMoved() {\r\n      let blackAllPc = [], whiteAllPc = []\r\n      let displayChess_evaluate = this.displayChessTemp.map(item => {return item})\r\n      //\r\n      for(let sqSrc in this.displayChessTemp) {\r\n        if(this.displayChessTemp[sqSrc] & 16) {\r\n          blackAllPc.push(sqSrc)\r\n        }\r\n        else if(this.displayChessTemp[sqSrc] & 8) whiteAllPc.push(sqSrc)\r\n      }\r\n      console.log(blackAllPc);\r\n      /**/\r\n      let val2 = 0, maxVal = 0, maxVal2_sqSrc_w, DstDom\r\n      for(let k in whiteAllPc) {\r\n        let sqSrc_w = whiteAllPc[k]//\r\n        // console.log(sqSrc2);\r\n        /**/\r\n        DstDom = this.machine_getExactStep(this.sqToDom(sqSrc_w))\r\n        if(DstDom === undefined) break //\r\n        // console.log(DstDom);\r\n        /**/\r\n        let sqDst_w = this.domToSq(DstDom)\r\n        // console.log(sqDst2);\r\n        let tempNum2 = displayChess_evaluate[sqDst_w]//Num\r\n        displayChess_evaluate[sqDst_w] = displayChess_evaluate[sqSrc_w] //\r\n        displayChess_evaluate[sqSrc_w] = 1//\r\n        val2 = this.machine_evaluate(displayChess_evaluate)//2\r\n        /*val2*/\r\n        if(val2 > maxVal) {\r\n          maxVal = val2 //\r\n          maxVal2_sqSrc_w = sqSrc_w//\r\n        }\r\n        else {\r\n          // minMaxVal2_sqSrc = blackAllPc[i]\r\n          console.log('error');\r\n        }\r\n        displayChess_evaluate[sqSrc_w] = displayChess_evaluate[sqDst_w]//\r\n        displayChess_evaluate[sqDst_w] = tempNum2//\r\n        // break\r\n      }\r\n      console.log(':');\r\n      console.log(this.sqToDom(maxVal2_sqSrc_w));\r\n      console.log(':');\r\n      console.log(this.machine_getExactStep(this.sqToDom(maxVal2_sqSrc_w)));\r\n      console.log('' + maxVal);\r\n\r\n      let sqDst_b,sqSrc_b//\r\n      let val1 = 0,minVal = maxVal\r\n      // let minMaxVal2_sqSrc = blackAllPc[0]//maxVal2()\r\n      for(let i in blackAllPc) {//\r\n        console.log(i);\r\n        if(i == 3) break //4\r\n        let sqSrc = blackAllPc[i]//\r\n        console.log(':');\r\n        console.log(this.sqToDom(sqSrc));\r\n        console.log('');\r\n        /**/\r\n        let stepArray = this.machine_getSteps(this.sqToDom(sqSrc)).map(e => {return e})\r\n        for(let j in stepArray) {//\r\n          /**/\r\n          let sqDst = this.domToSq(stepArray[j])\r\n          console.log(this.sqToDom(sqDst));\r\n\r\n          let sqDst_w = this.domToSq(this.machine_getExactStep(this.sqToDom(maxVal2_sqSrc_w)))//\r\n          console.log('');\r\n          console.log(this.sqToDom(sqDst_w));\r\n          let tempNum3 = displayChess_evaluate[maxVal2_sqSrc_w]//Num\r\n          displayChess_evaluate[sqDst_w] = displayChess_evaluate[maxVal2_sqSrc_w]//\r\n          displayChess_evaluate[maxVal2_sqSrc_w] = 1//\r\n\r\n          let tempNum = displayChess_evaluate[sqDst] //Num\r\n          displayChess_evaluate[sqDst] = displayChess_evaluate[sqSrc] //\r\n          displayChess_evaluate[sqSrc] = 1//\r\n\r\n\r\n          val1 = this.machine_evaluate(displayChess_evaluate)//1\r\n          console.log('' + val1);\r\n          /*val1,maxVal2*/\r\n          if(val1 < minVal) {\r\n            minVal = val1\r\n            sqDst_b = sqDst\r\n            sqSrc_b = sqSrc\r\n            console.log('' + minVal);\r\n          }\r\n          // else console.log('err');\r\n          /**/\r\n          displayChess_evaluate[sqSrc] = displayChess_evaluate[sqDst]//\r\n          displayChess_evaluate[sqDst] = tempNum//\r\n          /**/\r\n          displayChess_evaluate[maxVal2_sqSrc_w] = displayChess_evaluate[sqDst_w]\r\n          displayChess_evaluate[sqDst_w] = tempNum3\r\n          // break\r\n        }\r\n\r\n        // break\r\n      }\r\n      // let randomIndex\r\n      // let randomSrcDom//,\r\n      // while(1) {\r\n      //   randomIndex = Math.floor(Math.random() * blackAllPc.length)//\r\n      //   // let randomSq = blackAllPc[randomIndex]\r\n      //   randomSrcDom = this.sqToDom(blackAllPc[randomIndex])\r\n      //   if(this.machine_getSteps(randomSrcDom).length > 0)\r\n      //     //\r\n      //     break\r\n      // }\r\n      console.log(':');\r\n      console.log(this.sqToDom(sqSrc_b));\r\n      console.log(':');\r\n      console.log(this.sqToDom(sqDst_b));\r\n      // return randomSrcDom\r\n      return [this.sqToDom(sqSrc_b),this.sqToDom(sqDst_b)]\r\n    },\r\n    /*domdom*/\r\n    machine_getExactStep(srcDom) {\r\n      let allWays = this.machine_getSteps(srcDom) //,dom\r\n      /**/\r\n      let displayChess_evaluate = this.displayChessTemp.map((item) => {\r\n        //()\r\n        return item\r\n      })\r\n      if(!this.playerSide) {\r\n        //\r\n        let maxVal = this.machine_evaluate(this.displayChessTemp)\r\n        let randomDstIndex = Math.floor(Math.random() * allWays.length)\r\n        let dstDom = allWays[randomDstIndex]//\r\n        // console.log(srcDom);\r\n        for(let i in allWays) {\r\n          let srcNum = displayChess_evaluate[this.domToSq(srcDom)]//Num\r\n          let sqDst = this.domToSq(allWays[i])//\r\n          let tempNum = displayChess_evaluate[sqDst]//Num\r\n          /*Num*/\r\n          displayChess_evaluate[sqDst] = srcNum\r\n          let currentVal = this.machine_evaluate(displayChess_evaluate)\r\n          // console.log(''+ currentVal);\r\n          if(this.machine_evaluate(displayChess_evaluate) > maxVal) {//\r\n            maxVal = this.machine_evaluate(displayChess_evaluate)//\r\n            dstDom = this.sqToDom(sqDst)//\r\n          }\r\n          // else console.log('');\r\n          displayChess_evaluate[this.domToSq(srcDom)] = srcNum//\r\n          displayChess_evaluate[sqDst] = tempNum//\r\n        }\r\n        return dstDom\r\n      }\r\n      else {\r\n        let minVal = this.machine_evaluate(this.displayChessTemp)\r\n        let randomDstIndex = Math.floor(Math.random() * allWays.length)\r\n        let dstDom = allWays[randomDstIndex]//\r\n        // console.log(srcDom);\r\n        for(let i in allWays) {\r\n          let srcNum = displayChess_evaluate[this.domToSq(srcDom)]//Num\r\n          let sqDst = this.domToSq(allWays[i])//\r\n          let tempNum = displayChess_evaluate[sqDst]//Num\r\n          /*Num*/\r\n          displayChess_evaluate[sqDst] = srcNum\r\n          let currentVal = this.machine_evaluate(displayChess_evaluate)\r\n          if(this.machine_evaluate(displayChess_evaluate) < minVal) {//\r\n            // console.log('------------');\r\n            minVal = this.machine_evaluate(displayChess_evaluate)//\r\n            dstDom = this.sqToDom(sqDst)//\r\n          }\r\n          displayChess_evaluate[this.domToSq(srcDom)] = srcNum//\r\n          displayChess_evaluate[sqDst] = tempNum//\r\n        }\r\n        return dstDom\r\n      }\r\n      // console.log(dstDom);\r\n      // console.log(allWays);\r\n      // console.log(':' + this.machine_evaluate(this.displayChessTemp));\r\n    },\r\n    /*-*/\r\n    machine_evaluate(array) {\r\n      let wVal = this.machine_getVal(array,true), bVal = this.machine_getVal(array,false)\r\n      return wVal - bVal\r\n    },\r\n    /**/\r\n    machine_getVal(array,isWhite) {\r\n      let val = 0\r\n      for(let i in array) {\r\n        if(isWhite) {//\r\n          switch (array[i]) {\r\n            case 8: val += 1000;break\r\n            case 9: val += 20;break\r\n            case 10: val += 20;break\r\n            case 11: val += 45;break\r\n            case 12: val += 90;break\r\n            case 13: val += 40;break\r\n            case 14: val += 10;break\r\n            default: val += 0\r\n          }\r\n        }\r\n        else {\r\n          switch (array[i]) {\r\n            case 16: val += 1000;break\r\n            case 17: val += 20;break\r\n            case 18: val += 20;break\r\n            case 19: val += 45;break\r\n            case 20: val += 90;break\r\n            case 21: val += 40;break\r\n            case 22: val += 10;break\r\n            default: val += 0\r\n          }\r\n        }\r\n      }\r\n      return val\r\n    },\r\n    /*1,2,3,0\r\n    * 1\r\n    * 2\r\n    * 3*/\r\n    machine_passiveSkills() {\r\n      /**/\r\n      return new Promise((resolve,reject) => {\r\n        /**/\r\n        let advisorSum = 0, isEaten = false\r\n        let currentVal = this.machine_evaluate(this.displayChessTemp), isSkill3 = false\r\n        // console.log(this.machine_getVal(this.displayChessTemp, false));\r\n        for(let i in this.displayChessTemp) {\r\n          if(this.displayChessTemp[i] === 22) {\r\n            advisorSum ++\r\n          }\r\n          /**/\r\n          if(this.displayChessTemp[i] & 8 && this.displayChess_Old[i] & 16) {\r\n            //\r\n            if(Math.floor(Math.random() + 0.3)) { //30%\r\n              isEaten = true\r\n              this.displayChessTemp[i] = this.displayChess_Old[i]\r\n            }\r\n          }\r\n          /**/\r\n          if(currentVal > 180 || this.machine_getVal(this.displayChessTemp,false) < 1220) {\r\n            //1220\r\n            isSkill3 = true\r\n            if(this.displayChessTemp[i] === 1) {\r\n              this.displayChessTemp[i] = 22\r\n            }\r\n          }\r\n        }\r\n        if(advisorSum < 3) {\r\n          for(let i = 0,j = 0;i <5;i++,j+=2) {\r\n            let domSq = this.domToSq($(`#pos${27 + j}`))\r\n            // console.log($(`#pos${27 + j}`));\r\n            this.displayChessTemp[domSq] = 22\r\n          }\r\n          document.querySelector('#skill1').play()\r\n          setTimeout(() => {\r\n            this.drawWithSq()\r\n            // let chessInfo = null\r\n            this.chess1Click(null)\r\n            resolve(1)\r\n          },3000)\r\n        }\r\n        /**/\r\n        else if(isEaten) {\r\n          document.querySelector('#skill2').play()\r\n          setTimeout(() => {\r\n            this.drawWithSq()\r\n            // let chessInfo = null\r\n            this.chess1Click(null)\r\n            resolve(2)\r\n          },3000)\r\n        }\r\n        /**/\r\n        else if(isSkill3) {\r\n          document.querySelector('#skill3').play()\r\n          setTimeout(() => {\r\n            this.drawWithSq()\r\n            // let chessInfo = null\r\n            this.chess1Click(null)\r\n            resolve(3)\r\n          },3000)\r\n        }\r\n        else resolve(0)\r\n      })\r\n    },\r\n    /*sqdom*/\r\n    sqToDom(sq) {\r\n      let row = this.RANK_Y(sq)\r\n      let imgIndex = sq - 7*row -29 - 1\r\n      // let domTemp =  $('#pos' + imgIndex)\r\n      return $('#pos' + imgIndex)\r\n    },\r\n    /*domsq*/\r\n    domToSq(dom) {\r\n      let imgIndex = parseInt(dom.attr('id').slice(3)) + 1\r\n      return this.imgIndexToSq(imgIndex)\r\n    },\r\n    sureInput() {\r\n      let newFEN = this.userInput\r\n      this.drawWithFEN(newFEN)\r\n    },\r\n    test2() {\r\n      let newFEN = '1n1akabnr/r8/9/9/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR'\r\n      this.drawWithFEN(newFEN)\r\n    },\r\n    btnClick2() {\r\n      document.querySelectorAll('.audioBx li > audio').forEach((e) => {\r\n        e.play()\r\n      })\r\n    },\r\n    chess1Click(info) {\r\n      // console.log(info);\r\n      this.$emit('show', info)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.input-box {\r\n  background-color: #1a6aa6;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  padding: 0 0 0 15px;\r\n  overflow: hidden;\r\n  height: 5ch;\r\n\r\n\r\n  i::before {\r\n    font-size: 1.5ch;\r\n    color: white;\r\n  }\r\n\r\n  input {\r\n    border: none;\r\n    box-sizing: border-box;\r\n    background: none;\r\n    color: white;\r\n    outline: none;\r\n    margin-left: 5px;\r\n    padding: 5px;\r\n    width: 100%;\r\n  }\r\n\r\n  input::placeholder {\r\n    color: white;\r\n  }\r\n\r\n  div {\r\n    background-color: #e0e1e2;\r\n    cursor: pointer;\r\n    color: #5a5a5a;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 5px 10px;\r\n    width: 20%;\r\n    font-weight: 600;\r\n    justify-content: center;\r\n  }\r\n\r\n  div:hover {\r\n    background-color: #cacbcd;\r\n  }\r\n}\r\n.f1 {\r\n  margin: 0 5px;\r\n  border: none;\r\n  box-sizing: border-box;\r\n  padding: 13px 10px;\r\n  color: white;\r\n  background-color: #1a6aa6;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n.f1:hover {\r\n  background-color: #12609b;\r\n}\r\n.chessBoard {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  width: 65%;\r\n  padding: 0.2vw;\r\n  border: 2px solid black;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  margin: auto;\r\n  .myFontBox {\r\n    font-family: 'LiShu',serif;\r\n    position: absolute;\r\n    top: 46%;\r\n    left: 50%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    width: 100%;\r\n    transform: translateX(-50%);\r\n    font-size: 3vw;\r\n    div {\r\n    }\r\n  }\r\n  .imgBox {\r\n    width: 11.1%;\r\n    box-sizing: border-box;\r\n    padding: 0.2vw;\r\n    //border: 1px solid black;\r\n    background: url(\"../public/img/chess/bc.png\");\r\n    background-size: 100%;\r\n\r\n    img {\r\n      width: 100%;\r\n      cursor: pointer;\r\n\r\n    }\r\n\r\n    :hover {\r\n      transform: scale(1.1);\r\n    }\r\n  }\r\n\r\n  :nth-child(n+37):nth-child(-n+54) {\r\n    //border: none;\r\n    //background: none;\r\n    //background-image: url(\"../public/img/chess/bc-down.png\");\r\n    background-size: 100%;\r\n    background-repeat: no-repeat;\r\n    //margin: 10px 0;\r\n    //padding: 0;\r\n    //display: flex;\r\n    //justify-content: center;\r\n    //align-items: center;\r\n    img {\r\n      //cursor: default;\r\n      //width: 80%;\r\n\r\n    }\r\n  }\r\n  :nth-child(n+37):nth-child(-n+45) {\r\n    margin: -10px 0 10px 0;\r\n    background-image: url('../public/img/chess/bc-up.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n  }\r\n  :nth-child(n+46):nth-child(-n+54) {\r\n    background-image: url('../public/img/chess/bc-down.png');\r\n    margin: 10px 0 -10px 0;\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n  }\r\n}\r\n\r\n@font-face {\r\n  font-family: 'LiShu';\r\n  //src: url('YourWebFontName.eot'); /* IE9 Compat Modes */\r\n  //src: url('YourWebFontName.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\r\n  src: url('../public/css/LiShu/LiShu.woff') format('woff'), /* Modern Browsers */\r\n  url('../public/css/LiShu/LiShu.ttf')  format('truetype'), /* Safari, Android, iOS */\r\n  url(\"../public/css/LiShu/LiShu.svg\")  format('svg'); /* Legacy iOS */\r\n}\r\n</style>"]}]}